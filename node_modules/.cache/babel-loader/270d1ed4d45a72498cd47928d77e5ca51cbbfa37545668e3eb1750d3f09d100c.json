{"ast":null,"code":"import _objectSpread from\"/run/media/thobbs/EastManPhoenyXP/WALEKI_FRONTEND/WALEKI-FRONT/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo}from\"react\";import{Activity,Signal,Droplets,AlertTriangle,CheckCircle,XCircle,Clock}from\"lucide-react\";import{ref,onValue,set}from\"firebase/database\";import{database}from\"../../config/firebase\";import Tooltip from\"../../components/Tooltip\";import{Edit}from\"lucide-react\";// import { useNavigate } from \"react-router-dom\"; // Unused after header removal\n// Cleaned up unused import\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Monitor=()=>{var _nodeStats$find2;// const navigate = useNavigate(); // Unused\nconst[filter,setFilter]=useState(\"all\");const[searchTerm,setSearchTerm]=useState(\"\");const[selectedNodeView,setSelectedNodeView]=useState(\"all\");const[sortBy,setSortBy]=useState(\"time\");const[allReadings,setAllReadings]=useState([]);const[allNodes,setAllNodes]=useState([]);const[loading,setLoading]=useState(true);const[editModal,setEditModal]=useState(null);const[cableLength,setCableLength]=useState(\"\");const[toast,setToast]=useState(null);const showToast=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'success';setToast({message,type});};// const handleRefresh = () => { // Unused\n//   window.location.reload();\n// };\n// Fetch data from Firebase\nuseEffect(()=>{console.log(\"ðŸ“¡ Loading monitor data from Firebase...\");const rootRef=ref(database);const unsubscribe=onValue(rootRef,snapshot=>{if(snapshot.exists()){const data=snapshot.val();const readings=[];const nodesList=[];// Get node configurations from config.nodes\nif(data.config&&data.config.nodes){Object.keys(data.config.nodes).forEach(key=>{const nodeConfig=data.config.nodes[key];nodesList.push({name:key,activated:nodeConfig.activated||false,h1_m:nodeConfig.h1_m||0});});}console.log(\"\\uD83D\\uDCCD Found \".concat(nodesList.length,\" nodes:\"),nodesList);// Process LoRaSensor data\nif(data.LoRaSensor){Object.keys(data.LoRaSensor).forEach(nodeKey=>{const nodeData=data.LoRaSensor[nodeKey];const nodeInfo=nodesList.find(n=>n.name===nodeKey)||{name:nodeKey,activated:false,h1_m:0};if(typeof nodeData==='object'&&nodeData!==null){Object.keys(nodeData).forEach(timestamp=>{const reading=nodeData[timestamp];if(!reading||typeof reading!=='object')return;let depth_m=0;// Parse RawData string\nif(reading.RawData&&typeof reading.RawData==='string'){const depthMatch=reading.RawData.match(/Depth=([\\d.]+)m/);if(depthMatch)depth_m=parseFloat(depthMatch[1]);}const h2_m=depth_m;// Correct Water Height Calculation\n// h1 = cable length (depth to cable end)\n// h2 = sensor reading (depth to water surface)\n// If h2 < h1: water present, Height = h1 - h2\n// If h2 >= h1: no water or error\nlet waterHeight=0;if(h2_m<nodeInfo.h1_m){waterHeight=Math.max(0,nodeInfo.h1_m-h2_m);}else{waterHeight=0;// Sensor reading deeper than cable = no water\n}// Determine status based on water height\nlet status=\"inactive\";if(nodeInfo.activated){if(waterHeight<=0){status=\"critical\";}else if(waterHeight<5){status=\"warning\";}else if(waterHeight<10){status=\"warning\";}else{status=\"active\";}}const parsedDate=new Date(timestamp);if(isNaN(parsedDate.getTime())){console.warn(\"Invalid timestamp: \".concat(timestamp));return;}readings.push({id:\"\".concat(nodeKey,\"-\").concat(timestamp),node:nodeKey,nodeStatus:status,timestamp:timestamp,date:parsedDate,waterHeightM:parseFloat(waterHeight.toFixed(2)),waterHeightFt:parseFloat((waterHeight*3.28084).toFixed(2)),h1:nodeInfo.h1_m,h2:parseFloat(h2_m.toFixed(2)),depth_m:parseFloat(depth_m.toFixed(2)),activated:nodeInfo.activated,region:\"Arusha, Tanzania\"});});}});}// Sort by most recent first\nreadings.sort((a,b)=>b.date-a.date);setAllReadings(readings);setAllNodes(nodesList);// setLastUpdate(new Date());\nconsole.log(\"\\u2705 Loaded \".concat(readings.length,\" readings from \").concat(nodesList.length,\" nodes\"));}else{console.log(\"âš ï¸ No data found in Firebase\");}setLoading(false);},error=>{console.error(\"âŒ Firebase error:\",error);setLoading(false);});return()=>unsubscribe();},[]);// Auto-refresh timestamp - Removed as lastUpdate is unused\n// useEffect(() => {\n//   if (!autoRefresh) return;\n//   const interval = setInterval(() => {\n//     // setLastUpdate(new Date());\n//   }, 30000);\n//   return () => clearInterval(interval);\n// }, [autoRefresh]);\n// Filter and sort readings\nconst filteredData=useMemo(()=>{let result=[...allReadings];// Filter by selected node view\nif(selectedNodeView!==\"all\"){result=result.filter(item=>item.node===selectedNodeView);}if(filter!==\"all\"){const now=new Date();if(filter===\"today\"){result=result.filter(item=>item.date.toDateString()===now.toDateString());}else if(filter===\"week\"){const weekAgo=new Date(now.getTime()-7*24*60*60*1000);result=result.filter(item=>item.date>=weekAgo);}else if(filter===\"month\"){const monthAgo=new Date(now.getTime()-30*24*60*60*1000);result=result.filter(item=>item.date>=monthAgo);}}if(searchTerm){result=result.filter(item=>item.node.toLowerCase().includes(searchTerm.toLowerCase())||item.region.toLowerCase().includes(searchTerm.toLowerCase()));}if(sortBy===\"level-high\"){result.sort((a,b)=>b.waterHeightM-a.waterHeightM);}else if(sortBy===\"level-low\"){result.sort((a,b)=>a.waterHeightM-b.waterHeightM);}else if(sortBy===\"status\"){const statusOrder={critical:0,warning:1,active:2,inactive:3};result.sort((a,b)=>statusOrder[a.nodeStatus]-statusOrder[b.nodeStatus]);}else{result.sort((a,b)=>b.date-a.date);}return result;},[allReadings,filter,searchTerm,sortBy,selectedNodeView]);// Calculate node statistics\nconst nodeStats=useMemo(()=>{const stats={};allNodes.forEach(node=>{stats[node.name]={name:node.name,count:0,avgHeight:0,maxHeight:0,minHeight:Infinity,lastReading:null,status:node.activated?\"active\":\"inactive\",activated:node.activated,h1_m:node.h1_m,latestStatus:\"inactive\"};});// Use allReadings instead of filteredData to get accurate stats for all nodes\nallReadings.forEach(item=>{if(stats[item.node]){stats[item.node].count++;if(item.activated){stats[item.node].avgHeight+=item.waterHeightM;}stats[item.node].maxHeight=Math.max(stats[item.node].maxHeight,item.waterHeightM);stats[item.node].minHeight=Math.min(stats[item.node].minHeight,item.waterHeightM);if(!stats[item.node].lastReading||item.date>new Date(stats[item.node].lastReading)){stats[item.node].lastReading=item.timestamp;stats[item.node].latestStatus=item.nodeStatus;}}});Object.keys(stats).forEach(key=>{if(stats[key].count>0){const activatedCount=allReadings.filter(r=>r.node===key&&r.activated).length;stats[key].avgHeight=activatedCount>0?parseFloat((stats[key].avgHeight/activatedCount).toFixed(2)):0;if(stats[key].minHeight===Infinity)stats[key].minHeight=0;}else{stats[key].minHeight=0;}});return Object.values(stats);return Object.values(stats);},[allReadings,allNodes]);// Edit cable length\nconst handleEditCableLength=node=>{var _node$h1_m;// Find the node active stats to show current values\nconst nodeStat=nodeStats.find(n=>n.name===node.name);setEditModal(_objectSpread(_objectSpread({},nodeStat),node));setCableLength(((_node$h1_m=node.h1_m)===null||_node$h1_m===void 0?void 0:_node$h1_m.toString())||\"\");};const handleUpdateCableLength=async()=>{if(!cableLength||parseFloat(cableLength)<=0){showToast(\"Please enter a valid cable length\",'error');return;}try{const nodeConfigRef=ref(database,\"config/nodes/\".concat(editModal.name,\"/h1_m\"));await set(nodeConfigRef,parseFloat(cableLength));setEditModal(null);setCableLength(\"\");showToast(\"Cable length updated for \".concat(editModal.name),'success');}catch(error){console.error(\"âŒ Error updating cable length:\",error);showToast(\"Failed to update cable length\",'error');}};// Toast component since it's not imported\nconst Toast=_ref=>{let{message,type,onClose}=_ref;useEffect(()=>{const timer=setTimeout(onClose,3000);return()=>clearTimeout(timer);},[onClose]);const bgColor=type==='success'?'#16A34A':type==='error'?'#DC2626':'#000';return/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',top:'24px',right:'24px',background:bgColor,color:'white',padding:'16px 24px',borderRadius:'12px',boxShadow:'0 8px 24px rgba(0,0,0,0.2)',zIndex:10000,display:'flex',alignItems:'center',gap:'12px',animation:'slideIn 0.3s ease',minWidth:'300px'},children:[type==='success'?/*#__PURE__*/_jsx(CheckCircle,{size:20}):/*#__PURE__*/_jsx(AlertTriangle,{size:20}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'14px',fontWeight:600},children:message})]});};const getStatusColor=status=>{switch(status){case\"active\":return\"#16A34A\";case\"warning\":return\"#D97706\";case\"critical\":return\"#DC2626\";case\"inactive\":return\"#999\";default:return\"#999\";}};const getStatusIcon=status=>{switch(status){case\"active\":return/*#__PURE__*/_jsx(CheckCircle,{size:16});case\"warning\":return/*#__PURE__*/_jsx(AlertTriangle,{size:16});case\"critical\":return/*#__PURE__*/_jsx(XCircle,{size:16});case\"inactive\":return/*#__PURE__*/_jsx(Activity,{size:16});default:return/*#__PURE__*/_jsx(Activity,{size:16});}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',height:'100vh',flexDirection:'column',gap:'16px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',border:'3px solid #F0F0F0',borderTopColor:'#000',borderRadius:'50%',animation:'spin 0.8s linear infinite'}}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',color:'#666',fontWeight:500},children:\"Loading monitor data...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"monitor-page\",children:[/*#__PURE__*/_jsx(\"style\",{jsx:true,children:\"\\n        @keyframes spin {\\n          to { transform: rotate(360deg); }\\n        }\\n        \\n        @keyframes slideIn {\\n          from {\\n            transform: translateX(400px);\\n            opacity: 0;\\n          }\\n          to {\\n            transform: translateX(0);\\n            opacity: 1;\\n          }\\n        }\\n\\n        @keyframes pulse {\\n          0%, 100% { opacity: 1; transform: scale(1); }\\n          50% { opacity: 0.5; transform: scale(1.1); }\\n        }\\n\\n        .monitor-page {\\n          min-height: 100vh;\\n          background: #FAFAFA;\\n          padding: 24px;\\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\\n        }\\n\\n        /* Header */\\n        .monitor-header {\\n          background: white;\\n          border-radius: 16px;\\n          padding: 32px;\\n          margin-bottom: 24px;\\n          border: 1px solid #E8E8E8;\\n        }\\n\\n        .header-top {\\n          display: flex;\\n          align-items: center;\\n          justify-content: space-between;\\n          margin-bottom: 16px;\\n        }\\n\\n        .header-left {\\n          display: flex;\\n          align-items: center;\\n          gap: 16px;\\n        }\\n\\n        .header-icon {\\n          width: 48px;\\n          height: 48px;\\n          background: #00cf45bc;\\n          border-radius: 12px;\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          position: relative;\\n        }\\n\\n        .pulse-indicator {\\n          position: absolute;\\n          top: -4px;\\n          right: -4px;\\n          width: 12px;\\n          height: 12px;\\n          background: #16A34A;\\n          border-radius: 50%;\\n          border: 2px solid white;\\n          animation: pulse 2s ease-in-out infinite;\\n        }\\n\\n        .header-text h1 {\\n          font-size: 24px;\\n          font-weight: 700;\\n          color: #000;\\n          margin-bottom: 4px;\\n          letter-spacing: -0.5px;\\n        }\\n\\n        .header-text p {\\n          font-size: 13px;\\n          color: #666;\\n          font-weight: 500;\\n        }\\n\\n        .header-actions {\\n          display: flex;\\n          gap: 12px;\\n        }\\n\\n        .btn-header {\\n          padding: 10px 20px;\\n          border-radius: 10px;\\n          font-size: 14px;\\n          font-weight: 600;\\n          cursor: pointer;\\n          border: none;\\n          display: flex;\\n          align-items: center;\\n          gap: 8px;\\n          transition: all 0.2s ease;\\n        }\\n\\n        .btn-primary {\\n          background: #00cf45bc;\\n          color: white;\\n        }\\n\\n        .btn-primary:hover {\\n          background: #333;\\n          transform: translateY(-1px);\\n        }\\n\\n        .btn-secondary {\\n          background: white;\\n          color: #000;\\n          border: 2px solid #E8E8E8;\\n        }\\n\\n        .btn-secondary:hover {\\n          border-color: #00cf45bc;\\n        }\\n\\n        .header-info {\\n          display: flex;\\n          align-items: center;\\n          gap: 24px;\\n        }\\n\\n        .info-item {\\n          display: flex;\\n          align-items: center;\\n          gap: 8px;\\n          padding: 12px 16px;\\n          background: #FAFAFA;\\n          border-radius: 10px;\\n        }\\n\\n        .info-label {\\n          font-size: 12px;\\n          color: #999;\\n          font-weight: 600;\\n        }\\n\\n        .info-value {\\n          font-size: 16px;\\n          font-weight: 700;\\n          color: #000;\\n        }\\n\\n        /* Stats */\\n        .stats-grid {\\n          display: grid;\\n          grid-template-columns: repeat(3, 1fr);\\n          gap: 16px;\\n          margin-bottom: 24px;\\n        }\\n\\n        .stat-card {\\n          background: white;\\n          border-radius: 16px;\\n          padding: 24px;\\n          border: 1px solid #E8E8E8;\\n          transition: all 0.2s ease;\\n        }\\n\\n        .stat-card:hover {\\n          transform: translateY(-2px);\\n          box-shadow: 0 8px 24px rgba(0,0,0,0.06);\\n        }\\n\\n        .stat-icon {\\n          width: 40px;\\n          height: 40px;\\n          background: #F5F5F5;\\n          border-radius: 10px;\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          margin-bottom: 16px;\\n        }\\n\\n        .stat-label {\\n          font-size: 12px;\\n          color: #999;\\n          font-weight: 700;\\n          text-transform: uppercase;\\n          letter-spacing: 0.5px;\\n          margin-bottom: 8px;\\n        }\\n\\n        .stat-value {\\n          font-size: 32px;\\n          font-weight: 700;\\n          color: #000;\\n          letter-spacing: -0.5px;\\n        }\\n\\n        .stat-unit {\\n          font-size: 16px;\\n          color: #666;\\n          margin-left: 4px;\\n        }\\n\\n        /* Node Selector */\\n        .node-selector-card {\\n          background: white;\\n          border-radius: 16px;\\n          padding: 24px;\\n          margin-bottom: 24px;\\n          border: 1px solid #E8E8E8;\\n        }\\n\\n        .node-selector-header {\\n          display: flex;\\n          align-items: center;\\n          justify-content: space-between;\\n          margin-bottom: 16px;\\n        }\\n\\n        .node-selector-title {\\n          font-size: 14px;\\n          font-weight: 700;\\n          color: #000;\\n          text-transform: uppercase;\\n          letter-spacing: 0.5px;\\n          display: flex;\\n          align-items: center;\\n          gap: 8px;\\n        }\\n\\n        .node-selector-info {\\n          font-size: 12px;\\n          color: #666;\\n          font-weight: 600;\\n        }\\n\\n        .node-selector-buttons {\\n          display: flex;\\n          gap: 12px;\\n          flex-wrap: wrap;\\n        }\\n\\n        .node-btn {\\n          flex: 1;\\n          min-width: 180px;\\n          padding: 16px 20px;\\n          border-radius: 12px;\\n          border: 2px solid #E8E8E8;\\n          background: white;\\n          cursor: pointer;\\n          transition: all 0.2s ease;\\n          display: flex;\\n          align-items: center;\\n          gap: 12px;\\n        }\\n\\n        .node-btn:hover {\\n          border-color: #00cf45bc;\\n          transform: translateY(-2px);\\n          box-shadow: 0 4px 12px rgba(0,0,0,0.08);\\n        }\\n\\n        .node-btn-inactive {\\n          border-color: #E8E8E8;\\n        }\\n\\n        .node-btn-active {\\n          border-color: #00cf45bc;\\n          background: #00cf45bc;\\n        }\\n\\n        .node-btn-active .node-btn-name {\\n          color: white;\\n        }\\n\\n        .node-btn-active .node-btn-count {\\n          color: rgba(255,255,255,0.7);\\n        }\\n\\n        .node-btn-indicator {\\n          width: 12px;\\n          height: 12px;\\n          border-radius: 50%;\\n          flex-shrink: 0;\\n        }\\n\\n        .node-btn-name {\\n          font-size: 14px;\\n          font-weight: 700;\\n          color: #000;\\n          margin-bottom: 2px;\\n        }\\n\\n        .node-btn-count {\\n          font-size: 11px;\\n          color: #999;\\n          font-weight: 600;\\n        }\\n\\n        /* Filters */\\n        .filters-card {\\n          background: white;\\n          border-radius: 16px;\\n          padding: 24px;\\n          margin-bottom: 24px;\\n          border: 1px solid #E8E8E8;\\n        }\\n\\n        .filters-grid {\\n          display: grid;\\n          grid-template-columns: repeat(3, 1fr);\\n          gap: 20px;\\n        }\\n\\n        .filter-group label {\\n          display: block;\\n          font-size: 12px;\\n          font-weight: 700;\\n          color: #000;\\n          text-transform: uppercase;\\n          letter-spacing: 0.5px;\\n          margin-bottom: 8px;\\n        }\\n\\n        .filter-buttons {\\n          display: flex;\\n          gap: 8px;\\n          flex-wrap: wrap;\\n        }\\n\\n        .filter-btn {\\n          padding: 8px 16px;\\n          border-radius: 8px;\\n          font-size: 13px;\\n          font-weight: 600;\\n          border: none;\\n          cursor: pointer;\\n          transition: all 0.2s ease;\\n        }\\n\\n        .filter-btn-inactive {\\n          background: #F5F5F5;\\n          color: #666;\\n        }\\n\\n        .filter-btn-active {\\n          background: green;\\n          color: white;\\n        }\\n\\n        .filter-input {\\n          width: 100%;\\n          padding: 10px 14px;\\n          border: 1px solid #E8E8E8;\\n          border-radius: 10px;\\n          font-size: 14px;\\n          outline: none;\\n        }\\n\\n        .filter-input:focus {\\n          border-color: #00cf45bc;\\n        }\\n\\n        .filter-select {\\n          width: 100%;\\n          padding: 10px 14px;\\n          border: 1px solid #E8E8E8;\\n          border-radius: 10px;\\n          font-size: 14px;\\n          outline: none;\\n          cursor: pointer;\\n          background: white;\\n          font-weight: 600;\\n        }\\n\\n        /* Node Status Cards */\\n        .nodes-section {\\n          margin-bottom: 24px;\\n        }\\n\\n        .section-header {\\n          display: flex;\\n          align-items: center;\\n          justify-content: space-between;\\n          margin-bottom: 16px;\\n        }\\n\\n        .section-title {\\n          font-size: 18px;\\n          font-weight: 700;\\n          color: #000;\\n          letter-spacing: -0.3px;\\n        }\\n\\n        .section-badge {\\n          padding: 6px 12px;\\n          background: #00cf45bc;\\n          color: white;\\n          border-radius: 8px;\\n          font-size: 12px;\\n          font-weight: 600;\\n        }\\n\\n        .nodes-grid {\\n          display: grid;\\n          grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));\\n          gap: 20px;\\n          margin-bottom: 24px;\\n        }\\n\\n        .node-status-card {\\n          background: white;\\n          border-radius: 16px;\\n          padding: 24px;\\n          border: 1px solid #E8E8E8;\\n          transition: all 0.2s ease;\\n        }\\n\\n        .node-status-card:hover {\\n          transform: translateY(-2px);\\n          box-shadow: 0 8px 24px rgba(0,0,0,0.06);\\n        }\\n\\n        .node-header {\\n          display: flex;\\n          align-items: center;\\n          justify-content: space-between;\\n          margin-bottom: 20px;\\n        }\\n\\n        .node-name {\\n          font-size: 18px;\\n          font-weight: 700;\\n          color: #000;\\n        }\\n\\n        .node-status-badge {\\n          display: flex;\\n          align-items: center;\\n          gap: 6px;\\n          padding: 6px 12px;\\n          border-radius: 8px;\\n          font-size: 12px;\\n          font-weight: 700;\\n          text-transform: uppercase;\\n        }\\n\\n        .btn-icon-small {\\n          width: 28px;\\n          height: 28px;\\n          border-radius: 8px;\\n          background: #F5F5F5;\\n          border: 1px solid #E8E8E8;\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          cursor: pointer;\\n          color: #666;\\n          transition: all 0.2s ease;\\n        }\\n\\n        .btn-icon-small:hover {\\n          background: #E8E8E8;\\n          color: #00cf45bc;\\n          border-color: #00cf45bc;\\n        }\\n\\n        .modal-overlay {\\n          position: fixed;\\n          top: 0;\\n          left: 0;\\n          right: 0;\\n          bottom: 0;\\n          background: rgba(0, 0, 0, 0.6);\\n          display: flex;\\n          justify-content: center;\\n          align-items: center;\\n          z-index: 1000;\\n          padding: 24px;\\n        }\\n\\n        .modal-content {\\n          background: white;\\n          padding: 32px;\\n          border-radius: 20px;\\n          max-width: 500px;\\n          width: 100%;\\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\\n        }\\n\\n        .modal-header {\\n          margin-bottom: 24px;\\n        }\\n\\n        .modal-title {\\n          font-size: 24px;\\n          font-weight: 700;\\n          color: #000;\\n          margin-bottom: 8px;\\n          letter-spacing: -0.5px;\\n        }\\n\\n        .modal-subtitle {\\n          font-size: 14px;\\n          color: #666;\\n        }\\n\\n        .modal-info {\\n          padding: 20px;\\n          background: #FAFAFA;\\n          border-radius: 12px;\\n          margin-bottom: 24px;\\n          border: 1px solid #E8E8E8;\\n        }\\n\\n        .modal-info p {\\n          color: #666;\\n          font-size: 13px;\\n          line-height: 1.8;\\n          margin: 0;\\n        }\\n\\n        .form-group {\\n          margin-bottom: 24px;\\n        }\\n\\n        .form-label {\\n          display: block;\\n          margin-bottom: 8px;\\n          font-weight: 700;\\n          color: #000;\\n          font-size: 13px;\\n          text-transform: uppercase;\\n          letter-spacing: 0.3px;\\n        }\\n\\n        .form-input {\\n          width: 100%;\\n          padding: 14px;\\n          border: 2px solid #E8E8E8;\\n          border-radius: 10px;\\n          font-size: 16px;\\n          font-weight: 600;\\n          outline: none;\\n          transition: all 0.2s ease;\\n        }\\n\\n        .form-input:focus {\\n          border-color: #000;\\n        }\\n\\n        .modal-actions {\\n          display: flex;\\n          gap: 12px;\\n        }\\n\\n        .btn-modal {\\n          flex: 1;\\n          padding: 14px;\\n          border-radius: 10px;\\n          font-weight: 600;\\n          font-size: 14px;\\n          cursor: pointer;\\n          border: none;\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          gap: 8px;\\n          transition: all 0.2s ease;\\n        }\\n\\n        .btn-modal-dark {\\n          background: #000;\\n          color: white;\\n        }\\n\\n        .btn-modal-dark:hover {\\n          background: #333;\\n        }\\n\\n        .btn-modal-cancel {\\n          background: #F5F5F5;\\n          color: #666;\\n        }\\n\\n        .btn-modal-cancel:hover {\\n          background: #E8E8E8;\\n        }\\n\\n        .node-metrics {\\n          display: grid;\\n          grid-template-columns: repeat(2, 1fr);\\n          gap: 12px;\\n          margin-bottom: 16px;\\n        }\\n\\n        .node-metric {\\n          padding: 12px;\\n          background: #FAFAFA;\\n          border-radius: 10px;\\n        }\\n\\n        .node-metric-label {\\n          font-size: 11px;\\n          color: #999;\\n          font-weight: 700;\\n          text-transform: uppercase;\\n          margin-bottom: 4px;\\n        }\\n\\n        .node-metric-value {\\n          font-size: 20px;\\n          font-weight: 700;\\n          color: #000;\\n          letter-spacing: -0.3px;\\n        }\\n\\n        .node-footer {\\n          padding-top: 16px;\\n          border-top: 1px solid #F0F0F0;\\n          display: flex;\\n          align-items: center;\\n          justify-content: space-between;\\n          font-size: 12px;\\n        }\\n\\n        .node-readings-count {\\n          color: #999;\\n          font-weight: 600;\\n        }\\n\\n        .node-last-update {\\n          color: #666;\\n          font-weight: 600;\\n          display: flex;\\n          align-items: center;\\n          gap: 4px;\\n        }\\n\\n        /* Recent Readings */\\n        .readings-section h2 {\\n          font-size: 18px;\\n          font-weight: 700;\\n          color: #000;\\n          margin-bottom: 16px;\\n          letter-spacing: -0.3px;\\n        }\\n\\n        .header-info {\\n          display: flex;\\n          flex-direction: column;\\n          gap: 8px;\\n        }\\n\\n        .page-title {\\n          font-size: 24px;\\n          font-weight: 700;\\n          color: #000;\\n          margin: 0;\\n          letter-spacing: -0.5px;\\n        }\\n\\n        .page-subtitle {\\n          font-size: 13px;\\n          color: #666;\\n          font-weight: 500;\\n          margin: 0;\\n        }\\n\\n        .live-badge {\\n          display: inline-flex;\\n          align-items: center;\\n          gap: 8px;\\n          padding: 6px 14px;\\n          background: linear-gradient(135deg, #dc2626, #ef4444);\\n          color: white;\\n          border-radius: 20px;\\n          font-size: 11px;\\n          font-weight: 700;\\n          letter-spacing: 0.5px;\\n          box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);\\n        }\\n\\n        .pulse-dot {\\n          width: 8px;\\n          height: 8px;\\n          background: white;\\n          border-radius: 50%;\\n          animation: pulse 2s ease-in-out infinite;\\n        }\\n\\n        .readings-list {\\n          display: flex;\\n          flex-direction: column;\\n          gap: 12px;\\n        }\\n\\n        .reading-card {\\n          background: white;\\n          border-radius: 12px;\\n          padding: 20px;\\n          border: 1px solid #E8E8E8;\\n          transition: all 0.2s ease;\\n        }\\n\\n        .reading-card:hover {\\n          transform: translateY(-2px);\\n          box-shadow: 0 4px 12px rgba(0,0,0,0.06);\\n        }\\n\\n        .reading-header {\\n          display: flex;\\n          align-items: center;\\n          justify-content: space-between;\\n          margin-bottom: 16px;\\n        }\\n\\n        .reading-node {\\n          display: flex;\\n          align-items: center;\\n          gap: 10px;\\n        }\\n\\n        .reading-node-name {\\n          font-size: 16px;\\n          font-weight: 700;\\n          color: #000;\\n        }\\n\\n        .status-badge {\\n          padding: 4px 10px;\\n          border-radius: 6px;\\n          font-size: 10px;\\n          font-weight: 700;\\n          text-transform: uppercase;\\n          letter-spacing: 0.5px;\\n          display: flex;\\n          align-items: center;\\n          gap: 4px;\\n        }\\n\\n        .reading-time {\\n          font-size: 12px;\\n          color: #999;\\n          display: flex;\\n          align-items: center;\\n          gap: 4px;\\n        }\\n\\n        .reading-metrics {\\n          display: grid;\\n          grid-template-columns: repeat(2, 1fr);\\n          gap: 12px;\\n        }\\n\\n        .reading-metric {\\n          padding: 12px;\\n          background: #FAFAFA;\\n          border-radius: 8px;\\n          text-align: center;\\n        }\\n\\n        .reading-metric-label {\\n          font-size: 10px;\\n          color: #999;\\n          font-weight: 700;\\n          text-transform: uppercase;\\n          margin-bottom: 6px;\\n        }\\n\\n        .reading-metric-value {\\n          font-size: 18px;\\n          font-weight: 700;\\n          color: #000;\\n          letter-spacing: -0.2px;\\n        }\\n\\n        /* Empty State */\\n        .empty-state {\\n          background: white;\\n          border-radius: 16px;\\n          padding: 60px;\\n          text-align: center;\\n          border: 2px dashed #E8E8E8;\\n          grid-column: 1 / -1;\\n        }\\n\\n        .empty-state h3 {\\n          font-size: 18px;\\n          font-weight: 700;\\n          color: #000;\\n          margin-bottom: 8px;\\n        }\\n\\n        .empty-state p {\\n          font-size: 14px;\\n          color: #999;\\n        }\\n\\n        /* Responsive */\\n        @media (max-width: 1200px) {\\n          .stats-grid {\\n            grid-template-columns: repeat(3, 1fr);\\n          }\\n          .node-selector-buttons {\\n            flex-direction: column;\\n          }\\n          .node-btn {\\n            min-width: 100%;\\n          }\\n        }\\n\\n        @media (max-width: 1024px) {\\n          .stats-grid {\\n            grid-template-columns: repeat(2, 1fr);\\n          }\\n          .nodes-grid {\\n            grid-template-columns: 1fr;\\n          }\\n        }\\n\\n        @media (max-width: 768px) {\\n          .monitor-page {\\n            padding: 16px;\\n          }\\n          .monitor-header {\\n            padding: 24px;\\n          }\\n          .header-top {\\n            flex-direction: column;\\n            align-items: flex-start;\\n            gap: 16px;\\n          }\\n          .header-info {\\n            flex-direction: column;\\n            align-items: flex-start;\\n            gap: 12px;\\n            width: 100%;\\n          }\\n          .stats-grid {\\n            grid-template-columns: 1fr;\\n          }\\n          .filters-grid {\\n            grid-template-columns: 1fr;\\n          }\\n          .reading-metrics {\\n            grid-template-columns: 1fr;\\n          }\\n          .node-selector-buttons {\\n            flex-direction: column;\\n          }\\n          .node-btn {\\n            min-width: 100%;\\n          }\\n        }\\n      \"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'3fr 2fr',gap:'24px',marginBottom:'32px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(3, 1fr)',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",style:{background:'linear-gradient(135deg, #EFF6FF, #DBEAFE)',border:'none'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",style:{background:'white'},children:/*#__PURE__*/_jsx(Signal,{size:20,style:{color:'#2563EB'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",style:{color:'#1E40AF'},children:\"Total Nodes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",style:{color:'#1E3A8A'},children:nodeStats.length}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#60A5FA',marginTop:'4px'},children:\"Monitoring grid\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",style:{background:'linear-gradient(135deg, #F0FDF4, #DCFCE7)',border:'none'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",style:{background:'white'},children:/*#__PURE__*/_jsx(CheckCircle,{size:20,style:{color:'#16A34A'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",style:{color:'#15803D'},children:\"Active\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",style:{color:'#14532D'},children:nodeStats.filter(n=>n.activated).length}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#4ADE80',marginTop:'4px'},children:[Math.round(nodeStats.filter(n=>n.activated).length/(nodeStats.length||1)*100),\"% online\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",style:{background:'linear-gradient(135deg, #F0F9FF, #E0F2FE)',border:'none'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",style:{background:'white'},children:/*#__PURE__*/_jsx(Droplets,{size:20,style:{color:'#0EA5E9'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",style:{color:'#0369A1'},children:\"Avg Depth\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-value\",style:{color:'#0C4A6E'},children:[nodeStats.filter(n=>n.activated).length>0?(nodeStats.filter(n=>n.activated).reduce((sum,n)=>sum+parseFloat(n.avgHeight),0)/nodeStats.filter(n=>n.activated).length).toFixed(1):\"0.0\",/*#__PURE__*/_jsx(\"span\",{className:\"stat-unit\",style:{fontSize:'16px',color:'#0369A1'},children:\"m\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#38BDF8',marginTop:'4px'},children:\"stable levels\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'16px',padding:'20px',border:'1px solid #E2E8F0',display:'flex',flexDirection:'column',justifyContent:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px',marginBottom:'12px',color:'#64748B',fontWeight:600},children:[/*#__PURE__*/_jsx(Activity,{size:18}),\"System Insights\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'10px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px',fontSize:'14px',color:'#334155'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'6px',height:'6px',borderRadius:'50%',background:'#22C55E'}}),\"All sensors operating within normal parameters\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px',fontSize:'14px',color:'#334155'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'6px',height:'6px',borderRadius:'50%',background:'#3B82F6'}}),\"Data stream connection is stable (24ms latency)\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px',fontSize:'14px',color:'#334155'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'6px',height:'6px',borderRadius:'50%',background:'#F59E0B'}}),\"Water levels trending steady over last 24h\"]})]})]})]}),allNodes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"node-selector-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"node-selector-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"node-selector-title\",children:[/*#__PURE__*/_jsx(Signal,{size:16}),\"Select Node View\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"node-selector-info\",children:[allNodes.filter(n=>n.activated).length,\" active nodes \\u2022 \",allReadings.length,\" total readings\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"node-selector-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedNodeView(\"all\"),className:selectedNodeView===\"all\"?\"node-btn node-btn-active\":\"node-btn node-btn-inactive\",children:[/*#__PURE__*/_jsx(Signal,{size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"node-btn-name\",children:\"All Nodes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"node-btn-count\",children:[allReadings.length,\" readings\"]})]})]}),allNodes.filter(node=>node.activated)// Only show activated nodes\n.map(node=>{var _nodeStats$find;const nodeReadingsCount=allReadings.filter(r=>r.node===node.name).length;const nodeStatus=((_nodeStats$find=nodeStats.find(n=>n.name===node.name))===null||_nodeStats$find===void 0?void 0:_nodeStats$find.latestStatus)||\"inactive\";return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedNodeView(node.name),className:selectedNodeView===node.name?\"node-btn node-btn-active\":\"node-btn node-btn-inactive\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"node-btn-indicator\",style:{background:getStatusColor(nodeStatus)}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"node-btn-name\",children:node.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"node-btn-count\",children:[nodeReadingsCount,\" readings \\u2022 h\\u2081=\",node.h1_m,\"m\"]})]})]},node.name);})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"filters-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"filters-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Time Period\"}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-buttons\",children:[\"all\",\"today\",\"week\",\"month\"].map(f=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter(f),className:filter===f?\"filter-btn filter-btn-active\":\"filter-btn filter-btn-inactive\",children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Search\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search node or region...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"filter-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sort By\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"filter-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"time\",children:\"Most Recent\"}),/*#__PURE__*/_jsx(\"option\",{value:\"level-high\",children:\"Highest Level\"}),/*#__PURE__*/_jsx(\"option\",{value:\"level-low\",children:\"Lowest Level\"}),/*#__PURE__*/_jsx(\"option\",{value:\"status\",children:\"Status Priority\"})]})]})]})}),allReadings.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Droplets,{size:48,style:{color:'#CCC',marginBottom:'16px'}}),/*#__PURE__*/_jsx(\"h3\",{children:\"No Sensor Data\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Waiting for LoRa sensor readings from configured nodes...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nodes-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-title\",children:selectedNodeView===\"all\"?\"All Nodes Status\":\"\".concat(selectedNodeView,\" Status\")}),/*#__PURE__*/_jsx(\"div\",{className:\"section-badge\",children:selectedNodeView===\"all\"?\"\".concat(nodeStats.filter(n=>n.activated).length,\" active nodes\"):\"h\\u2081 = \".concat(((_nodeStats$find2=nodeStats.find(n=>n.name===selectedNodeView))===null||_nodeStats$find2===void 0?void 0:_nodeStats$find2.h1_m)||0,\"m\")})]}),editModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"modal-title\",children:[\"Edit Cable Length - \",editModal.name]}),/*#__PURE__*/_jsx(\"p\",{className:\"modal-subtitle\",children:\"Update h\\u2081 (cable length) for this node\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-info\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Current Values:\"}),/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 h\\u2081 (Cable): \",editModal.h1_m,\"m\",/*#__PURE__*/_jsx(\"br\",{}),\"Updating cable length will recalculate water height automatically.\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"New Cable Length (h\\u2081) in meters \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#DC2626'},children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.1\",min:\"0\",value:cableLength,onChange:e=>setCableLength(e.target.value),placeholder:\"Enter new cable length\",className:\"form-input\",autoFocus:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleUpdateCableLength,className:\"btn-modal btn-modal-dark\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:16}),\"Update Cable Length\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditModal(null);setCableLength(\"\");},className:\"btn-modal btn-modal-cancel\",children:\"Cancel\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"nodes-grid\",children:nodeStats.filter(node=>{// Show all activated nodes when \"all\" is selected, or just the selected node\nif(selectedNodeView===\"all\"){return node.activated;}return node.name===selectedNodeView;}).map(node=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'16px',padding:'20px',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03)',border:'1px solid #E2E8F0',display:'flex',flexDirection:'column',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',borderRadius:'10px',background:node.activated?'#DCFCE7':'#F3F4F6',display:'flex',alignItems:'center',justifyContent:'center',color:node.activated?'#16A34A':'#9CA3AF'},children:/*#__PURE__*/_jsx(Droplets,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,fontSize:'16px',color:'#0F172A'},children:node.name}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon-small\",onClick:()=>handleEditCableLength(node),title:\"Edit Cable Length\",children:/*#__PURE__*/_jsx(Edit,{size:14})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#64748B'},children:[\"Sensor ID: #\",node.name.substring(0,4),\"...\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'4px 10px',borderRadius:'20px',fontSize:'12px',fontWeight:600,background:node.activated?'#DCFCE7':'#F3F4F6',color:node.activated?'#16A34A':'#6B7280',display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'6px',height:'6px',borderRadius:'50%',background:'currentColor'}}),node.latestStatus.toUpperCase()]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'8px',fontSize:'13px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#64748B'},children:\"Water Level\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:600,color:'#0F172A'},children:[node.avgHeight,\"m \",/*#__PURE__*/_jsxs(\"span\",{style:{color:'#94A3B8',fontWeight:400},children:[\"/ \",node.h1_m,\"m\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'8px',background:'#F1F5F9',borderRadius:'4px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"\".concat(parseFloat(node.avgHeight)/parseFloat(node.h1_m||20)*100,\"%\"),height:'100%',background:'linear-gradient(90deg, #3B82F6, #0EA5E9)',borderRadius:'4px'}})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'12px',paddingTop:'16px',borderTop:'1px solid #F1F5F9'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center'},children:[/*#__PURE__*/_jsx(Signal,{size:14,style:{color:'#64748B'}}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'12px',color:'#64748B'},children:[node.count,\" readings\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(Clock,{size:14,style:{color:'#64748B'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#64748B'},children:node.lastReading?new Date(node.lastReading).toLocaleTimeString():'N/A'})]})]})]},node.name))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"readings-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-title\",children:selectedNodeView===\"all\"?\"Recent Readings - All Nodes\":\"Recent Readings - \".concat(selectedNodeView)}),/*#__PURE__*/_jsxs(\"div\",{className:\"section-badge\",children:[\"Showing \",filteredData.length,\" of \",allReadings.length,\" readings\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"readings-list\",children:filteredData.slice(0,20).map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"reading-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reading-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reading-node\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"reading-node-name\",children:item.node}),/*#__PURE__*/_jsxs(\"span\",{className:\"status-badge\",style:{background:\"\".concat(getStatusColor(item.nodeStatus),\"20\"),color:getStatusColor(item.nodeStatus)},children:[getStatusIcon(item.nodeStatus),item.nodeStatus]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reading-time\",children:[/*#__PURE__*/_jsx(Clock,{size:12}),new Date(item.timestamp).toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reading-metrics\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reading-metric\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reading-metric-label\",children:[\"Water Height\",/*#__PURE__*/_jsx(Tooltip,{content:\"Distance from surface to water level\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reading-metric-value\",children:[item.waterHeightM,\"m\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reading-metric\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reading-metric-label\",children:[\"Depth (h\\u2082)\",/*#__PURE__*/_jsx(Tooltip,{content:\"Distance from cable end to water surface\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reading-metric-value\",children:[item.h2,\"m\"]})]})]})]},item.id))})]})]})]});};export default Monitor;","map":{"version":3,"names":["React","useState","useEffect","useMemo","Activity","Signal","Droplets","AlertTriangle","CheckCircle","XCircle","Clock","ref","onValue","set","database","Tooltip","Edit","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Monitor","_nodeStats$find2","filter","setFilter","searchTerm","setSearchTerm","selectedNodeView","setSelectedNodeView","sortBy","setSortBy","allReadings","setAllReadings","allNodes","setAllNodes","loading","setLoading","editModal","setEditModal","cableLength","setCableLength","toast","setToast","showToast","message","type","arguments","length","undefined","console","log","rootRef","unsubscribe","snapshot","exists","data","val","readings","nodesList","config","nodes","Object","keys","forEach","key","nodeConfig","push","name","activated","h1_m","concat","LoRaSensor","nodeKey","nodeData","nodeInfo","find","n","timestamp","reading","depth_m","RawData","depthMatch","match","parseFloat","h2_m","waterHeight","Math","max","status","parsedDate","Date","isNaN","getTime","warn","id","node","nodeStatus","date","waterHeightM","toFixed","waterHeightFt","h1","h2","region","sort","a","b","error","filteredData","result","item","now","toDateString","weekAgo","monthAgo","toLowerCase","includes","statusOrder","critical","warning","active","inactive","nodeStats","stats","count","avgHeight","maxHeight","minHeight","Infinity","lastReading","latestStatus","min","activatedCount","r","values","handleEditCableLength","_node$h1_m","nodeStat","_objectSpread","toString","handleUpdateCableLength","nodeConfigRef","Toast","_ref","onClose","timer","setTimeout","clearTimeout","bgColor","style","position","top","right","background","color","padding","borderRadius","boxShadow","zIndex","display","alignItems","gap","animation","minWidth","children","size","fontSize","fontWeight","getStatusColor","getStatusIcon","justifyContent","height","flexDirection","width","border","borderTopColor","className","gridTemplateColumns","marginBottom","marginTop","round","reduce","sum","onClick","map","_nodeStats$find","nodeReadingsCount","f","charAt","toUpperCase","slice","placeholder","value","onChange","e","target","step","autoFocus","title","substring","overflow","paddingTop","borderTop","toLocaleTimeString","toLocaleString","content"],"sources":["/run/media/thobbs/EastManPhoenyXP/WALEKI_FRONTEND/WALEKI-FRONT/src/pages/dashboard/monitor.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\nimport {\n  Activity, Signal, Droplets, AlertTriangle, CheckCircle,\n  XCircle, Clock\n} from \"lucide-react\";\nimport { ref, onValue, set } from \"firebase/database\";\nimport { database } from \"../../config/firebase\";\nimport Tooltip from \"../../components/Tooltip\";\nimport { Edit } from \"lucide-react\";\n// import { useNavigate } from \"react-router-dom\"; // Unused after header removal\n// Cleaned up unused import\n\nconst Monitor = () => {\n  // const navigate = useNavigate(); // Unused\n  const [filter, setFilter] = useState(\"all\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedNodeView, setSelectedNodeView] = useState(\"all\");\n  const [sortBy, setSortBy] = useState(\"time\");\n  const [allReadings, setAllReadings] = useState([]);\n  const [allNodes, setAllNodes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [editModal, setEditModal] = useState(null);\n  const [cableLength, setCableLength] = useState(\"\");\n  const [toast, setToast] = useState(null);\n\n  const showToast = (message, type = 'success') => {\n    setToast({ message, type });\n  };\n\n  // const handleRefresh = () => { // Unused\n  //   window.location.reload();\n  // };\n\n  // Fetch data from Firebase\n  useEffect(() => {\n    console.log(\"ðŸ“¡ Loading monitor data from Firebase...\");\n\n    const rootRef = ref(database);\n\n    const unsubscribe = onValue(rootRef, (snapshot) => {\n      if (snapshot.exists()) {\n        const data = snapshot.val();\n        const readings = [];\n        const nodesList = [];\n\n        // Get node configurations from config.nodes\n        if (data.config && data.config.nodes) {\n          Object.keys(data.config.nodes).forEach(key => {\n            const nodeConfig = data.config.nodes[key];\n            nodesList.push({\n              name: key,\n              activated: nodeConfig.activated || false,\n              h1_m: nodeConfig.h1_m || 0\n            });\n          });\n        }\n\n        console.log(`ðŸ“ Found ${nodesList.length} nodes:`, nodesList);\n\n        // Process LoRaSensor data\n        if (data.LoRaSensor) {\n          Object.keys(data.LoRaSensor).forEach(nodeKey => {\n            const nodeData = data.LoRaSensor[nodeKey];\n            const nodeInfo = nodesList.find(n => n.name === nodeKey) || {\n              name: nodeKey,\n              activated: false,\n              h1_m: 0\n            };\n\n            if (typeof nodeData === 'object' && nodeData !== null) {\n              Object.keys(nodeData).forEach(timestamp => {\n                const reading = nodeData[timestamp];\n\n                if (!reading || typeof reading !== 'object') return;\n\n                let depth_m = 0;\n\n                // Parse RawData string\n                if (reading.RawData && typeof reading.RawData === 'string') {\n                  const depthMatch = reading.RawData.match(/Depth=([\\d.]+)m/);\n                  if (depthMatch) depth_m = parseFloat(depthMatch[1]);\n                }\n\n                const h2_m = depth_m;\n                // Correct Water Height Calculation\n                // h1 = cable length (depth to cable end)\n                // h2 = sensor reading (depth to water surface)\n                // If h2 < h1: water present, Height = h1 - h2\n                // If h2 >= h1: no water or error\n                let waterHeight = 0;\n\n                if (h2_m < nodeInfo.h1_m) {\n                  waterHeight = Math.max(0, nodeInfo.h1_m - h2_m);\n                } else {\n                  waterHeight = 0; // Sensor reading deeper than cable = no water\n                }\n\n                // Determine status based on water height\n                let status = \"inactive\";\n                if (nodeInfo.activated) {\n                  if (waterHeight <= 0) {\n                    status = \"critical\";\n                  } else if (waterHeight < 5) {\n                    status = \"warning\";\n                  } else if (waterHeight < 10) {\n                    status = \"warning\";\n                  } else {\n                    status = \"active\";\n                  }\n                }\n\n                const parsedDate = new Date(timestamp);\n                if (isNaN(parsedDate.getTime())) {\n                  console.warn(`Invalid timestamp: ${timestamp}`);\n                  return;\n                }\n\n                readings.push({\n                  id: `${nodeKey}-${timestamp}`,\n                  node: nodeKey,\n                  nodeStatus: status,\n                  timestamp: timestamp,\n                  date: parsedDate,\n                  waterHeightM: parseFloat(waterHeight.toFixed(2)),\n                  waterHeightFt: parseFloat((waterHeight * 3.28084).toFixed(2)),\n                  h1: nodeInfo.h1_m,\n                  h2: parseFloat(h2_m.toFixed(2)),\n                  depth_m: parseFloat(depth_m.toFixed(2)),\n                  activated: nodeInfo.activated,\n                  region: \"Arusha, Tanzania\"\n                });\n              });\n            }\n          });\n        }\n\n        // Sort by most recent first\n        readings.sort((a, b) => b.date - a.date);\n\n        setAllReadings(readings);\n        setAllNodes(nodesList);\n        // setLastUpdate(new Date());\n        console.log(`âœ… Loaded ${readings.length} readings from ${nodesList.length} nodes`);\n      } else {\n        console.log(\"âš ï¸ No data found in Firebase\");\n      }\n      setLoading(false);\n    }, (error) => {\n      console.error(\"âŒ Firebase error:\", error);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  // Auto-refresh timestamp - Removed as lastUpdate is unused\n  // useEffect(() => {\n  //   if (!autoRefresh) return;\n  //   const interval = setInterval(() => {\n  //     // setLastUpdate(new Date());\n  //   }, 30000);\n  //   return () => clearInterval(interval);\n  // }, [autoRefresh]);\n\n  // Filter and sort readings\n  const filteredData = useMemo(() => {\n    let result = [...allReadings];\n\n    // Filter by selected node view\n    if (selectedNodeView !== \"all\") {\n      result = result.filter((item) => item.node === selectedNodeView);\n    }\n\n    if (filter !== \"all\") {\n      const now = new Date();\n      if (filter === \"today\") {\n        result = result.filter((item) => item.date.toDateString() === now.toDateString());\n      } else if (filter === \"week\") {\n        const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n        result = result.filter((item) => item.date >= weekAgo);\n      } else if (filter === \"month\") {\n        const monthAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\n        result = result.filter((item) => item.date >= monthAgo);\n      }\n    }\n\n    if (searchTerm) {\n      result = result.filter((item) =>\n        item.node.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        item.region.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n\n    if (sortBy === \"level-high\") {\n      result.sort((a, b) => b.waterHeightM - a.waterHeightM);\n    } else if (sortBy === \"level-low\") {\n      result.sort((a, b) => a.waterHeightM - b.waterHeightM);\n    } else if (sortBy === \"status\") {\n      const statusOrder = { critical: 0, warning: 1, active: 2, inactive: 3 };\n      result.sort((a, b) => statusOrder[a.nodeStatus] - statusOrder[b.nodeStatus]);\n    } else {\n      result.sort((a, b) => b.date - a.date);\n    }\n\n    return result;\n  }, [allReadings, filter, searchTerm, sortBy, selectedNodeView]);\n\n  // Calculate node statistics\n  const nodeStats = useMemo(() => {\n    const stats = {};\n\n    allNodes.forEach(node => {\n      stats[node.name] = {\n        name: node.name,\n        count: 0,\n        avgHeight: 0,\n        maxHeight: 0,\n        minHeight: Infinity,\n        lastReading: null,\n        status: node.activated ? \"active\" : \"inactive\",\n        activated: node.activated,\n        h1_m: node.h1_m,\n        latestStatus: \"inactive\"\n      };\n    });\n\n    // Use allReadings instead of filteredData to get accurate stats for all nodes\n    allReadings.forEach((item) => {\n      if (stats[item.node]) {\n        stats[item.node].count++;\n        if (item.activated) {\n          stats[item.node].avgHeight += item.waterHeightM;\n        }\n        stats[item.node].maxHeight = Math.max(stats[item.node].maxHeight, item.waterHeightM);\n        stats[item.node].minHeight = Math.min(stats[item.node].minHeight, item.waterHeightM);\n\n        if (!stats[item.node].lastReading || item.date > new Date(stats[item.node].lastReading)) {\n          stats[item.node].lastReading = item.timestamp;\n          stats[item.node].latestStatus = item.nodeStatus;\n        }\n      }\n    });\n\n    Object.keys(stats).forEach((key) => {\n      if (stats[key].count > 0) {\n        const activatedCount = allReadings.filter(r => r.node === key && r.activated).length;\n        stats[key].avgHeight = activatedCount > 0\n          ? parseFloat((stats[key].avgHeight / activatedCount).toFixed(2))\n          : 0;\n        if (stats[key].minHeight === Infinity) stats[key].minHeight = 0;\n      } else {\n        stats[key].minHeight = 0;\n      }\n    });\n\n    return Object.values(stats);\n    return Object.values(stats);\n  }, [allReadings, allNodes]);\n\n  // Edit cable length\n  const handleEditCableLength = (node) => {\n    // Find the node active stats to show current values\n    const nodeStat = nodeStats.find(n => n.name === node.name);\n    setEditModal({ ...nodeStat, ...node });\n    setCableLength(node.h1_m?.toString() || \"\");\n  };\n\n  const handleUpdateCableLength = async () => {\n    if (!cableLength || parseFloat(cableLength) <= 0) {\n      showToast(\"Please enter a valid cable length\", 'error');\n      return;\n    }\n\n    try {\n      const nodeConfigRef = ref(database, `config/nodes/${editModal.name}/h1_m`);\n      await set(nodeConfigRef, parseFloat(cableLength));\n\n      setEditModal(null);\n      setCableLength(\"\");\n      showToast(`Cable length updated for ${editModal.name}`, 'success');\n    } catch (error) {\n      console.error(\"âŒ Error updating cable length:\", error);\n      showToast(\"Failed to update cable length\", 'error');\n    }\n  };\n\n  // Toast component since it's not imported\n  const Toast = ({ message, type, onClose }) => {\n    useEffect(() => {\n      const timer = setTimeout(onClose, 3000);\n      return () => clearTimeout(timer);\n    }, [onClose]);\n\n    const bgColor = type === 'success' ? '#16A34A' : type === 'error' ? '#DC2626' : '#000';\n\n    return (\n      <div style={{\n        position: 'fixed',\n        top: '24px',\n        right: '24px',\n        background: bgColor,\n        color: 'white',\n        padding: '16px 24px',\n        borderRadius: '12px',\n        boxShadow: '0 8px 24px rgba(0,0,0,0.2)',\n        zIndex: 10000,\n        display: 'flex',\n        alignItems: 'center',\n        gap: '12px',\n        animation: 'slideIn 0.3s ease',\n        minWidth: '300px'\n      }}>\n        {type === 'success' ? <CheckCircle size={20} /> : <AlertTriangle size={20} />}\n        <span style={{ fontSize: '14px', fontWeight: 600 }}>{message}</span>\n      </div>\n    );\n  };\n\n\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case \"active\": return \"#16A34A\";\n      case \"warning\": return \"#D97706\";\n      case \"critical\": return \"#DC2626\";\n      case \"inactive\": return \"#999\";\n      default: return \"#999\";\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case \"active\": return <CheckCircle size={16} />;\n      case \"warning\": return <AlertTriangle size={16} />;\n      case \"critical\": return <XCircle size={16} />;\n      case \"inactive\": return <Activity size={16} />;\n      default: return <Activity size={16} />;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100vh', flexDirection: 'column', gap: '16px' }}>\n        <div style={{ width: '40px', height: '40px', border: '3px solid #F0F0F0', borderTopColor: '#000', borderRadius: '50%', animation: 'spin 0.8s linear infinite' }}></div>\n        <p style={{ fontSize: '14px', color: '#666', fontWeight: 500 }}>Loading monitor data...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"monitor-page\">\n      <style jsx>{`\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n        \n        @keyframes slideIn {\n          from {\n            transform: translateX(400px);\n            opacity: 0;\n          }\n          to {\n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n\n        @keyframes pulse {\n          0%, 100% { opacity: 1; transform: scale(1); }\n          50% { opacity: 0.5; transform: scale(1.1); }\n        }\n\n        .monitor-page {\n          min-height: 100vh;\n          background: #FAFAFA;\n          padding: 24px;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n        }\n\n        /* Header */\n        .monitor-header {\n          background: white;\n          border-radius: 16px;\n          padding: 32px;\n          margin-bottom: 24px;\n          border: 1px solid #E8E8E8;\n        }\n\n        .header-top {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 16px;\n        }\n\n        .header-left {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n\n        .header-icon {\n          width: 48px;\n          height: 48px;\n          background: #00cf45bc;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          position: relative;\n        }\n\n        .pulse-indicator {\n          position: absolute;\n          top: -4px;\n          right: -4px;\n          width: 12px;\n          height: 12px;\n          background: #16A34A;\n          border-radius: 50%;\n          border: 2px solid white;\n          animation: pulse 2s ease-in-out infinite;\n        }\n\n        .header-text h1 {\n          font-size: 24px;\n          font-weight: 700;\n          color: #000;\n          margin-bottom: 4px;\n          letter-spacing: -0.5px;\n        }\n\n        .header-text p {\n          font-size: 13px;\n          color: #666;\n          font-weight: 500;\n        }\n\n        .header-actions {\n          display: flex;\n          gap: 12px;\n        }\n\n        .btn-header {\n          padding: 10px 20px;\n          border-radius: 10px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          border: none;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          transition: all 0.2s ease;\n        }\n\n        .btn-primary {\n          background: #00cf45bc;\n          color: white;\n        }\n\n        .btn-primary:hover {\n          background: #333;\n          transform: translateY(-1px);\n        }\n\n        .btn-secondary {\n          background: white;\n          color: #000;\n          border: 2px solid #E8E8E8;\n        }\n\n        .btn-secondary:hover {\n          border-color: #00cf45bc;\n        }\n\n        .header-info {\n          display: flex;\n          align-items: center;\n          gap: 24px;\n        }\n\n        .info-item {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 16px;\n          background: #FAFAFA;\n          border-radius: 10px;\n        }\n\n        .info-label {\n          font-size: 12px;\n          color: #999;\n          font-weight: 600;\n        }\n\n        .info-value {\n          font-size: 16px;\n          font-weight: 700;\n          color: #000;\n        }\n\n        /* Stats */\n        .stats-grid {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 16px;\n          margin-bottom: 24px;\n        }\n\n        .stat-card {\n          background: white;\n          border-radius: 16px;\n          padding: 24px;\n          border: 1px solid #E8E8E8;\n          transition: all 0.2s ease;\n        }\n\n        .stat-card:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(0,0,0,0.06);\n        }\n\n        .stat-icon {\n          width: 40px;\n          height: 40px;\n          background: #F5F5F5;\n          border-radius: 10px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-bottom: 16px;\n        }\n\n        .stat-label {\n          font-size: 12px;\n          color: #999;\n          font-weight: 700;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          margin-bottom: 8px;\n        }\n\n        .stat-value {\n          font-size: 32px;\n          font-weight: 700;\n          color: #000;\n          letter-spacing: -0.5px;\n        }\n\n        .stat-unit {\n          font-size: 16px;\n          color: #666;\n          margin-left: 4px;\n        }\n\n        /* Node Selector */\n        .node-selector-card {\n          background: white;\n          border-radius: 16px;\n          padding: 24px;\n          margin-bottom: 24px;\n          border: 1px solid #E8E8E8;\n        }\n\n        .node-selector-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 16px;\n        }\n\n        .node-selector-title {\n          font-size: 14px;\n          font-weight: 700;\n          color: #000;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .node-selector-info {\n          font-size: 12px;\n          color: #666;\n          font-weight: 600;\n        }\n\n        .node-selector-buttons {\n          display: flex;\n          gap: 12px;\n          flex-wrap: wrap;\n        }\n\n        .node-btn {\n          flex: 1;\n          min-width: 180px;\n          padding: 16px 20px;\n          border-radius: 12px;\n          border: 2px solid #E8E8E8;\n          background: white;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n        }\n\n        .node-btn:hover {\n          border-color: #00cf45bc;\n          transform: translateY(-2px);\n          box-shadow: 0 4px 12px rgba(0,0,0,0.08);\n        }\n\n        .node-btn-inactive {\n          border-color: #E8E8E8;\n        }\n\n        .node-btn-active {\n          border-color: #00cf45bc;\n          background: #00cf45bc;\n        }\n\n        .node-btn-active .node-btn-name {\n          color: white;\n        }\n\n        .node-btn-active .node-btn-count {\n          color: rgba(255,255,255,0.7);\n        }\n\n        .node-btn-indicator {\n          width: 12px;\n          height: 12px;\n          border-radius: 50%;\n          flex-shrink: 0;\n        }\n\n        .node-btn-name {\n          font-size: 14px;\n          font-weight: 700;\n          color: #000;\n          margin-bottom: 2px;\n        }\n\n        .node-btn-count {\n          font-size: 11px;\n          color: #999;\n          font-weight: 600;\n        }\n\n        /* Filters */\n        .filters-card {\n          background: white;\n          border-radius: 16px;\n          padding: 24px;\n          margin-bottom: 24px;\n          border: 1px solid #E8E8E8;\n        }\n\n        .filters-grid {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 20px;\n        }\n\n        .filter-group label {\n          display: block;\n          font-size: 12px;\n          font-weight: 700;\n          color: #000;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          margin-bottom: 8px;\n        }\n\n        .filter-buttons {\n          display: flex;\n          gap: 8px;\n          flex-wrap: wrap;\n        }\n\n        .filter-btn {\n          padding: 8px 16px;\n          border-radius: 8px;\n          font-size: 13px;\n          font-weight: 600;\n          border: none;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .filter-btn-inactive {\n          background: #F5F5F5;\n          color: #666;\n        }\n\n        .filter-btn-active {\n          background: green;\n          color: white;\n        }\n\n        .filter-input {\n          width: 100%;\n          padding: 10px 14px;\n          border: 1px solid #E8E8E8;\n          border-radius: 10px;\n          font-size: 14px;\n          outline: none;\n        }\n\n        .filter-input:focus {\n          border-color: #00cf45bc;\n        }\n\n        .filter-select {\n          width: 100%;\n          padding: 10px 14px;\n          border: 1px solid #E8E8E8;\n          border-radius: 10px;\n          font-size: 14px;\n          outline: none;\n          cursor: pointer;\n          background: white;\n          font-weight: 600;\n        }\n\n        /* Node Status Cards */\n        .nodes-section {\n          margin-bottom: 24px;\n        }\n\n        .section-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 16px;\n        }\n\n        .section-title {\n          font-size: 18px;\n          font-weight: 700;\n          color: #000;\n          letter-spacing: -0.3px;\n        }\n\n        .section-badge {\n          padding: 6px 12px;\n          background: #00cf45bc;\n          color: white;\n          border-radius: 8px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n\n        .nodes-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));\n          gap: 20px;\n          margin-bottom: 24px;\n        }\n\n        .node-status-card {\n          background: white;\n          border-radius: 16px;\n          padding: 24px;\n          border: 1px solid #E8E8E8;\n          transition: all 0.2s ease;\n        }\n\n        .node-status-card:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(0,0,0,0.06);\n        }\n\n        .node-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 20px;\n        }\n\n        .node-name {\n          font-size: 18px;\n          font-weight: 700;\n          color: #000;\n        }\n\n        .node-status-badge {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          padding: 6px 12px;\n          border-radius: 8px;\n          font-size: 12px;\n          font-weight: 700;\n          text-transform: uppercase;\n        }\n\n        .btn-icon-small {\n          width: 28px;\n          height: 28px;\n          border-radius: 8px;\n          background: #F5F5F5;\n          border: 1px solid #E8E8E8;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          color: #666;\n          transition: all 0.2s ease;\n        }\n\n        .btn-icon-small:hover {\n          background: #E8E8E8;\n          color: #00cf45bc;\n          border-color: #00cf45bc;\n        }\n\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0, 0, 0, 0.6);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 1000;\n          padding: 24px;\n        }\n\n        .modal-content {\n          background: white;\n          padding: 32px;\n          border-radius: 20px;\n          max-width: 500px;\n          width: 100%;\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n        }\n\n        .modal-header {\n          margin-bottom: 24px;\n        }\n\n        .modal-title {\n          font-size: 24px;\n          font-weight: 700;\n          color: #000;\n          margin-bottom: 8px;\n          letter-spacing: -0.5px;\n        }\n\n        .modal-subtitle {\n          font-size: 14px;\n          color: #666;\n        }\n\n        .modal-info {\n          padding: 20px;\n          background: #FAFAFA;\n          border-radius: 12px;\n          margin-bottom: 24px;\n          border: 1px solid #E8E8E8;\n        }\n\n        .modal-info p {\n          color: #666;\n          font-size: 13px;\n          line-height: 1.8;\n          margin: 0;\n        }\n\n        .form-group {\n          margin-bottom: 24px;\n        }\n\n        .form-label {\n          display: block;\n          margin-bottom: 8px;\n          font-weight: 700;\n          color: #000;\n          font-size: 13px;\n          text-transform: uppercase;\n          letter-spacing: 0.3px;\n        }\n\n        .form-input {\n          width: 100%;\n          padding: 14px;\n          border: 2px solid #E8E8E8;\n          border-radius: 10px;\n          font-size: 16px;\n          font-weight: 600;\n          outline: none;\n          transition: all 0.2s ease;\n        }\n\n        .form-input:focus {\n          border-color: #000;\n        }\n\n        .modal-actions {\n          display: flex;\n          gap: 12px;\n        }\n\n        .btn-modal {\n          flex: 1;\n          padding: 14px;\n          border-radius: 10px;\n          font-weight: 600;\n          font-size: 14px;\n          cursor: pointer;\n          border: none;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n          transition: all 0.2s ease;\n        }\n\n        .btn-modal-dark {\n          background: #000;\n          color: white;\n        }\n\n        .btn-modal-dark:hover {\n          background: #333;\n        }\n\n        .btn-modal-cancel {\n          background: #F5F5F5;\n          color: #666;\n        }\n\n        .btn-modal-cancel:hover {\n          background: #E8E8E8;\n        }\n\n        .node-metrics {\n          display: grid;\n          grid-template-columns: repeat(2, 1fr);\n          gap: 12px;\n          margin-bottom: 16px;\n        }\n\n        .node-metric {\n          padding: 12px;\n          background: #FAFAFA;\n          border-radius: 10px;\n        }\n\n        .node-metric-label {\n          font-size: 11px;\n          color: #999;\n          font-weight: 700;\n          text-transform: uppercase;\n          margin-bottom: 4px;\n        }\n\n        .node-metric-value {\n          font-size: 20px;\n          font-weight: 700;\n          color: #000;\n          letter-spacing: -0.3px;\n        }\n\n        .node-footer {\n          padding-top: 16px;\n          border-top: 1px solid #F0F0F0;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          font-size: 12px;\n        }\n\n        .node-readings-count {\n          color: #999;\n          font-weight: 600;\n        }\n\n        .node-last-update {\n          color: #666;\n          font-weight: 600;\n          display: flex;\n          align-items: center;\n          gap: 4px;\n        }\n\n        /* Recent Readings */\n        .readings-section h2 {\n          font-size: 18px;\n          font-weight: 700;\n          color: #000;\n          margin-bottom: 16px;\n          letter-spacing: -0.3px;\n        }\n\n        .header-info {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n\n        .page-title {\n          font-size: 24px;\n          font-weight: 700;\n          color: #000;\n          margin: 0;\n          letter-spacing: -0.5px;\n        }\n\n        .page-subtitle {\n          font-size: 13px;\n          color: #666;\n          font-weight: 500;\n          margin: 0;\n        }\n\n        .live-badge {\n          display: inline-flex;\n          align-items: center;\n          gap: 8px;\n          padding: 6px 14px;\n          background: linear-gradient(135deg, #dc2626, #ef4444);\n          color: white;\n          border-radius: 20px;\n          font-size: 11px;\n          font-weight: 700;\n          letter-spacing: 0.5px;\n          box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);\n        }\n\n        .pulse-dot {\n          width: 8px;\n          height: 8px;\n          background: white;\n          border-radius: 50%;\n          animation: pulse 2s ease-in-out infinite;\n        }\n\n        .readings-list {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n\n        .reading-card {\n          background: white;\n          border-radius: 12px;\n          padding: 20px;\n          border: 1px solid #E8E8E8;\n          transition: all 0.2s ease;\n        }\n\n        .reading-card:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 4px 12px rgba(0,0,0,0.06);\n        }\n\n        .reading-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 16px;\n        }\n\n        .reading-node {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n        }\n\n        .reading-node-name {\n          font-size: 16px;\n          font-weight: 700;\n          color: #000;\n        }\n\n        .status-badge {\n          padding: 4px 10px;\n          border-radius: 6px;\n          font-size: 10px;\n          font-weight: 700;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          display: flex;\n          align-items: center;\n          gap: 4px;\n        }\n\n        .reading-time {\n          font-size: 12px;\n          color: #999;\n          display: flex;\n          align-items: center;\n          gap: 4px;\n        }\n\n        .reading-metrics {\n          display: grid;\n          grid-template-columns: repeat(2, 1fr);\n          gap: 12px;\n        }\n\n        .reading-metric {\n          padding: 12px;\n          background: #FAFAFA;\n          border-radius: 8px;\n          text-align: center;\n        }\n\n        .reading-metric-label {\n          font-size: 10px;\n          color: #999;\n          font-weight: 700;\n          text-transform: uppercase;\n          margin-bottom: 6px;\n        }\n\n        .reading-metric-value {\n          font-size: 18px;\n          font-weight: 700;\n          color: #000;\n          letter-spacing: -0.2px;\n        }\n\n        /* Empty State */\n        .empty-state {\n          background: white;\n          border-radius: 16px;\n          padding: 60px;\n          text-align: center;\n          border: 2px dashed #E8E8E8;\n          grid-column: 1 / -1;\n        }\n\n        .empty-state h3 {\n          font-size: 18px;\n          font-weight: 700;\n          color: #000;\n          margin-bottom: 8px;\n        }\n\n        .empty-state p {\n          font-size: 14px;\n          color: #999;\n        }\n\n        /* Responsive */\n        @media (max-width: 1200px) {\n          .stats-grid {\n            grid-template-columns: repeat(3, 1fr);\n          }\n          .node-selector-buttons {\n            flex-direction: column;\n          }\n          .node-btn {\n            min-width: 100%;\n          }\n        }\n\n        @media (max-width: 1024px) {\n          .stats-grid {\n            grid-template-columns: repeat(2, 1fr);\n          }\n          .nodes-grid {\n            grid-template-columns: 1fr;\n          }\n        }\n\n        @media (max-width: 768px) {\n          .monitor-page {\n            padding: 16px;\n          }\n          .monitor-header {\n            padding: 24px;\n          }\n          .header-top {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 16px;\n          }\n          .header-info {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 12px;\n            width: 100%;\n          }\n          .stats-grid {\n            grid-template-columns: 1fr;\n          }\n          .filters-grid {\n            grid-template-columns: 1fr;\n          }\n          .reading-metrics {\n            grid-template-columns: 1fr;\n          }\n          .node-selector-buttons {\n            flex-direction: column;\n          }\n          .node-btn {\n            min-width: 100%;\n          }\n        }\n      `}</style>\n\n\n\n\n      {/* Stats */}\n      {/* Stats & Insights Grid */}\n      <div style={{ display: 'grid', gridTemplateColumns: '3fr 2fr', gap: '24px', marginBottom: '32px' }}>\n        {/* Stats Row */}\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '16px' }}>\n          <div className=\"stat-card\" style={{ background: 'linear-gradient(135deg, #EFF6FF, #DBEAFE)', border: 'none' }}>\n            <div className=\"stat-icon\" style={{ background: 'white' }}>\n              <Signal size={20} style={{ color: '#2563EB' }} />\n            </div>\n            <div className=\"stat-label\" style={{ color: '#1E40AF' }}>Total Nodes</div>\n            <div className=\"stat-value\" style={{ color: '#1E3A8A' }}>{nodeStats.length}</div>\n            <div style={{ fontSize: '12px', color: '#60A5FA', marginTop: '4px' }}>Monitoring grid</div>\n          </div>\n\n          <div className=\"stat-card\" style={{ background: 'linear-gradient(135deg, #F0FDF4, #DCFCE7)', border: 'none' }}>\n            <div className=\"stat-icon\" style={{ background: 'white' }}>\n              <CheckCircle size={20} style={{ color: '#16A34A' }} />\n            </div>\n            <div className=\"stat-label\" style={{ color: '#15803D' }}>Active</div>\n            <div className=\"stat-value\" style={{ color: '#14532D' }}>{nodeStats.filter(n => n.activated).length}</div>\n            <div style={{ fontSize: '12px', color: '#4ADE80', marginTop: '4px' }}>\n              {Math.round((nodeStats.filter(n => n.activated).length / (nodeStats.length || 1)) * 100)}% online\n            </div>\n          </div>\n\n          <div className=\"stat-card\" style={{ background: 'linear-gradient(135deg, #F0F9FF, #E0F2FE)', border: 'none' }}>\n            <div className=\"stat-icon\" style={{ background: 'white' }}>\n              <Droplets size={20} style={{ color: '#0EA5E9' }} />\n            </div>\n            <div className=\"stat-label\" style={{ color: '#0369A1' }}>Avg Depth</div>\n            <div className=\"stat-value\" style={{ color: '#0C4A6E' }}>\n              {nodeStats.filter(n => n.activated).length > 0\n                ? (nodeStats.filter(n => n.activated).reduce((sum, n) => sum + parseFloat(n.avgHeight), 0) / nodeStats.filter(n => n.activated).length).toFixed(1)\n                : \"0.0\"}\n              <span className=\"stat-unit\" style={{ fontSize: '16px', color: '#0369A1' }}>m</span>\n            </div>\n            <div style={{ fontSize: '12px', color: '#38BDF8', marginTop: '4px' }}>stable levels</div>\n          </div>\n        </div>\n\n        {/* Insights Panel */}\n        <div style={{\n          background: 'white',\n          borderRadius: '16px',\n          padding: '20px',\n          border: '1px solid #E2E8F0',\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center'\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '12px', color: '#64748B', fontWeight: 600 }}>\n            <Activity size={18} />\n            System Insights\n          </div>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '10px', fontSize: '14px', color: '#334155' }}>\n              <div style={{ width: '6px', height: '6px', borderRadius: '50%', background: '#22C55E' }}></div>\n              All sensors operating within normal parameters\n            </div>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '10px', fontSize: '14px', color: '#334155' }}>\n              <div style={{ width: '6px', height: '6px', borderRadius: '50%', background: '#3B82F6' }}></div>\n              Data stream connection is stable (24ms latency)\n            </div>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '10px', fontSize: '14px', color: '#334155' }}>\n              <div style={{ width: '6px', height: '6px', borderRadius: '50%', background: '#F59E0B' }}></div>\n              Water levels trending steady over last 24h\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Node Selector */}\n      {allNodes.length > 0 && (\n        <div className=\"node-selector-card\">\n          <div className=\"node-selector-header\">\n            <div className=\"node-selector-title\">\n              <Signal size={16} />\n              Select Node View\n            </div>\n            <div className=\"node-selector-info\">\n              {allNodes.filter(n => n.activated).length} active nodes â€¢ {allReadings.length} total readings\n            </div>\n          </div>\n          <div className=\"node-selector-buttons\">\n            <button\n              onClick={() => setSelectedNodeView(\"all\")}\n              className={selectedNodeView === \"all\" ? \"node-btn node-btn-active\" : \"node-btn node-btn-inactive\"}\n            >\n              <Signal size={16} />\n              <div>\n                <div className=\"node-btn-name\">All Nodes</div>\n                <div className=\"node-btn-count\">{allReadings.length} readings</div>\n              </div>\n            </button>\n            {allNodes\n              .filter(node => node.activated) // Only show activated nodes\n              .map((node) => {\n                const nodeReadingsCount = allReadings.filter(r => r.node === node.name).length;\n                const nodeStatus = nodeStats.find(n => n.name === node.name)?.latestStatus || \"inactive\";\n                return (\n                  <button\n                    key={node.name}\n                    onClick={() => setSelectedNodeView(node.name)}\n                    className={selectedNodeView === node.name ? \"node-btn node-btn-active\" : \"node-btn node-btn-inactive\"}\n                  >\n                    <div\n                      className=\"node-btn-indicator\"\n                      style={{ background: getStatusColor(nodeStatus) }}\n                    ></div>\n                    <div>\n                      <div className=\"node-btn-name\">{node.name}</div>\n                      <div className=\"node-btn-count\">{nodeReadingsCount} readings â€¢ hâ‚={node.h1_m}m</div>\n                    </div>\n                  </button>\n                );\n              })}\n          </div>\n        </div>\n      )}\n\n      {/* Filters */}\n      <div className=\"filters-card\">\n        <div className=\"filters-grid\">\n          <div className=\"filter-group\">\n            <label>Time Period</label>\n            <div className=\"filter-buttons\">\n              {[\"all\", \"today\", \"week\", \"month\"].map((f) => (\n                <button\n                  key={f}\n                  onClick={() => setFilter(f)}\n                  className={filter === f ? \"filter-btn filter-btn-active\" : \"filter-btn filter-btn-inactive\"}\n                >\n                  {f.charAt(0).toUpperCase() + f.slice(1)}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"filter-group\">\n            <label>Search</label>\n            <input\n              type=\"text\"\n              placeholder=\"Search node or region...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"filter-input\"\n            />\n          </div>\n\n          <div className=\"filter-group\">\n            <label>Sort By</label>\n            <select value={sortBy} onChange={(e) => setSortBy(e.target.value)} className=\"filter-select\">\n              <option value=\"time\">Most Recent</option>\n              <option value=\"level-high\">Highest Level</option>\n              <option value=\"level-low\">Lowest Level</option>\n              <option value=\"status\">Status Priority</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {allReadings.length === 0 ? (\n        <div className=\"empty-state\">\n          <Droplets size={48} style={{ color: '#CCC', marginBottom: '16px' }} />\n          <h3>No Sensor Data</h3>\n          <p>Waiting for LoRa sensor readings from configured nodes...</p>\n        </div>\n      ) : (\n        <>\n          {/* Node Status Cards */}\n          <div className=\"nodes-section\">\n            <div className=\"section-header\">\n              <div className=\"section-title\">\n                {selectedNodeView === \"all\" ? \"All Nodes Status\" : `${selectedNodeView} Status`}\n              </div>\n              <div className=\"section-badge\">\n                {selectedNodeView === \"all\"\n                  ? `${nodeStats.filter(n => n.activated).length} active nodes`\n                  : `hâ‚ = ${nodeStats.find(n => n.name === selectedNodeView)?.h1_m || 0}m`}\n              </div>\n            </div>\n\n            {/* Edit Cable Length Modal */}\n            {editModal && (\n              <div className=\"modal-overlay\">\n                <div className=\"modal-content\">\n                  <div className=\"modal-header\">\n                    <h2 className=\"modal-title\">Edit Cable Length - {editModal.name}</h2>\n                    <p className=\"modal-subtitle\">Update hâ‚ (cable length) for this node</p>\n                  </div>\n\n                  <div className=\"modal-info\">\n                    <p>\n                      <strong>Current Values:</strong><br />\n                      â€¢ hâ‚ (Cable): {editModal.h1_m}m<br />\n                      Updating cable length will recalculate water height automatically.\n                    </p>\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label className=\"form-label\">\n                      New Cable Length (hâ‚) in meters <span style={{ color: '#DC2626' }}>*</span>\n                    </label>\n                    <input\n                      type=\"number\"\n                      step=\"0.1\"\n                      min=\"0\"\n                      value={cableLength}\n                      onChange={(e) => setCableLength(e.target.value)}\n                      placeholder=\"Enter new cable length\"\n                      className=\"form-input\"\n                      autoFocus\n                    />\n                  </div>\n\n                  <div className=\"modal-actions\">\n                    <button onClick={handleUpdateCableLength} className=\"btn-modal btn-modal-dark\">\n                      <CheckCircle size={16} />\n                      Update Cable Length\n                    </button>\n                    <button\n                      onClick={() => {\n                        setEditModal(null);\n                        setCableLength(\"\");\n                      }}\n                      className=\"btn-modal btn-modal-cancel\"\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            <div className=\"nodes-grid\">\n              {nodeStats\n                .filter(node => {\n                  // Show all activated nodes when \"all\" is selected, or just the selected node\n                  if (selectedNodeView === \"all\") {\n                    return node.activated;\n                  }\n                  return node.name === selectedNodeView;\n                })\n                .map((node) => (\n                  <div key={node.name} style={{\n                    background: 'white',\n                    borderRadius: '16px',\n                    padding: '20px',\n                    boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03)',\n                    border: '1px solid #E2E8F0',\n                    display: 'flex',\n                    flexDirection: 'column',\n                    gap: '16px'\n                  }}>\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n                        <div style={{\n                          width: '40px',\n                          height: '40px',\n                          borderRadius: '10px',\n                          background: node.activated ? '#DCFCE7' : '#F3F4F6',\n                          display: 'flex',\n                          alignItems: 'center',\n                          justifyContent: 'center',\n                          color: node.activated ? '#16A34A' : '#9CA3AF'\n                        }}>\n                          <Droplets size={20} />\n                        </div>\n                        <div>\n                          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                            <div style={{ fontWeight: 600, fontSize: '16px', color: '#0F172A' }}>{node.name}</div>\n                            <button\n                              className=\"btn-icon-small\"\n                              onClick={() => handleEditCableLength(node)}\n                              title=\"Edit Cable Length\"\n                            >\n                              <Edit size={14} />\n                            </button>\n                          </div>\n                          <div style={{ fontSize: '12px', color: '#64748B' }}>Sensor ID: #{node.name.substring(0, 4)}...</div>\n                        </div>\n                      </div>\n                      <div style={{\n                        padding: '4px 10px',\n                        borderRadius: '20px',\n                        fontSize: '12px',\n                        fontWeight: 600,\n                        background: node.activated ? '#DCFCE7' : '#F3F4F6',\n                        color: node.activated ? '#16A34A' : '#6B7280',\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '4px'\n                      }}>\n                        <div style={{\n                          width: '6px',\n                          height: '6px',\n                          borderRadius: '50%',\n                          background: 'currentColor'\n                        }}></div>\n                        {node.latestStatus.toUpperCase()}\n                      </div>\n                    </div>\n\n                    {/* Water Level Progress */}\n                    <div>\n                      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px', fontSize: '13px' }}>\n                        <span style={{ color: '#64748B' }}>Water Level</span>\n                        <span style={{ fontWeight: 600, color: '#0F172A' }}>\n                          {node.avgHeight}m <span style={{ color: '#94A3B8', fontWeight: 400 }}>/ {node.h1_m}m</span>\n                        </span>\n                      </div>\n                      <div style={{\n                        height: '8px',\n                        background: '#F1F5F9',\n                        borderRadius: '4px',\n                        overflow: 'hidden'\n                      }}>\n                        <div style={{\n                          width: `${(parseFloat(node.avgHeight) / parseFloat(node.h1_m || 20)) * 100}%`,\n                          height: '100%',\n                          background: 'linear-gradient(90deg, #3B82F6, #0EA5E9)',\n                          borderRadius: '4px'\n                        }}></div>\n                      </div>\n                    </div>\n\n                    <div style={{\n                      display: 'grid',\n                      gridTemplateColumns: '1fr 1fr',\n                      gap: '12px',\n                      paddingTop: '16px',\n                      borderTop: '1px solid #F1F5F9'\n                    }}>\n                      <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n                        <Signal size={14} style={{ color: '#64748B' }} />\n                        <span style={{ fontSize: '12px', color: '#64748B' }}>{node.count} readings</span>\n                      </div>\n                      <div style={{ display: 'flex', gap: '8px', alignItems: 'center', justifyContent: 'flex-end' }}>\n                        <Clock size={14} style={{ color: '#64748B' }} />\n                        <span style={{ fontSize: '12px', color: '#64748B' }}>\n                          {node.lastReading ? new Date(node.lastReading).toLocaleTimeString() : 'N/A'}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n            </div>\n          </div>\n\n          {/* Recent Readings */}\n          <div className=\"readings-section\">\n            <div className=\"section-header\">\n              <div className=\"section-title\">\n                {selectedNodeView === \"all\" ? \"Recent Readings - All Nodes\" : `Recent Readings - ${selectedNodeView}`}\n              </div>\n              <div className=\"section-badge\">\n                Showing {filteredData.length} of {allReadings.length} readings\n              </div>\n            </div>\n            <div className=\"readings-list\">\n              {filteredData.slice(0, 20).map((item) => (\n                <div key={item.id} className=\"reading-card\">\n                  <div className=\"reading-header\">\n                    <div className=\"reading-node\">\n                      <div className=\"reading-node-name\">{item.node}</div>\n                      <span\n                        className=\"status-badge\"\n                        style={{\n                          background: `${getStatusColor(item.nodeStatus)}20`,\n                          color: getStatusColor(item.nodeStatus)\n                        }}\n                      >\n                        {getStatusIcon(item.nodeStatus)}\n                        {item.nodeStatus}\n                      </span>\n                    </div>\n                    <div className=\"reading-time\">\n                      <Clock size={12} />\n                      {new Date(item.timestamp).toLocaleString()}\n                    </div>\n                  </div>\n                  <div className=\"reading-metrics\">\n                    <div className=\"reading-metric\">\n                      <div className=\"reading-metric-label\">\n                        Water Height\n                        <Tooltip content=\"Distance from surface to water level\" />\n                      </div>\n                      <div className=\"reading-metric-value\">{item.waterHeightM}m</div>\n                    </div>\n                    <div className=\"reading-metric\">\n                      <div className=\"reading-metric-label\">\n                        Depth (hâ‚‚)\n                        <Tooltip content=\"Distance from cable end to water surface\" />\n                      </div>\n                      <div className=\"reading-metric-value\">{item.h2}m</div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </>\n      )\n      }\n    </div >\n  );\n};\n\nexport default Monitor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}