{"ast":null,"code":"var _jsxFileName = \"/run/media/thobbs/EastManPhoenyXP/WALEKI_FRONTEND/WALEKI-FRONT/src/components/Chatbot.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { MessageCircle, X, Send, Minimize2, Maximize2 } from 'lucide-react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Chatbot = () => {\n  _s();\n  const {\n    currentUser\n  } = useAuth();\n  const [isOpen, setIsOpen] = useState(false);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  // Get time-based greeting\n  const getTimeBasedGreeting = () => {\n    var _currentUser$displayN;\n    const hour = new Date().getHours();\n    const name = (currentUser === null || currentUser === void 0 ? void 0 : (_currentUser$displayN = currentUser.displayName) === null || _currentUser$displayN === void 0 ? void 0 : _currentUser$displayN.split(' ')[0]) || 'there';\n    if (hour >= 5 && hour < 12) {\n      return `Good morning, ${name}! ‚òÄÔ∏è Ready to monitor your water wells today?`;\n    } else if (hour >= 12 && hour < 17) {\n      return `Good afternoon, ${name}! üëã How can I help with your water monitoring?`;\n    } else if (hour >= 17 && hour < 21) {\n      return `Good evening, ${name}! üåÜ What can I assist you with?`;\n    } else {\n      return `Hey ${name}! üåô Working late? I'm here to help!`;\n    }\n  };\n\n  // Initialize with time-based greeting\n  useEffect(() => {\n    setMessages([{\n      type: 'bot',\n      message: getTimeBasedGreeting(),\n      timestamp: new Date()\n    }]);\n  }, [currentUser]);\n\n  // Auto-scroll to bottom\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Focus input when opened\n  useEffect(() => {\n    if (isOpen && !isMinimized) {\n      var _inputRef$current;\n      (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n    }\n  }, [isOpen, isMinimized]);\n\n  // Get user's first name\n  const getUserName = () => {\n    var _currentUser$displayN2;\n    return (currentUser === null || currentUser === void 0 ? void 0 : (_currentUser$displayN2 = currentUser.displayName) === null || _currentUser$displayN2 === void 0 ? void 0 : _currentUser$displayN2.split(' ')[0]) || 'friend';\n  };\n\n  // Enhanced AI Response Logic with more human-like interactions\n  const getBotResponse = input => {\n    const lower = input.toLowerCase();\n    const name = getUserName();\n\n    // Greetings with time awareness\n    if (lower.match(/^(hi|hello|hey|good morning|good afternoon|good evening|sup|yo|hola)/)) {\n      const hour = new Date().getHours();\n      const greetings = [`Hey ${name}! üòä What brings you here today?`, `Hello! I'm all ears. What would you like to know?`, `Hi there! Ready to tackle some water monitoring questions?`, hour < 12 ? `Good morning! ‚òï How can I brighten your day?` : `Hey! üëã What's on your mind?`];\n      return greetings[Math.floor(Math.random() * greetings.length)];\n    }\n\n    // How are you / Personal\n    if (lower.match(/(how are you|how're you|hows it going|whats up|wassup)/)) {\n      return `I'm doing great, thanks for asking! üòä As an AI assistant, I'm always ready to help. How about you? Everything running smoothly with your water monitoring system?`;\n    }\n\n    // Thank you responses\n    if (lower.match(/(thank|thanks|thx|appreciate|grateful)/)) {\n      const responses = [`You're very welcome, ${name}! üòä Happy to help anytime!`, `My pleasure! That's what I'm here for. Need anything else?`, `Glad I could help! Feel free to ask me anything else.`, `You're welcome! Don't hesitate to reach out if you need more help! üëç`];\n      return responses[Math.floor(Math.random() * responses.length)];\n    }\n\n    // Goodbye / See you\n    if (lower.match(/(bye|goodbye|see you|later|gtg|gotta go)/)) {\n      const hour = new Date().getHours();\n      const farewells = [`Goodbye, ${name}! Have a wonderful ${hour < 17 ? 'day' : 'evening'}! üëã`, `See you later! Don't hesitate to come back if you need help! üòä`, `Take care! Your water wells are in good hands! üíß`, `Catch you later! Stay hydrated! üí¶üòÑ`];\n      return farewells[Math.floor(Math.random() * farewells.length)];\n    }\n\n    // Good / Great / Awesome responses\n    if (lower.match(/^(good|great|awesome|excellent|perfect|nice|cool|wonderful)/)) {\n      return `That's awesome to hear! üéâ Is there anything else I can help you with?`;\n    }\n\n    // Yes / No responses\n    if (lower === 'yes' || lower === 'yeah' || lower === 'yep' || lower === 'sure') {\n      return `Great! What would you like to know about? I can help with:\\n‚Ä¢ Adding nodes\\n‚Ä¢ Troubleshooting issues\\n‚Ä¢ Understanding calculations\\n‚Ä¢ System settings\\n\\nJust ask away! üòä`;\n    }\n    if (lower === 'no' || lower === 'nope' || lower === 'nah') {\n      return `No worries! I'm here whenever you need me. Feel free to ask if anything comes up! üëç`;\n    }\n\n    // Who are you / About bot\n    if (lower.match(/(who are you|what are you|your name|about you)/)) {\n      return `I'm Waleki Assistant! ü§ñ Your friendly AI helper for all things water monitoring.\\n\\nI can help you with:\\n‚Ä¢ Setting up sensor nodes\\n‚Ä¢ Understanding water calculations\\n‚Ä¢ Troubleshooting problems\\n‚Ä¢ Navigating the system\\n‚Ä¢ And much more!\\n\\nThink of me as your 24/7 water monitoring expert! üíß`;\n    }\n\n    // Add node - detailed\n    if (lower.match(/(add|create|setup|install|new).*(node|sensor|device)/)) {\n      return `Great! Let me walk you through adding a new sensor node! üéØ\\n\\n**Step-by-step:**\\n1Ô∏è‚É£ Go to **Settings** ‚Üí **Nodes tab**\\n2Ô∏è‚É£ Scroll to the form at bottom\\n3Ô∏è‚É£ Enter **Node ID** (like \"Node4\" or \"Well-East\")\\n4Ô∏è‚É£ Enter **Cable Length (h‚ÇÅ)** in meters\\n   üìè *This is SUPER important - measure carefully!*\\n5Ô∏è‚É£ Add **Location** (e.g., \"Mwanza Region\")\\n6Ô∏è‚É£ Check **\"Activate immediately\"** if ready\\n7Ô∏è‚É£ Click **\"Add Node\"** button\\n\\n‚úÖ Done! Your node will show up in the Dashboard!\\n\\nNeed help measuring cable length? Just ask! üòä`;\n    }\n\n    // Cable length / h1 - detailed\n    if (lower.match(/(cable|h1|h‚ÇÅ|measure|length|depth)/)) {\n      return `Ah, cable length - the foundation of accurate readings! üìè\\n\\n**What is h‚ÇÅ?**\\nIt's the total distance from ground surface to the END of your sensor cable.\\n\\n**Why is it critical?**\\nWater Height = h‚ÇÅ - h‚ÇÇ\\n‚Ä¢ h‚ÇÅ = Your cable length (FIXED, you measure once)\\n‚Ä¢ h‚ÇÇ = Sensor reading (CHANGES, real-time from sensor)\\n‚Ä¢ H = Actual water height (CALCULATED)\\n\\n**Example:**\\n‚Ä¢ Cable goes down 50 meters (h‚ÇÅ = 50m)\\n‚Ä¢ Sensor reads 45m from surface (h‚ÇÇ = 45m)\\n‚Ä¢ Water height = 50 - 45 = **5 meters of water** üíß\\n\\n**Pro tip:** If your water shows 0m but there IS water, your h‚ÇÅ is probably too small! Remeasure and update it in Settings.\\n\\nMake sense? Let me know if you need clarification! ü§ì`;\n    }\n\n    // Notifications / Alerts - detailed\n    if (lower.match(/(notification|alert|push|bell|email|sms)/)) {\n      return `Let's get you set up with notifications! üîî\\n\\n**Quick Setup:**\\n1Ô∏è‚É£ Click the **bell icon (üîî)** in the navbar\\n2Ô∏è‚É£ Click **\"Enable Notifications\"**\\n3Ô∏è‚É£ Allow permissions when browser asks\\n4Ô∏è‚É£ You'll get a test notification!\\n\\n**You'll receive alerts for:**\\nüö® **Critical:** Sensor offline, no water\\n‚ö†Ô∏è **Warning:** Low water, battery low\\n‚ÑπÔ∏è **Info:** Sensor back online, daily reports\\n\\n**Want to customize?**\\nGo to Settings ‚Üí System to adjust:\\n‚Ä¢ How often to check\\n‚Ä¢ When to alert\\n‚Ä¢ Which alert types\\n\\n**Pro tip:** You can also get SMS & email alerts! Check Settings ‚Üí Preferences to enable them.\\n\\nLet me know if you hit any snags! üòä`;\n    }\n\n    // Offline sensor - detailed\n    if (lower.match(/(offline|not working|down|disconnected|no signal|connection)/)) {\n      return `Sensor offline? Don't worry, let's troubleshoot! üîß\\n\\n**Quick Checks:**\\n\\n1Ô∏è‚É£ **Power Supply**\\n   ‚úì Is the sensor powered on?\\n   ‚úì Check battery level\\n   ‚úì Solar panel clean and working?\\n\\n2Ô∏è‚É£ **Physical Connections**\\n   ‚úì All cables firmly connected?\\n   ‚úì No visible damage to wires?\\n   ‚úì Waterproof seals intact?\\n\\n3Ô∏è‚É£ **Sensor Position**\\n   ‚úì Is sensor within 5m of cable end?\\n   ‚úì Any obstructions?\\n   ‚úì Proper alignment?\\n\\n4Ô∏è‚É£ **Check System Logs**\\n   üìä Go to **Health** ‚Üí **System Logs**\\n   Look for error messages\\n\\n5Ô∏è‚É£ **Network Range**\\n   üì° Too far from gateway? (Max 2-15km)\\n   Buildings blocking signal?\\n\\n**Still offline?**\\nTry a soft reset: Power off ‚Üí Wait 30s ‚Üí Power on\\n\\nIf nothing works, our support team is ready! Contact: support@waleki.com\\n\\nHope this helps! ü§û`;\n    }\n\n    // Water shows 0m - detailed\n    if (lower.match(/(water.*0|zero.*water|shows.*0|0.*meter|no.*water|empty)/)) {\n      return `Water showing 0m but you know there's water? I can fix that! üíß\\n\\n**The Problem:**\\nThis happens when h‚ÇÇ ‚â• h‚ÇÅ (sensor reading ‚â• cable length)\\n\\n**Translation:**\\nThe sensor thinks it's reading deeper than your cable reaches, which is impossible! So it displays 0m.\\n\\n**The Solution:**\\n\\n1Ô∏è‚É£ **Check Your h‚ÇÅ (Cable Length):**\\n   ‚Ä¢ Go to **Settings** ‚Üí **Nodes tab**\\n   ‚Ä¢ Find your node in the list\\n   ‚Ä¢ Check the h‚ÇÅ value - is it correct?\\n\\n2Ô∏è‚É£ **Update if Wrong:**\\n   ‚Ä¢ Click the **edit icon (‚úèÔ∏è)**\\n   ‚Ä¢ Enter the CORRECT cable length\\n   ‚Ä¢ Save changes\\n\\n3Ô∏è‚É£ **Verify:**\\n   ‚Ä¢ Go to Dashboard\\n   ‚Ä¢ Check if water height now shows correctly\\n\\n**Example Fix:**\\n‚ùå Before: h‚ÇÅ = 40m, h‚ÇÇ = 45m ‚Üí Shows 0m (ERROR!)\\n‚úÖ After: h‚ÇÅ = 50m, h‚ÇÇ = 45m ‚Üí Shows 5m (CORRECT!)\\n\\n**Pro Tip:** Always measure your cable length from ground surface to the ABSOLUTE END of the cable. Don't estimate - use a tape measure! üìè\\n\\nDid that solve it? Let me know! üòä`;\n    }\n\n    // Backup / Export - detailed\n    if (lower.match(/(backup|export|save|download|config)/)) {\n      return `Smart thinking - backups are crucial! üíæ\\n\\n**To Backup Your Configuration:**\\n\\n1Ô∏è‚É£ Go to **Settings** ‚Üí **Backup tab**\\n2Ô∏è‚É£ Click the big **\"Export\"** button\\n3Ô∏è‚É£ A JSON file downloads automatically\\n   üìÅ Filename: waleki-config-[timestamp].json\\n4Ô∏è‚É£ **Store it safely!**\\n   ‚Ä¢ Google Drive\\n   ‚Ä¢ Dropbox\\n   ‚Ä¢ External hard drive\\n   ‚Ä¢ USB stick\\n\\n**What's Included:**\\n‚úì All sensor node configurations\\n‚úì System settings\\n‚úì User preferences  \\n‚úì Alert thresholds\\n‚úì Notification settings\\n\\n**To Restore Later:**\\n‚Ä¢ Same tab, click **\"Import\"**\\n‚Ä¢ Select your backup file\\n‚Ä¢ Confirm (it will overwrite current settings)\\n\\n**Pro Tip:** Make backups:\\n‚Ä¢ Before major changes\\n‚Ä¢ Once a month\\n‚Ä¢ Before system updates\\n\\nYour future self will thank you! üôè`;\n    }\n\n    // Dashboard / Pages / Navigation\n    if (lower.match(/(dashboard|page|where|navigate|go to|find)/)) {\n      return `Let me give you a tour of Waleki! üó∫Ô∏è\\n\\n**Main Pages:**\\n\\nüè† **Dashboard** - Your home base\\n   ‚Ä¢ See all active nodes at once\\n   ‚Ä¢ Real-time water levels\\n   ‚Ä¢ Status indicators\\n   ‚Ä¢ Quick stats\\n\\nüìä **Monitor** - Deep dive single nodes\\n   ‚Ä¢ Select specific node\\n   ‚Ä¢ Live sensor data\\n   ‚Ä¢ Detailed readings\\n   ‚Ä¢ Historical mini-chart\\n\\nüìà **Analytics** - Data analysis paradise\\n   ‚Ä¢ Compare multiple nodes\\n   ‚Ä¢ Charts & graphs\\n   ‚Ä¢ Export data (CSV/JSON)\\n   ‚Ä¢ Custom date ranges\\n\\nüè• **Health** - System diagnostics\\n   ‚Ä¢ All nodes overview\\n   ‚Ä¢ System logs\\n   ‚Ä¢ Error tracking\\n   ‚Ä¢ Performance metrics\\n\\n‚öôÔ∏è **Settings** - Configuration central\\n   ‚Ä¢ Add/edit nodes\\n   ‚Ä¢ System settings\\n   ‚Ä¢ Backup/restore\\n   ‚Ä¢ Preferences\\n\\nüë§ **Profile** - Your account\\n   ‚Ä¢ Personal info\\n   ‚Ä¢ Security settings\\n   ‚Ä¢ Activity log\\n   ‚Ä¢ Data export\\n\\n‚ùì **Help** - Knowledge base\\n   ‚Ä¢ FAQs\\n   ‚Ä¢ Tutorials\\n   ‚Ä¢ Contact support\\n\\nWhere would you like to go? üòä`;\n    }\n\n    // Status colors / Indicators\n    if (lower.match(/(status|color|indicator|green|red|yellow|orange|meaning)/)) {\n      return `Let me decode those colors for you! üé®\\n\\n**Node Status Colors:**\\n\\nüü¢ **Active (Green)** - All good!\\n   ‚Ä¢ Water level > 10 meters\\n   ‚Ä¢ Sensor online & working\\n   ‚Ä¢ No issues detected\\n   ‚Ä¢ Keep monitoring normally\\n\\nüü° **Warning (Yellow)** - Pay attention\\n   ‚Ä¢ Water level 5-10 meters\\n   ‚Ä¢ Still safe, but decreasing\\n   ‚Ä¢ Monitor more frequently\\n   ‚Ä¢ Consider water conservation\\n\\nüü† **Low (Orange)** - Take action soon\\n   ‚Ä¢ Water level 0-5 meters\\n   ‚Ä¢ Getting critically low\\n   ‚Ä¢ Plan alternative sources\\n   ‚Ä¢ Alert relevant people\\n\\nüî¥ **Critical (Red)** - Immediate action!\\n   ‚Ä¢ Water ‚â§ 0 meters (empty/error)\\n   ‚Ä¢ Sensor offline for 5+ minutes\\n   ‚Ä¢ System error detected\\n   ‚Ä¢ Check sensor immediately!\\n\\n‚ö™ **Inactive (Gray)** - Not monitoring\\n   ‚Ä¢ Node exists but deactivated\\n   ‚Ä¢ Not collecting data\\n   ‚Ä¢ Enable in Settings if needed\\n\\n**Pro Tip:** You can customize these thresholds in Settings ‚Üí System to match your specific needs!\\n\\nMake sense? üëç`;\n    }\n\n    // Formula / Math / Calculation\n    if (lower.match(/(formula|calculate|math|equation|h1|h2)/)) {\n      return `Let's break down the water height formula! üßÆ\\n\\n**The Formula:**\\n**H = h‚ÇÅ - h‚ÇÇ**\\n\\nSimple subtraction, but each variable is critical!\\n\\n**What Each Means:**\\n\\nüìè **h‚ÇÅ** (Cable Length)\\n   ‚Ä¢ Distance: Ground ‚Üí End of cable\\n   ‚Ä¢ FIXED value (you measure once)\\n   ‚Ä¢ YOU set this in Settings\\n   ‚Ä¢ Must be VERY accurate!\\n\\nüì° **h‚ÇÇ** (Sensor Reading)\\n   ‚Ä¢ Distance: Ground ‚Üí Water surface\\n   ‚Ä¢ CHANGES in real-time\\n   ‚Ä¢ From ultrasonic sensor\\n   ‚Ä¢ Updates automatically\\n\\nüíß **H** (Water Height)\\n   ‚Ä¢ Actual water depth in well\\n   ‚Ä¢ CALCULATED automatically\\n   ‚Ä¢ h‚ÇÅ minus h‚ÇÇ\\n   ‚Ä¢ What you see on Dashboard\\n\\n**Real Example:**\\nYour well setup:\\n‚Ä¢ Cable goes 50m deep (h‚ÇÅ = 50)\\n‚Ä¢ Sensor reads 45m to water (h‚ÇÇ = 45)\\n‚Ä¢ Water depth: 50 - 45 = **5 meters** ‚úÖ\\n\\nAs water rises:\\n‚Ä¢ h‚ÇÇ becomes 40m\\n‚Ä¢ H = 50 - 40 = **10 meters** ‚úÖ\\n\\nAs water lowers:\\n‚Ä¢ h‚ÇÇ becomes 48m  \\n‚Ä¢ H = 50 - 48 = **2 meters** (Low!) ‚ö†Ô∏è\\n\\nIf h‚ÇÇ ‚â• h‚ÇÅ:\\n‚Ä¢ Math gives negative\\n‚Ä¢ System shows 0m (error)\\n‚Ä¢ Check your h‚ÇÅ value!\\n\\nCrystal clear? üíé`;\n    }\n\n    // Password / Login / Security\n    if (lower.match(/(password|login|forgot|reset|security|2fa|two factor)/)) {\n      return `Let's secure your account! üîê\\n\\n**Change Password:**\\n1Ô∏è‚É£ Go to **Profile** ‚Üí **Security tab**\\n2Ô∏è‚É£ Enter current password\\n3Ô∏è‚É£ Enter new password (min 6 chars)\\n4Ô∏è‚É£ Confirm new password\\n5Ô∏è‚É£ Click \"Change Password\"\\n6Ô∏è‚É£ You'll be logged out - sign in again\\n\\n**Forgot Password:**\\n‚Ä¢ Go to Login page\\n‚Ä¢ Click \"Forgot Password?\" link\\n‚Ä¢ Enter your email\\n‚Ä¢ Check inbox for reset link\\n‚Ä¢ Link valid for 1 hour\\n‚Ä¢ Set new password\\n\\n**Enable Two-Factor Authentication:**\\n1Ô∏è‚É£ Profile ‚Üí Security tab\\n2Ô∏è‚É£ Find \"Two-Factor Authentication\"\\n3Ô∏è‚É£ Click \"Enable 2FA\"\\n4Ô∏è‚É£ Follow setup wizard\\n5Ô∏è‚É£ Scan QR code with authenticator app\\n6Ô∏è‚É£ Enter verification code\\n\\n**Security Tips:**\\n‚úì Use strong, unique passwords\\n‚úì Enable 2FA for extra security\\n‚úì Don't share login credentials\\n‚úì Log out on shared devices\\n‚úì Check activity log regularly\\n\\nYour account, your fortress! üè∞`;\n    }\n\n    // Help / Support / Contact\n    if (lower.match(/(help|support|contact|call|email|assistance|stuck)/)) {\n      return `I'm here to help, and so is our team! ü§ù\\n\\n**Get Support:**\\n\\nüìß **Email Support**\\n   ‚Ä¢ support@waleki.com\\n   ‚Ä¢ Response time: < 24 hours\\n   ‚Ä¢ Include screenshots if possible\\n   ‚Ä¢ Mention your node IDs\\n\\nüìû **Phone Support**\\n   ‚Ä¢ +255 XXX XXX XXX\\n   ‚Ä¢ Mon-Fri: 8 AM - 6 PM EAT\\n   ‚Ä¢ Weekend: Emergency only\\n   ‚Ä¢ Have account info ready\\n\\nüí¨ **Live Chat**\\n   ‚Ä¢ Right here with me! (for quick questions)\\n   ‚Ä¢ 24/7 availability\\n   ‚Ä¢ Instant responses\\n   ‚Ä¢ No waiting!\\n\\nüìö **Help Center**\\n   ‚Ä¢ Click \"Help\" in navbar\\n   ‚Ä¢ 30+ detailed articles\\n   ‚Ä¢ Step-by-step guides\\n   ‚Ä¢ Search by keyword\\n\\n**What I Can Help With:**\\n‚úì Adding/configuring nodes\\n‚úì Understanding readings\\n‚úì Troubleshooting issues\\n‚úì System navigation\\n‚úì Calculations & formulas\\n‚úì Settings & preferences\\n‚úì Quick how-tos\\n\\nWhat do you need help with? üòä`;\n    }\n\n    // Default / Unknown\n    return `Hmm, I'm not quite sure about that one! ü§î\\n\\nBut I'm always learning! Here's what I'm really good at:\\n\\n**Popular Topics:**\\n‚Ä¢ üîß \"How do I add a node?\"\\n‚Ä¢ üíß \"Why does water show 0m?\"\\n‚Ä¢ üîî \"Enable notifications\"\\n‚Ä¢ üìè \"Explain the water formula\"\\n‚Ä¢ üö® \"Sensor is offline\"\\n‚Ä¢ ‚öôÔ∏è \"Change settings\"\\n‚Ä¢ üíæ \"Backup my configuration\"\\n‚Ä¢ üìä \"View analytics\"\\n‚Ä¢ üîê \"Reset my password\"\\n\\n**Or Just Chat:**\\n‚Ä¢ Ask how I'm doing\\n‚Ä¢ Say hello\\n‚Ä¢ Tell me what you need\\n\\nI'm here to help! What's on your mind? üòä`;\n  };\n\n  // Handle send message\n  const handleSend = () => {\n    if (!inputMessage.trim()) return;\n\n    // Add user message\n    const userMessage = {\n      type: 'user',\n      message: inputMessage,\n      timestamp: new Date()\n    };\n    setMessages([...messages, userMessage]);\n    const currentInput = inputMessage;\n    setInputMessage('');\n\n    // Show typing indicator\n    setIsTyping(true);\n\n    // Simulate realistic typing delay (longer for longer responses)\n    const typingDelay = Math.min(800 + currentInput.length * 20, 2000);\n    setTimeout(() => {\n      const botResponse = {\n        type: 'bot',\n        message: getBotResponse(currentInput),\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, botResponse]);\n      setIsTyping(false);\n    }, typingDelay);\n  };\n\n  // Handle key press\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  // Get user avatar (profile photo or initials)\n  const getUserAvatar = () => {\n    var _currentUser$displayN3;\n    if (currentUser !== null && currentUser !== void 0 && currentUser.photoURL) {\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        src: currentUser.photoURL,\n        alt: \"You\",\n        style: {\n          width: '100%',\n          height: '100%',\n          borderRadius: '50%',\n          objectFit: 'cover'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 14\n      }, this);\n    }\n    const initials = (currentUser === null || currentUser === void 0 ? void 0 : (_currentUser$displayN3 = currentUser.displayName) === null || _currentUser$displayN3 === void 0 ? void 0 : _currentUser$displayN3.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase()) || 'U';\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: initials\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 12\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        @keyframes slideUp {\n          from {\n            transform: translateY(100px);\n            opacity: 0;\n          }\n          to {\n            transform: translateY(0);\n            opacity: 1;\n          }\n        }\n\n        @keyframes pulse {\n          0%, 100% {\n            transform: scale(1);\n          }\n          50% {\n            transform: scale(1.05);\n          }\n        }\n\n        @keyframes typing {\n          0%, 100% {\n            opacity: 0.3;\n          }\n          50% {\n            opacity: 1;\n          }\n        }\n\n        .chatbot-container {\n          position: fixed;\n          bottom: 24px;\n          right: 24px;\n          z-index: 9999;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n        }\n\n        /* Avatar Button */\n        .chatbot-avatar {\n          width: 64px;\n          height: 64px;\n          background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);\n          transition: all 0.3s ease;\n          border: 4px solid white;\n          color: white;\n          animation: pulse 2s ease-in-out infinite;\n        }\n\n        .chatbot-avatar:hover {\n          transform: scale(1.1);\n          box-shadow: 0 12px 32px rgba(0, 0, 0, 0.6);\n        }\n\n        .chatbot-avatar.open {\n          animation: none;\n        }\n\n        /* Chat Window */\n        .chat-window {\n          position: absolute;\n          bottom: 80px;\n          right: 0;\n          width: 400px;\n          max-height: ${isMinimized ? '60px' : '600px'};\n          background: white;\n          border-radius: 16px;\n          box-shadow: 0 12px 48px rgba(0, 0, 0, 0.2);\n          display: flex;\n          flex-direction: column;\n          overflow: hidden;\n          animation: slideUp 0.3s ease;\n          transition: max-height 0.3s ease;\n        }\n\n        /* Header */\n        .chat-header {\n          padding: 20px;\n          background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);\n          color: white;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n\n        .header-info {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n        }\n\n        .header-avatar {\n          width: 40px;\n          height: 40px;\n          background: rgba(255, 255, 255, 0.2);\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          backdrop-filter: blur(10px);\n        }\n\n        .header-text h3 {\n          font-size: 16px;\n          font-weight: 700;\n          margin-bottom: 2px;\n        }\n\n        .header-text p {\n          font-size: 12px;\n          opacity: 0.9;\n        }\n\n        .header-actions {\n          display: flex;\n          gap: 8px;\n        }\n\n        .header-btn {\n          width: 32px;\n          height: 32px;\n          background: rgba(255, 255, 255, 0.2);\n          border: none;\n          border-radius: 8px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          color: white;\n          backdrop-filter: blur(10px);\n        }\n\n        .header-btn:hover {\n          background: rgba(255, 255, 255, 0.3);\n        }\n\n        /* Messages */\n        .chat-messages {\n          flex: 1;\n          padding: 20px;\n          overflow-y: auto;\n          display: ${isMinimized ? 'none' : 'flex'};\n          flex-direction: column;\n          gap: 16px;\n          background: #FAFAFA;\n          max-height: 440px;\n        }\n\n        .chat-messages::-webkit-scrollbar {\n          width: 6px;\n        }\n\n        .chat-messages::-webkit-scrollbar-track {\n          background: #F0F0F0;\n        }\n\n        .chat-messages::-webkit-scrollbar-thumb {\n          background: #CCC;\n          border-radius: 3px;\n        }\n\n        .message {\n          display: flex;\n          gap: 10px;\n          animation: slideUp 0.2s ease;\n        }\n\n        .message.user {\n          flex-direction: row-reverse;\n        }\n\n        .message-avatar {\n          width: 32px;\n          height: 32px;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-shrink: 0;\n          font-size: 14px;\n          font-weight: 700;\n        }\n\n        .message-avatar.bot {\n          background: #000;\n          color: white;\n        }\n\n        .message-avatar.user {\n          background: #E8E8E8;\n          color: #000;\n        }\n\n        .message-content {\n          max-width: 75%;\n          padding: 12px 16px;\n          border-radius: 12px;\n          font-size: 14px;\n          line-height: 1.6;\n          white-space: pre-line;\n        }\n\n        .message.bot .message-content {\n          background: white;\n          color: #000;\n          border: 1px solid #E8E8E8;\n        }\n\n        .message.user .message-content {\n          background: #000;\n          color: white;\n        }\n\n        .message-content strong {\n          font-weight: 700;\n        }\n\n        /* Typing Indicator */\n        .typing-indicator {\n          display: flex;\n          gap: 10px;\n          padding: 12px 16px;\n          background: white;\n          border-radius: 12px;\n          width: fit-content;\n          border: 1px solid #E8E8E8;\n        }\n\n        .typing-dot {\n          width: 8px;\n          height: 8px;\n          background: #999;\n          border-radius: 50%;\n          animation: typing 1.4s ease-in-out infinite;\n        }\n\n        .typing-dot:nth-child(2) {\n          animation-delay: 0.2s;\n        }\n\n        .typing-dot:nth-child(3) {\n          animation-delay: 0.4s;\n        }\n\n        /* Input */\n        .chat-input-wrapper {\n          padding: 16px;\n          background: white;\n          border-top: 1px solid #E8E8E8;\n          display: ${isMinimized ? 'none' : 'flex'};\n          gap: 12px;\n        }\n\n        .chat-input {\n          flex: 1;\n          padding: 12px 16px;\n          border: 2px solid #E8E8E8;\n          border-radius: 12px;\n          font-size: 14px;\n          outline: none;\n          transition: all 0.2s ease;\n          font-family: inherit;\n          resize: none;\n          max-height: 100px;\n        }\n\n        .chat-input:focus {\n          border-color: #000;\n        }\n\n        .send-btn {\n          width: 44px;\n          height: 44px;\n          background: #000;\n          color: white;\n          border: none;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          flex-shrink: 0;\n        }\n\n        .send-btn:hover {\n          transform: scale(1.05);\n          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);\n        }\n\n        .send-btn:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n          transform: none;\n        }\n\n        /* Responsive */\n        @media (max-width: 640px) {\n          .chat-window {\n            width: calc(100vw - 48px);\n            max-width: 400px;\n          }\n\n          .chatbot-container {\n            right: 16px;\n            bottom: 16px;\n          }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatbot-container\",\n      children: [isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-window\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header-avatar\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/assets/chatbot.png\",\n                alt: \"Bot\",\n                style: {\n                  width: '100%',\n                  height: '100%',\n                  borderRadius: '50%',\n                  objectFit: 'cover'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 3\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header-text\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Waleki Assistant\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Always here to help\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"header-btn\",\n              onClick: () => setIsMinimized(!isMinimized),\n              title: isMinimized ? 'Maximize' : 'Minimize',\n              children: isMinimized ? /*#__PURE__*/_jsxDEV(Maximize2, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 34\n              }, this) : /*#__PURE__*/_jsxDEV(Minimize2, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 60\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"header-btn\",\n              onClick: () => setIsOpen(false),\n              title: \"Close\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 586,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-messages\",\n          children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message ${msg.type}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `message-avatar ${msg.type}`,\n              children: msg.type === 'bot' ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/assets/chatbot.png\",\n                alt: \"Bot\",\n                style: {\n                  width: '100%',\n                  height: '100%',\n                  borderRadius: '50%',\n                  objectFit: 'cover'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 597,\n                columnNumber: 5\n              }, this) : getUserAvatar()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-content\",\n              children: msg.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 602,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 17\n          }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message bot\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-avatar bot\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/assets/chatbot.png\",\n                alt: \"Bot\",\n                style: {\n                  width: '100%',\n                  height: '100%',\n                  borderRadius: '50%',\n                  objectFit: 'cover'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 7\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"typing-indicator\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"typing-dot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"typing-dot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 614,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"typing-dot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 615,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-input-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            ref: inputRef,\n            className: \"chat-input\",\n            placeholder: \"Type your message...\",\n            value: inputMessage,\n            onChange: e => setInputMessage(e.target.value),\n            onKeyPress: handleKeyPress,\n            rows: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"send-btn\",\n            onClick: handleSend,\n            disabled: !inputMessage.trim(),\n            title: \"Send message\",\n            children: /*#__PURE__*/_jsxDEV(Send, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `chatbot-avatar ${isOpen ? 'open' : ''}`,\n        onClick: () => setIsOpen(!isOpen),\n        title: \"Chat with Waleki Assistant\",\n        children: isOpen ? /*#__PURE__*/_jsxDEV(X, {\n          size: 28\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 652,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/assets/chatbot.png\",\n          alt: \"Bot\",\n          style: {\n            width: '100%',\n            height: '100%',\n            borderRadius: '50%',\n            objectFit: 'cover'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 653,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 647,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 558,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Chatbot, \"8QSix0Ti2S/CtC6NaNdKC7oBA9g=\", false, function () {\n  return [useAuth];\n});\n_c = Chatbot;\nexport default Chatbot;\nvar _c;\n$RefreshReg$(_c, \"Chatbot\");","map":{"version":3,"names":["React","useState","useEffect","useRef","MessageCircle","X","Send","Minimize2","Maximize2","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","Chatbot","_s","currentUser","isOpen","setIsOpen","isMinimized","setIsMinimized","messages","setMessages","inputMessage","setInputMessage","isTyping","setIsTyping","messagesEndRef","inputRef","getTimeBasedGreeting","_currentUser$displayN","hour","Date","getHours","name","displayName","split","type","message","timestamp","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","_inputRef$current","focus","getUserName","_currentUser$displayN2","getBotResponse","input","lower","toLowerCase","match","greetings","Math","floor","random","length","responses","farewells","handleSend","trim","userMessage","currentInput","typingDelay","min","setTimeout","botResponse","prev","handleKeyPress","e","key","shiftKey","preventDefault","getUserAvatar","_currentUser$displayN3","photoURL","src","alt","style","width","height","borderRadius","objectFit","fileName","_jsxFileName","lineNumber","columnNumber","initials","map","n","join","substring","toUpperCase","children","jsx","className","onClick","title","size","msg","index","ref","placeholder","value","onChange","target","onKeyPress","rows","disabled","_c","$RefreshReg$"],"sources":["/run/media/thobbs/EastManPhoenyXP/WALEKI_FRONTEND/WALEKI-FRONT/src/components/Chatbot.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { MessageCircle, X, Send, Minimize2, Maximize2 } from 'lucide-react';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst Chatbot = () => {\n  const { currentUser } = useAuth();\n  const [isOpen, setIsOpen] = useState(false);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  // Get time-based greeting\n  const getTimeBasedGreeting = () => {\n    const hour = new Date().getHours();\n    const name = currentUser?.displayName?.split(' ')[0] || 'there';\n    \n    if (hour >= 5 && hour < 12) {\n      return `Good morning, ${name}! ‚òÄÔ∏è Ready to monitor your water wells today?`;\n    } else if (hour >= 12 && hour < 17) {\n      return `Good afternoon, ${name}! üëã How can I help with your water monitoring?`;\n    } else if (hour >= 17 && hour < 21) {\n      return `Good evening, ${name}! üåÜ What can I assist you with?`;\n    } else {\n      return `Hey ${name}! üåô Working late? I'm here to help!`;\n    }\n  };\n\n  // Initialize with time-based greeting\n  useEffect(() => {\n    setMessages([\n      {\n        type: 'bot',\n        message: getTimeBasedGreeting(),\n        timestamp: new Date()\n      }\n    ]);\n  }, [currentUser]);\n\n  // Auto-scroll to bottom\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Focus input when opened\n  useEffect(() => {\n    if (isOpen && !isMinimized) {\n      inputRef.current?.focus();\n    }\n  }, [isOpen, isMinimized]);\n\n  // Get user's first name\n  const getUserName = () => {\n    return currentUser?.displayName?.split(' ')[0] || 'friend';\n  };\n\n  // Enhanced AI Response Logic with more human-like interactions\n  const getBotResponse = (input) => {\n    const lower = input.toLowerCase();\n    const name = getUserName();\n\n    // Greetings with time awareness\n    if (lower.match(/^(hi|hello|hey|good morning|good afternoon|good evening|sup|yo|hola)/)) {\n      const hour = new Date().getHours();\n      const greetings = [\n        `Hey ${name}! üòä What brings you here today?`,\n        `Hello! I'm all ears. What would you like to know?`,\n        `Hi there! Ready to tackle some water monitoring questions?`,\n        hour < 12 ? `Good morning! ‚òï How can I brighten your day?` : `Hey! üëã What's on your mind?`\n      ];\n      return greetings[Math.floor(Math.random() * greetings.length)];\n    }\n\n    // How are you / Personal\n    if (lower.match(/(how are you|how're you|hows it going|whats up|wassup)/)) {\n      return `I'm doing great, thanks for asking! üòä As an AI assistant, I'm always ready to help. How about you? Everything running smoothly with your water monitoring system?`;\n    }\n\n    // Thank you responses\n    if (lower.match(/(thank|thanks|thx|appreciate|grateful)/)) {\n      const responses = [\n        `You're very welcome, ${name}! üòä Happy to help anytime!`,\n        `My pleasure! That's what I'm here for. Need anything else?`,\n        `Glad I could help! Feel free to ask me anything else.`,\n        `You're welcome! Don't hesitate to reach out if you need more help! üëç`\n      ];\n      return responses[Math.floor(Math.random() * responses.length)];\n    }\n\n    // Goodbye / See you\n    if (lower.match(/(bye|goodbye|see you|later|gtg|gotta go)/)) {\n      const hour = new Date().getHours();\n      const farewells = [\n        `Goodbye, ${name}! Have a wonderful ${hour < 17 ? 'day' : 'evening'}! üëã`,\n        `See you later! Don't hesitate to come back if you need help! üòä`,\n        `Take care! Your water wells are in good hands! üíß`,\n        `Catch you later! Stay hydrated! üí¶üòÑ`\n      ];\n      return farewells[Math.floor(Math.random() * farewells.length)];\n    }\n\n    // Good / Great / Awesome responses\n    if (lower.match(/^(good|great|awesome|excellent|perfect|nice|cool|wonderful)/)) {\n      return `That's awesome to hear! üéâ Is there anything else I can help you with?`;\n    }\n\n    // Yes / No responses\n    if (lower === 'yes' || lower === 'yeah' || lower === 'yep' || lower === 'sure') {\n      return `Great! What would you like to know about? I can help with:\\n‚Ä¢ Adding nodes\\n‚Ä¢ Troubleshooting issues\\n‚Ä¢ Understanding calculations\\n‚Ä¢ System settings\\n\\nJust ask away! üòä`;\n    }\n\n    if (lower === 'no' || lower === 'nope' || lower === 'nah') {\n      return `No worries! I'm here whenever you need me. Feel free to ask if anything comes up! üëç`;\n    }\n\n    // Who are you / About bot\n    if (lower.match(/(who are you|what are you|your name|about you)/)) {\n      return `I'm Waleki Assistant! ü§ñ Your friendly AI helper for all things water monitoring.\\n\\nI can help you with:\\n‚Ä¢ Setting up sensor nodes\\n‚Ä¢ Understanding water calculations\\n‚Ä¢ Troubleshooting problems\\n‚Ä¢ Navigating the system\\n‚Ä¢ And much more!\\n\\nThink of me as your 24/7 water monitoring expert! üíß`;\n    }\n\n    // Add node - detailed\n    if (lower.match(/(add|create|setup|install|new).*(node|sensor|device)/)) {\n      return `Great! Let me walk you through adding a new sensor node! üéØ\\n\\n**Step-by-step:**\\n1Ô∏è‚É£ Go to **Settings** ‚Üí **Nodes tab**\\n2Ô∏è‚É£ Scroll to the form at bottom\\n3Ô∏è‚É£ Enter **Node ID** (like \"Node4\" or \"Well-East\")\\n4Ô∏è‚É£ Enter **Cable Length (h‚ÇÅ)** in meters\\n   üìè *This is SUPER important - measure carefully!*\\n5Ô∏è‚É£ Add **Location** (e.g., \"Mwanza Region\")\\n6Ô∏è‚É£ Check **\"Activate immediately\"** if ready\\n7Ô∏è‚É£ Click **\"Add Node\"** button\\n\\n‚úÖ Done! Your node will show up in the Dashboard!\\n\\nNeed help measuring cable length? Just ask! üòä`;\n    }\n\n    // Cable length / h1 - detailed\n    if (lower.match(/(cable|h1|h‚ÇÅ|measure|length|depth)/)) {\n      return `Ah, cable length - the foundation of accurate readings! üìè\\n\\n**What is h‚ÇÅ?**\\nIt's the total distance from ground surface to the END of your sensor cable.\\n\\n**Why is it critical?**\\nWater Height = h‚ÇÅ - h‚ÇÇ\\n‚Ä¢ h‚ÇÅ = Your cable length (FIXED, you measure once)\\n‚Ä¢ h‚ÇÇ = Sensor reading (CHANGES, real-time from sensor)\\n‚Ä¢ H = Actual water height (CALCULATED)\\n\\n**Example:**\\n‚Ä¢ Cable goes down 50 meters (h‚ÇÅ = 50m)\\n‚Ä¢ Sensor reads 45m from surface (h‚ÇÇ = 45m)\\n‚Ä¢ Water height = 50 - 45 = **5 meters of water** üíß\\n\\n**Pro tip:** If your water shows 0m but there IS water, your h‚ÇÅ is probably too small! Remeasure and update it in Settings.\\n\\nMake sense? Let me know if you need clarification! ü§ì`;\n    }\n\n    // Notifications / Alerts - detailed\n    if (lower.match(/(notification|alert|push|bell|email|sms)/)) {\n      return `Let's get you set up with notifications! üîî\\n\\n**Quick Setup:**\\n1Ô∏è‚É£ Click the **bell icon (üîî)** in the navbar\\n2Ô∏è‚É£ Click **\"Enable Notifications\"**\\n3Ô∏è‚É£ Allow permissions when browser asks\\n4Ô∏è‚É£ You'll get a test notification!\\n\\n**You'll receive alerts for:**\\nüö® **Critical:** Sensor offline, no water\\n‚ö†Ô∏è **Warning:** Low water, battery low\\n‚ÑπÔ∏è **Info:** Sensor back online, daily reports\\n\\n**Want to customize?**\\nGo to Settings ‚Üí System to adjust:\\n‚Ä¢ How often to check\\n‚Ä¢ When to alert\\n‚Ä¢ Which alert types\\n\\n**Pro tip:** You can also get SMS & email alerts! Check Settings ‚Üí Preferences to enable them.\\n\\nLet me know if you hit any snags! üòä`;\n    }\n\n    // Offline sensor - detailed\n    if (lower.match(/(offline|not working|down|disconnected|no signal|connection)/)) {\n      return `Sensor offline? Don't worry, let's troubleshoot! üîß\\n\\n**Quick Checks:**\\n\\n1Ô∏è‚É£ **Power Supply**\\n   ‚úì Is the sensor powered on?\\n   ‚úì Check battery level\\n   ‚úì Solar panel clean and working?\\n\\n2Ô∏è‚É£ **Physical Connections**\\n   ‚úì All cables firmly connected?\\n   ‚úì No visible damage to wires?\\n   ‚úì Waterproof seals intact?\\n\\n3Ô∏è‚É£ **Sensor Position**\\n   ‚úì Is sensor within 5m of cable end?\\n   ‚úì Any obstructions?\\n   ‚úì Proper alignment?\\n\\n4Ô∏è‚É£ **Check System Logs**\\n   üìä Go to **Health** ‚Üí **System Logs**\\n   Look for error messages\\n\\n5Ô∏è‚É£ **Network Range**\\n   üì° Too far from gateway? (Max 2-15km)\\n   Buildings blocking signal?\\n\\n**Still offline?**\\nTry a soft reset: Power off ‚Üí Wait 30s ‚Üí Power on\\n\\nIf nothing works, our support team is ready! Contact: support@waleki.com\\n\\nHope this helps! ü§û`;\n    }\n\n    // Water shows 0m - detailed\n    if (lower.match(/(water.*0|zero.*water|shows.*0|0.*meter|no.*water|empty)/)) {\n      return `Water showing 0m but you know there's water? I can fix that! üíß\\n\\n**The Problem:**\\nThis happens when h‚ÇÇ ‚â• h‚ÇÅ (sensor reading ‚â• cable length)\\n\\n**Translation:**\\nThe sensor thinks it's reading deeper than your cable reaches, which is impossible! So it displays 0m.\\n\\n**The Solution:**\\n\\n1Ô∏è‚É£ **Check Your h‚ÇÅ (Cable Length):**\\n   ‚Ä¢ Go to **Settings** ‚Üí **Nodes tab**\\n   ‚Ä¢ Find your node in the list\\n   ‚Ä¢ Check the h‚ÇÅ value - is it correct?\\n\\n2Ô∏è‚É£ **Update if Wrong:**\\n   ‚Ä¢ Click the **edit icon (‚úèÔ∏è)**\\n   ‚Ä¢ Enter the CORRECT cable length\\n   ‚Ä¢ Save changes\\n\\n3Ô∏è‚É£ **Verify:**\\n   ‚Ä¢ Go to Dashboard\\n   ‚Ä¢ Check if water height now shows correctly\\n\\n**Example Fix:**\\n‚ùå Before: h‚ÇÅ = 40m, h‚ÇÇ = 45m ‚Üí Shows 0m (ERROR!)\\n‚úÖ After: h‚ÇÅ = 50m, h‚ÇÇ = 45m ‚Üí Shows 5m (CORRECT!)\\n\\n**Pro Tip:** Always measure your cable length from ground surface to the ABSOLUTE END of the cable. Don't estimate - use a tape measure! üìè\\n\\nDid that solve it? Let me know! üòä`;\n    }\n\n    // Backup / Export - detailed\n    if (lower.match(/(backup|export|save|download|config)/)) {\n      return `Smart thinking - backups are crucial! üíæ\\n\\n**To Backup Your Configuration:**\\n\\n1Ô∏è‚É£ Go to **Settings** ‚Üí **Backup tab**\\n2Ô∏è‚É£ Click the big **\"Export\"** button\\n3Ô∏è‚É£ A JSON file downloads automatically\\n   üìÅ Filename: waleki-config-[timestamp].json\\n4Ô∏è‚É£ **Store it safely!**\\n   ‚Ä¢ Google Drive\\n   ‚Ä¢ Dropbox\\n   ‚Ä¢ External hard drive\\n   ‚Ä¢ USB stick\\n\\n**What's Included:**\\n‚úì All sensor node configurations\\n‚úì System settings\\n‚úì User preferences  \\n‚úì Alert thresholds\\n‚úì Notification settings\\n\\n**To Restore Later:**\\n‚Ä¢ Same tab, click **\"Import\"**\\n‚Ä¢ Select your backup file\\n‚Ä¢ Confirm (it will overwrite current settings)\\n\\n**Pro Tip:** Make backups:\\n‚Ä¢ Before major changes\\n‚Ä¢ Once a month\\n‚Ä¢ Before system updates\\n\\nYour future self will thank you! üôè`;\n    }\n\n    // Dashboard / Pages / Navigation\n    if (lower.match(/(dashboard|page|where|navigate|go to|find)/)) {\n      return `Let me give you a tour of Waleki! üó∫Ô∏è\\n\\n**Main Pages:**\\n\\nüè† **Dashboard** - Your home base\\n   ‚Ä¢ See all active nodes at once\\n   ‚Ä¢ Real-time water levels\\n   ‚Ä¢ Status indicators\\n   ‚Ä¢ Quick stats\\n\\nüìä **Monitor** - Deep dive single nodes\\n   ‚Ä¢ Select specific node\\n   ‚Ä¢ Live sensor data\\n   ‚Ä¢ Detailed readings\\n   ‚Ä¢ Historical mini-chart\\n\\nüìà **Analytics** - Data analysis paradise\\n   ‚Ä¢ Compare multiple nodes\\n   ‚Ä¢ Charts & graphs\\n   ‚Ä¢ Export data (CSV/JSON)\\n   ‚Ä¢ Custom date ranges\\n\\nüè• **Health** - System diagnostics\\n   ‚Ä¢ All nodes overview\\n   ‚Ä¢ System logs\\n   ‚Ä¢ Error tracking\\n   ‚Ä¢ Performance metrics\\n\\n‚öôÔ∏è **Settings** - Configuration central\\n   ‚Ä¢ Add/edit nodes\\n   ‚Ä¢ System settings\\n   ‚Ä¢ Backup/restore\\n   ‚Ä¢ Preferences\\n\\nüë§ **Profile** - Your account\\n   ‚Ä¢ Personal info\\n   ‚Ä¢ Security settings\\n   ‚Ä¢ Activity log\\n   ‚Ä¢ Data export\\n\\n‚ùì **Help** - Knowledge base\\n   ‚Ä¢ FAQs\\n   ‚Ä¢ Tutorials\\n   ‚Ä¢ Contact support\\n\\nWhere would you like to go? üòä`;\n    }\n\n    // Status colors / Indicators\n    if (lower.match(/(status|color|indicator|green|red|yellow|orange|meaning)/)) {\n      return `Let me decode those colors for you! üé®\\n\\n**Node Status Colors:**\\n\\nüü¢ **Active (Green)** - All good!\\n   ‚Ä¢ Water level > 10 meters\\n   ‚Ä¢ Sensor online & working\\n   ‚Ä¢ No issues detected\\n   ‚Ä¢ Keep monitoring normally\\n\\nüü° **Warning (Yellow)** - Pay attention\\n   ‚Ä¢ Water level 5-10 meters\\n   ‚Ä¢ Still safe, but decreasing\\n   ‚Ä¢ Monitor more frequently\\n   ‚Ä¢ Consider water conservation\\n\\nüü† **Low (Orange)** - Take action soon\\n   ‚Ä¢ Water level 0-5 meters\\n   ‚Ä¢ Getting critically low\\n   ‚Ä¢ Plan alternative sources\\n   ‚Ä¢ Alert relevant people\\n\\nüî¥ **Critical (Red)** - Immediate action!\\n   ‚Ä¢ Water ‚â§ 0 meters (empty/error)\\n   ‚Ä¢ Sensor offline for 5+ minutes\\n   ‚Ä¢ System error detected\\n   ‚Ä¢ Check sensor immediately!\\n\\n‚ö™ **Inactive (Gray)** - Not monitoring\\n   ‚Ä¢ Node exists but deactivated\\n   ‚Ä¢ Not collecting data\\n   ‚Ä¢ Enable in Settings if needed\\n\\n**Pro Tip:** You can customize these thresholds in Settings ‚Üí System to match your specific needs!\\n\\nMake sense? üëç`;\n    }\n\n    // Formula / Math / Calculation\n    if (lower.match(/(formula|calculate|math|equation|h1|h2)/)) {\n      return `Let's break down the water height formula! üßÆ\\n\\n**The Formula:**\\n**H = h‚ÇÅ - h‚ÇÇ**\\n\\nSimple subtraction, but each variable is critical!\\n\\n**What Each Means:**\\n\\nüìè **h‚ÇÅ** (Cable Length)\\n   ‚Ä¢ Distance: Ground ‚Üí End of cable\\n   ‚Ä¢ FIXED value (you measure once)\\n   ‚Ä¢ YOU set this in Settings\\n   ‚Ä¢ Must be VERY accurate!\\n\\nüì° **h‚ÇÇ** (Sensor Reading)\\n   ‚Ä¢ Distance: Ground ‚Üí Water surface\\n   ‚Ä¢ CHANGES in real-time\\n   ‚Ä¢ From ultrasonic sensor\\n   ‚Ä¢ Updates automatically\\n\\nüíß **H** (Water Height)\\n   ‚Ä¢ Actual water depth in well\\n   ‚Ä¢ CALCULATED automatically\\n   ‚Ä¢ h‚ÇÅ minus h‚ÇÇ\\n   ‚Ä¢ What you see on Dashboard\\n\\n**Real Example:**\\nYour well setup:\\n‚Ä¢ Cable goes 50m deep (h‚ÇÅ = 50)\\n‚Ä¢ Sensor reads 45m to water (h‚ÇÇ = 45)\\n‚Ä¢ Water depth: 50 - 45 = **5 meters** ‚úÖ\\n\\nAs water rises:\\n‚Ä¢ h‚ÇÇ becomes 40m\\n‚Ä¢ H = 50 - 40 = **10 meters** ‚úÖ\\n\\nAs water lowers:\\n‚Ä¢ h‚ÇÇ becomes 48m  \\n‚Ä¢ H = 50 - 48 = **2 meters** (Low!) ‚ö†Ô∏è\\n\\nIf h‚ÇÇ ‚â• h‚ÇÅ:\\n‚Ä¢ Math gives negative\\n‚Ä¢ System shows 0m (error)\\n‚Ä¢ Check your h‚ÇÅ value!\\n\\nCrystal clear? üíé`;\n    }\n\n    // Password / Login / Security\n    if (lower.match(/(password|login|forgot|reset|security|2fa|two factor)/)) {\n      return `Let's secure your account! üîê\\n\\n**Change Password:**\\n1Ô∏è‚É£ Go to **Profile** ‚Üí **Security tab**\\n2Ô∏è‚É£ Enter current password\\n3Ô∏è‚É£ Enter new password (min 6 chars)\\n4Ô∏è‚É£ Confirm new password\\n5Ô∏è‚É£ Click \"Change Password\"\\n6Ô∏è‚É£ You'll be logged out - sign in again\\n\\n**Forgot Password:**\\n‚Ä¢ Go to Login page\\n‚Ä¢ Click \"Forgot Password?\" link\\n‚Ä¢ Enter your email\\n‚Ä¢ Check inbox for reset link\\n‚Ä¢ Link valid for 1 hour\\n‚Ä¢ Set new password\\n\\n**Enable Two-Factor Authentication:**\\n1Ô∏è‚É£ Profile ‚Üí Security tab\\n2Ô∏è‚É£ Find \"Two-Factor Authentication\"\\n3Ô∏è‚É£ Click \"Enable 2FA\"\\n4Ô∏è‚É£ Follow setup wizard\\n5Ô∏è‚É£ Scan QR code with authenticator app\\n6Ô∏è‚É£ Enter verification code\\n\\n**Security Tips:**\\n‚úì Use strong, unique passwords\\n‚úì Enable 2FA for extra security\\n‚úì Don't share login credentials\\n‚úì Log out on shared devices\\n‚úì Check activity log regularly\\n\\nYour account, your fortress! üè∞`;\n    }\n\n    // Help / Support / Contact\n    if (lower.match(/(help|support|contact|call|email|assistance|stuck)/)) {\n      return `I'm here to help, and so is our team! ü§ù\\n\\n**Get Support:**\\n\\nüìß **Email Support**\\n   ‚Ä¢ support@waleki.com\\n   ‚Ä¢ Response time: < 24 hours\\n   ‚Ä¢ Include screenshots if possible\\n   ‚Ä¢ Mention your node IDs\\n\\nüìû **Phone Support**\\n   ‚Ä¢ +255 XXX XXX XXX\\n   ‚Ä¢ Mon-Fri: 8 AM - 6 PM EAT\\n   ‚Ä¢ Weekend: Emergency only\\n   ‚Ä¢ Have account info ready\\n\\nüí¨ **Live Chat**\\n   ‚Ä¢ Right here with me! (for quick questions)\\n   ‚Ä¢ 24/7 availability\\n   ‚Ä¢ Instant responses\\n   ‚Ä¢ No waiting!\\n\\nüìö **Help Center**\\n   ‚Ä¢ Click \"Help\" in navbar\\n   ‚Ä¢ 30+ detailed articles\\n   ‚Ä¢ Step-by-step guides\\n   ‚Ä¢ Search by keyword\\n\\n**What I Can Help With:**\\n‚úì Adding/configuring nodes\\n‚úì Understanding readings\\n‚úì Troubleshooting issues\\n‚úì System navigation\\n‚úì Calculations & formulas\\n‚úì Settings & preferences\\n‚úì Quick how-tos\\n\\nWhat do you need help with? üòä`;\n    }\n\n    // Default / Unknown\n    return `Hmm, I'm not quite sure about that one! ü§î\\n\\nBut I'm always learning! Here's what I'm really good at:\\n\\n**Popular Topics:**\\n‚Ä¢ üîß \"How do I add a node?\"\\n‚Ä¢ üíß \"Why does water show 0m?\"\\n‚Ä¢ üîî \"Enable notifications\"\\n‚Ä¢ üìè \"Explain the water formula\"\\n‚Ä¢ üö® \"Sensor is offline\"\\n‚Ä¢ ‚öôÔ∏è \"Change settings\"\\n‚Ä¢ üíæ \"Backup my configuration\"\\n‚Ä¢ üìä \"View analytics\"\\n‚Ä¢ üîê \"Reset my password\"\\n\\n**Or Just Chat:**\\n‚Ä¢ Ask how I'm doing\\n‚Ä¢ Say hello\\n‚Ä¢ Tell me what you need\\n\\nI'm here to help! What's on your mind? üòä`;\n  };\n\n  // Handle send message\n  const handleSend = () => {\n    if (!inputMessage.trim()) return;\n\n    // Add user message\n    const userMessage = {\n      type: 'user',\n      message: inputMessage,\n      timestamp: new Date()\n    };\n    setMessages([...messages, userMessage]);\n    const currentInput = inputMessage;\n    setInputMessage('');\n\n    // Show typing indicator\n    setIsTyping(true);\n\n    // Simulate realistic typing delay (longer for longer responses)\n    const typingDelay = Math.min(800 + (currentInput.length * 20), 2000);\n    \n    setTimeout(() => {\n      const botResponse = {\n        type: 'bot',\n        message: getBotResponse(currentInput),\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, botResponse]);\n      setIsTyping(false);\n    }, typingDelay);\n  };\n\n  // Handle key press\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  // Get user avatar (profile photo or initials)\n  const getUserAvatar = () => {\n    if (currentUser?.photoURL) {\n      return <img src={currentUser.photoURL} alt=\"You\" style={{ width: '100%', height: '100%', borderRadius: '50%', objectFit: 'cover' }} />;\n    }\n    const initials = currentUser?.displayName\n      ?.split(' ')\n      .map(n => n[0])\n      .join('')\n      .substring(0, 2)\n      .toUpperCase() || 'U';\n    return <span>{initials}</span>;\n  };\n\n  return (\n    <>\n      <style jsx>{`\n        @keyframes slideUp {\n          from {\n            transform: translateY(100px);\n            opacity: 0;\n          }\n          to {\n            transform: translateY(0);\n            opacity: 1;\n          }\n        }\n\n        @keyframes pulse {\n          0%, 100% {\n            transform: scale(1);\n          }\n          50% {\n            transform: scale(1.05);\n          }\n        }\n\n        @keyframes typing {\n          0%, 100% {\n            opacity: 0.3;\n          }\n          50% {\n            opacity: 1;\n          }\n        }\n\n        .chatbot-container {\n          position: fixed;\n          bottom: 24px;\n          right: 24px;\n          z-index: 9999;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n        }\n\n        /* Avatar Button */\n        .chatbot-avatar {\n          width: 64px;\n          height: 64px;\n          background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);\n          transition: all 0.3s ease;\n          border: 4px solid white;\n          color: white;\n          animation: pulse 2s ease-in-out infinite;\n        }\n\n        .chatbot-avatar:hover {\n          transform: scale(1.1);\n          box-shadow: 0 12px 32px rgba(0, 0, 0, 0.6);\n        }\n\n        .chatbot-avatar.open {\n          animation: none;\n        }\n\n        /* Chat Window */\n        .chat-window {\n          position: absolute;\n          bottom: 80px;\n          right: 0;\n          width: 400px;\n          max-height: ${isMinimized ? '60px' : '600px'};\n          background: white;\n          border-radius: 16px;\n          box-shadow: 0 12px 48px rgba(0, 0, 0, 0.2);\n          display: flex;\n          flex-direction: column;\n          overflow: hidden;\n          animation: slideUp 0.3s ease;\n          transition: max-height 0.3s ease;\n        }\n\n        /* Header */\n        .chat-header {\n          padding: 20px;\n          background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);\n          color: white;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n\n        .header-info {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n        }\n\n        .header-avatar {\n          width: 40px;\n          height: 40px;\n          background: rgba(255, 255, 255, 0.2);\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          backdrop-filter: blur(10px);\n        }\n\n        .header-text h3 {\n          font-size: 16px;\n          font-weight: 700;\n          margin-bottom: 2px;\n        }\n\n        .header-text p {\n          font-size: 12px;\n          opacity: 0.9;\n        }\n\n        .header-actions {\n          display: flex;\n          gap: 8px;\n        }\n\n        .header-btn {\n          width: 32px;\n          height: 32px;\n          background: rgba(255, 255, 255, 0.2);\n          border: none;\n          border-radius: 8px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          color: white;\n          backdrop-filter: blur(10px);\n        }\n\n        .header-btn:hover {\n          background: rgba(255, 255, 255, 0.3);\n        }\n\n        /* Messages */\n        .chat-messages {\n          flex: 1;\n          padding: 20px;\n          overflow-y: auto;\n          display: ${isMinimized ? 'none' : 'flex'};\n          flex-direction: column;\n          gap: 16px;\n          background: #FAFAFA;\n          max-height: 440px;\n        }\n\n        .chat-messages::-webkit-scrollbar {\n          width: 6px;\n        }\n\n        .chat-messages::-webkit-scrollbar-track {\n          background: #F0F0F0;\n        }\n\n        .chat-messages::-webkit-scrollbar-thumb {\n          background: #CCC;\n          border-radius: 3px;\n        }\n\n        .message {\n          display: flex;\n          gap: 10px;\n          animation: slideUp 0.2s ease;\n        }\n\n        .message.user {\n          flex-direction: row-reverse;\n        }\n\n        .message-avatar {\n          width: 32px;\n          height: 32px;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-shrink: 0;\n          font-size: 14px;\n          font-weight: 700;\n        }\n\n        .message-avatar.bot {\n          background: #000;\n          color: white;\n        }\n\n        .message-avatar.user {\n          background: #E8E8E8;\n          color: #000;\n        }\n\n        .message-content {\n          max-width: 75%;\n          padding: 12px 16px;\n          border-radius: 12px;\n          font-size: 14px;\n          line-height: 1.6;\n          white-space: pre-line;\n        }\n\n        .message.bot .message-content {\n          background: white;\n          color: #000;\n          border: 1px solid #E8E8E8;\n        }\n\n        .message.user .message-content {\n          background: #000;\n          color: white;\n        }\n\n        .message-content strong {\n          font-weight: 700;\n        }\n\n        /* Typing Indicator */\n        .typing-indicator {\n          display: flex;\n          gap: 10px;\n          padding: 12px 16px;\n          background: white;\n          border-radius: 12px;\n          width: fit-content;\n          border: 1px solid #E8E8E8;\n        }\n\n        .typing-dot {\n          width: 8px;\n          height: 8px;\n          background: #999;\n          border-radius: 50%;\n          animation: typing 1.4s ease-in-out infinite;\n        }\n\n        .typing-dot:nth-child(2) {\n          animation-delay: 0.2s;\n        }\n\n        .typing-dot:nth-child(3) {\n          animation-delay: 0.4s;\n        }\n\n        /* Input */\n        .chat-input-wrapper {\n          padding: 16px;\n          background: white;\n          border-top: 1px solid #E8E8E8;\n          display: ${isMinimized ? 'none' : 'flex'};\n          gap: 12px;\n        }\n\n        .chat-input {\n          flex: 1;\n          padding: 12px 16px;\n          border: 2px solid #E8E8E8;\n          border-radius: 12px;\n          font-size: 14px;\n          outline: none;\n          transition: all 0.2s ease;\n          font-family: inherit;\n          resize: none;\n          max-height: 100px;\n        }\n\n        .chat-input:focus {\n          border-color: #000;\n        }\n\n        .send-btn {\n          width: 44px;\n          height: 44px;\n          background: #000;\n          color: white;\n          border: none;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          flex-shrink: 0;\n        }\n\n        .send-btn:hover {\n          transform: scale(1.05);\n          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);\n        }\n\n        .send-btn:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n          transform: none;\n        }\n\n        /* Responsive */\n        @media (max-width: 640px) {\n          .chat-window {\n            width: calc(100vw - 48px);\n            max-width: 400px;\n          }\n\n          .chatbot-container {\n            right: 16px;\n            bottom: 16px;\n          }\n        }\n      `}</style>\n\n      <div className=\"chatbot-container\">\n        {/* Chat Window */}\n        {isOpen && (\n          <div className=\"chat-window\">\n            {/* Header */}\n            <div className=\"chat-header\">\n              <div className=\"header-info\">\n<div className=\"header-avatar\">\n  <img src=\"/assets/chatbot.png\" alt=\"Bot\" style={{ width: '100%', height: '100%', borderRadius: '50%', objectFit: 'cover' }} />\n</div>\n                <div className=\"header-text\">\n                  <h3>Waleki Assistant</h3>\n                  <p>Always here to help</p>\n                </div>\n              </div>\n              <div className=\"header-actions\">\n                <button\n                  className=\"header-btn\"\n                  onClick={() => setIsMinimized(!isMinimized)}\n                  title={isMinimized ? 'Maximize' : 'Minimize'}\n                >\n                  {isMinimized ? <Maximize2 size={16} /> : <Minimize2 size={16} />}\n                </button>\n                <button\n                  className=\"header-btn\"\n                  onClick={() => setIsOpen(false)}\n                  title=\"Close\"\n                >\n                  <X size={16} />\n                </button>\n              </div>\n            </div>\n\n            {/* Messages */}\n            <div className=\"chat-messages\">\n              {messages.map((msg, index) => (\n                <div key={index} className={`message ${msg.type}`}>\n                  <div className={`message-avatar ${msg.type}`}>\n                    {msg.type === 'bot' ? (\n    <img src=\"/assets/chatbot.png\" alt=\"Bot\" style={{ width: '100%', height: '100%', borderRadius: '50%', objectFit: 'cover' }} />\n  ) : (\n    getUserAvatar()\n  )}\n                  </div>\n                  <div className=\"message-content\">{msg.message}</div>\n                </div>\n              ))}\n\n              {/* Typing Indicator */}\n                {isTyping && (\n  <div className=\"message bot\">\n    <div className=\"message-avatar bot\">\n      <img src=\"/assets/chatbot.png\" alt=\"Bot\" style={{ width: '100%', height: '100%', borderRadius: '50%', objectFit: 'cover' }} />\n    </div>\n    <div className=\"typing-indicator\">\n                    <div className=\"typing-dot\"></div>\n                    <div className=\"typing-dot\"></div>\n                    <div className=\"typing-dot\"></div>\n                  </div>\n                </div>\n              )}\n\n              <div ref={messagesEndRef} />\n            </div>\n\n            {/* Input */}\n            <div className=\"chat-input-wrapper\">\n              <textarea\n                ref={inputRef}\n                className=\"chat-input\"\n                placeholder=\"Type your message...\"\n                value={inputMessage}\n                onChange={(e) => setInputMessage(e.target.value)}\n                onKeyPress={handleKeyPress}\n                rows=\"1\"\n              />\n              <button\n                className=\"send-btn\"\n                onClick={handleSend}\n                disabled={!inputMessage.trim()}\n                title=\"Send message\"\n              >\n                <Send size={20} />\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Avatar Button */}\n<div\n  className={`chatbot-avatar ${isOpen ? 'open' : ''}`}\n  onClick={() => setIsOpen(!isOpen)}\n  title=\"Chat with Waleki Assistant\"\n>\n  {isOpen ? <X size={28} /> : (\n    <img src=\"/assets/chatbot.png\" alt=\"Bot\" style={{ width: '100%', height: '100%', borderRadius: '50%', objectFit: 'cover' }} />\n  )}\n</div>\n      </div>\n    </>\n  );\n};\n\nexport default Chatbot;\n"],"mappings":"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IACxI;IACA,MAAMC,QAAQ,GAAG,CAAAzE,WAAW,aAAXA,WAAW,wBAAA4D,sBAAA,GAAX5D,WAAW,CAAEmB,WAAW,cAAAyC,sBAAA,uBAAxBA,sBAAA,CACbxC,KAAK,CAAC,GAAG,CAAC,CACXsD,GAAG,CAACC,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC,CACdC,IAAI,CAAC,EAAE,CAAC,CACRC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CACfC,WAAW,CAAC,CAAC,KAAI,GAAG;IACvB,oBAAOnF,OAAA;MAAAoF,QAAA,EAAON;IAAQ;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC;EAChC,CAAC;EAED,oBACE7E,OAAA,CAAAE,SAAA;IAAAkF,QAAA,gBACEpF,OAAA;MAAOqF,GAAG;MAAAD,QAAA,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB5E,WAAW,GAAG,MAAM,GAAG,OAAO;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqBA,WAAW,GAAG,MAAM,GAAG,MAAM;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqBA,WAAW,GAAG,MAAM,GAAG,MAAM;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAkE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAEV7E,OAAA;MAAKsF,SAAS,EAAC,mBAAmB;MAAAF,QAAA,GAE/B9E,MAAM,iBACLN,OAAA;QAAKsF,SAAS,EAAC,aAAa;QAAAF,QAAA,gBAE1BpF,OAAA;UAAKsF,SAAS,EAAC,aAAa;UAAAF,QAAA,gBAC1BpF,OAAA;YAAKsF,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}