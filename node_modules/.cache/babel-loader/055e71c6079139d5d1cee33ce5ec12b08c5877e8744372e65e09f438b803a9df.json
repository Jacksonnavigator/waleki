{"ast":null,"code":"'use client';import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{Droplets,Activity,AlertTriangle,MapPin,ChevronRight,Eye,Edit,CheckCircle,XCircle,TrendingUp,RefreshCw,BarChart3,Gauge,Settings,Waves,Sparkles,Zap,Target}from\"lucide-react\";import{ref,onValue,set}from\"firebase/database\";import{database}from\"../../config/firebase\";import notificationService from\"../../services/NotificationService\";import Tooltip from\"../../components/Tooltip\";import ValidationAlert from\"../../components/ValidationAlert\";import KPICard from\"../../components/KPICard\";import InsightCard from\"../../components/InsightCard\";import AnimatedNumber from\"../../components/AnimatedNumber\";// import SkeletonLoader from \"../../components/SkeletonLoader\"; // Future: Add to loading states\n// Toast notification component (inline since react-hot-toast not installed)\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Toast=_ref=>{let{message,type,onClose}=_ref;useEffect(()=>{const timer=setTimeout(onClose,3000);return()=>clearTimeout(timer);},[onClose]);const bgColor=type==='success'?'#16A34A':type==='error'?'#DC2626':'#000';return/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',top:'24px',right:'24px',background:bgColor,color:'white',padding:'16px 24px',borderRadius:'12px',boxShadow:'0 8px 24px rgba(0,0,0,0.2)',zIndex:10000,display:'flex',alignItems:'center',gap:'12px',animation:'slideIn 0.3s ease',minWidth:'300px'},children:[type==='success'&&/*#__PURE__*/_jsx(CheckCircle,{size:20}),type==='error'&&/*#__PURE__*/_jsx(XCircle,{size:20}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'14px',fontWeight:600},children:message})]});};const DashboardPage=()=>{const[nodes,setNodes]=useState([]);const[selectedNode,setSelectedNode]=useState(null);const[stats,setStats]=useState({totalNodes:0,activeNodes:0,alerts:0,notActivated:0,totalWaterHeight:0,avgWaterHeight:0});const[loading,setLoading]=useState(true);const[activationModal,setActivationModal]=useState(null);const[editModal,setEditModal]=useState(null);const[cableLength,setCableLength]=useState(\"\");const[lastUpdate,setLastUpdate]=useState(new Date());const[toast,setToast]=useState(null);const[isConnected,setIsConnected]=useState(false);const[alerts,setAlerts]=useState([{type:'warning',title:'Low Water Level',message:'Node2 water level below 5m threshold',timestamp:new Date().toISOString(),read:false},{type:'info',title:'Node Activated',message:'Node4 has been successfully activated',timestamp:new Date(Date.now()-3600000).toISOString(),read:true}]);const navigate=useNavigate();const showToast=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'success';setToast({message,type});};// Dynamic greeting based on time of day\nconst getGreeting=()=>{const hour=new Date().getHours();const name=\"WISE Future\";// You can get this from currentUser if available\nif(hour>=0&&hour<6){return{text:\"Still awake, \".concat(name,\"? \\uD83C\\uDF19\"),subtext:\"Late night monitoring session\"};}else if(hour>=6&&hour<12){return{text:\"Good morning, \".concat(name,\"! \\u2600\\uFE0F\"),subtext:\"Ready to start the day\"};}else if(hour>=12&&hour<17){return{text:\"Good afternoon, \".concat(name,\"! \\uD83D\\uDC4B\"),subtext:\"Hope you're having a productive day\"};}else if(hour>=17&&hour<21){return{text:\"Good evening, \".concat(name,\"! \\uD83C\\uDF06\"),subtext:\"Winding down for the day\"};}else{return{text:\"Good night, \".concat(name,\"! \\uD83C\\uDF03\"),subtext:\"Late evening check-in\"};}};const greeting=getGreeting();// Fetch all data from Firebase\nuseEffect(()=>{console.log(\"ðŸš€ Starting Firebase connection...\");// Initialize notification service\nnotificationService.init();const rootRef=ref(database);const unsubscribe=onValue(rootRef,snapshot=>{console.log(\"ðŸ“¡ Firebase snapshot received\");setIsConnected(true);setLastUpdate(new Date());if(snapshot.exists()){const data=snapshot.val();console.log(\"ðŸ“Š Database structure:\",Object.keys(data));// Get selected node from config\nif(data.config&&data.config.selectedNode){setSelectedNode(data.config.selectedNode);}// Process LoRaSensor data to extract nodes\nif(data.LoRaSensor&&data.config&&data.config.nodes){const nodeKeys=Object.keys(data.LoRaSensor);const nodesArray=[];nodeKeys.forEach(nodeKey=>{const nodeData=data.LoRaSensor[nodeKey];const nodeConfig=data.config.nodes[nodeKey];// Get the latest reading\nconst timestamps=Object.keys(nodeData).sort().reverse();const latestTimestamp=timestamps[0];const latestReading=nodeData[latestTimestamp];// Update notification service with latest timestamp\nnotificationService.updateNodeTimestamp(nodeKey,latestTimestamp);// Parse RawData string\nlet depth_m=0;if(latestReading.RawData&&typeof latestReading.RawData==='string'){const depthMatch=latestReading.RawData.match(/Depth=([\\d.]+)m/);if(depthMatch)depth_m=parseFloat(depthMatch[1]);}// Check if node is activated from config.nodes\nconst isActivated=nodeConfig?nodeConfig.activated:false;const h1_m=nodeConfig?nodeConfig.h1_m:0;// Calculate water height: Correct Formula\n// h1_m = Cable length (from surface to cable end)\n// h2_m = Sensor depth reading (from surface to sensor)\n// Water Height = h2_m - h1_m (water above cable end)\n// If h2 > h1, sensor is deeper than cable = ERROR/NO WATER\nconst h2_m=depth_m;// Sensor reading (depth from surface)\nlet waterHeight=0;let status=\"Not Activated\";if(isActivated&&h1_m>0){// Correct calculation: Water Height = Sensor Depth - Cable Length\n// If sensor reads less depth than cable length = water present\nif(h2_m<h1_m){waterHeight=h1_m-h2_m;// Water height above cable end\n// Determine status based on water height\nif(waterHeight>10){status=\"Active\";}else if(waterHeight>=5){status=\"Warning\";}else if(waterHeight>0){status=\"Low\";}else{status=\"Critical\";}}else{// Sensor reads deeper than cable = No water or sensor error\nwaterHeight=0;status=\"Critical\";}}console.log(\"\".concat(nodeKey,\": h1=\").concat(h1_m,\"m, h2=\").concat(h2_m,\"m, waterHeight=\").concat(waterHeight,\"m, status=\").concat(status));nodesArray.push({id:nodeKey,name:nodeKey,activated:isActivated,h1_m:h1_m,h2_m:h2_m,waterHeight:parseFloat(waterHeight.toFixed(2)),status:status,location:\"Tanzania\",region:\"Arusha\",depth_m:depth_m,lastUpdate:latestTimestamp,readingsCount:timestamps.length});});setNodes(nodesArray);calculateStats(nodesArray);setLastUpdate(new Date());}}setLoading(false);},error=>{console.error(\"âŒ Firebase error:\",error);setLoading(false);});return()=>{unsubscribe();// Don't destroy notification service - let it continue monitoring\n// notificationService.destroy();\n};},[]);// Calculate statistics\nconst calculateStats=nodesArray=>{const total=nodesArray.length;const active=nodesArray.filter(n=>n.status===\"Active\").length;const notActivated=nodesArray.filter(n=>!n.activated).length;const alerts=nodesArray.filter(n=>n.status===\"Warning\"||n.status===\"Critical\"||n.status===\"Low\").length;const activatedNodes=nodesArray.filter(n=>n.activated);const totalWaterHeight=activatedNodes.reduce((sum,n)=>sum+n.waterHeight,0);const avgWaterHeight=activatedNodes.length>0?totalWaterHeight/activatedNodes.length:0;setStats({totalNodes:total,activeNodes:active,alerts:alerts,notActivated:notActivated,totalWaterHeight:parseFloat(totalWaterHeight.toFixed(2)),avgWaterHeight:parseFloat(avgWaterHeight.toFixed(2))});};// Activate node\nconst handleActivateNode=async()=>{if(!cableLength||parseFloat(cableLength)<=0){showToast(\"Please enter a valid cable length (hâ‚)\",'error');return;}try{const nodeConfigRef=ref(database,\"config/nodes/\".concat(activationModal.id));await set(nodeConfigRef,{activated:true,h1_m:parseFloat(cableLength)});setActivationModal(null);setCableLength(\"\");showToast(\"\".concat(activationModal.name,\" activated successfully!\"),'success');}catch(error){console.error(\"âŒ Error activating node:\",error);showToast(\"Failed to activate node. Please try again.\",'error');}};// Edit cable length with modal instead of prompt\nconst handleEditCableLength=node=>{setEditModal(node);setCableLength(node.h1_m.toString());};const handleUpdateCableLength=async()=>{if(!cableLength||parseFloat(cableLength)<=0){showToast(\"Please enter a valid cable length\",'error');return;}try{const nodeConfigRef=ref(database,\"config/nodes/\".concat(editModal.id,\"/h1_m\"));await set(nodeConfigRef,parseFloat(cableLength));setEditModal(null);setCableLength(\"\");showToast(\"Cable length updated for \".concat(editModal.name),'success');}catch(error){console.error(\"âŒ Error updating cable length:\",error);showToast(\"Failed to update cable length\",'error');}};const getStatusColor=status=>{switch(status){case\"Active\":return\"#16A34A\";case\"Low\":case\"Warning\":return\"#D97706\";case\"Critical\":return\"#DC2626\";case\"Not Activated\":return\"#999\";default:return\"#999\";}};const getStatusIcon=status=>{switch(status){case\"Active\":return/*#__PURE__*/_jsx(CheckCircle,{size:14});case\"Low\":case\"Warning\":return/*#__PURE__*/_jsx(AlertTriangle,{size:14});case\"Critical\":return/*#__PURE__*/_jsx(XCircle,{size:14});default:return/*#__PURE__*/_jsx(Activity,{size:14});}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',height:'100vh',gap:'16px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',border:'3px solid #F0F0F0',borderTopColor:'#000',borderRadius:'50%',animation:'spin 0.8s linear infinite'}}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',color:'#666',fontWeight:500},children:\"Loading Dashboard...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-page\",children:[/*#__PURE__*/_jsx(\"style\",{jsx:true,children:\"\\n        @keyframes spin {\\n          to { transform: rotate(360deg); }\\n        }\\n\\n        @keyframes slideIn {\\n          from {\\n            transform: translateX(400px);\\n            opacity: 0;\\n          }\\n          to {\\n            transform: translateX(0);\\n            opacity: 1;\\n          }\\n        }\\n\\n        .dashboard-page {\\n          min-height: 100vh;\\n          background: var(--color-bg);\\n          padding: var(--spacing-2xl);\\n          font-family: var(--font-primary);\\n          color: var(--color-text);\\n          transition: background-color var(--transition-normal);\\n        }\\n\\n        /* Header */\\n        .dashboard-header {\\n          background: var(--color-bg-secondary);\\n          backdrop-filter: blur(20px);\\n          -webkit-backdrop-filter: blur(20px);\\n          border-radius: var(--radius-xl);\\n          padding: var(--spacing-2xl);\\n          margin-bottom: var(--spacing-xl);\\n          border: 1px solid var(--color-border);\\n          box-shadow: var(--shadow-lg);\\n        }\\n\\n        .header-top {\\n          display: flex;\\n          align-items: center;\\n          justify-content: space-between;\\n          margin-bottom: 24px;\\n        }\\n\\n        .header-left {\\n          display: flex;\\n          align-items: center;\\n          gap: 16px;\\n        }\\n\\n        .header-icon {\\n          width: 52px;\\n          height: 52px;\\n          background: linear-gradient(135deg, #0369a1, #0284c7);\\n          border-radius: 14px;\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          box-shadow: 0 8px 20px rgba(3, 105, 161, 0.25);\\n        }\\n\\n        .header-text h1 {\\n          font-size: 24px;\\n          font-weight: 700;\\n          color: #000;\\n          margin-bottom: 4px;\\n          letter-spacing: -0.5px;\\n        }\\n\\n        .header-text p {\\n          font-size: 13px;\\n          color: #666;\\n          font-weight: 500;\\n        }\\n\\n        .header-actions {\\n          display: flex;\\n          gap: 12px;\\n        }\\n\\n        .btn-header {\\n          padding: 10px 20px;\\n          border-radius: 10px;\\n          font-size: 14px;\\n          font-weight: 600;\\n          cursor: pointer;\\n          border: none;\\n          display: flex;\\n          align-items: center;\\n          gap: 8px;\\n          transition: all 0.2s ease;\\n        }\\n\\n        .btn-primary {\\n          background: linear-gradient(135deg, #0369a1, #0284c7);\\n          color: white;\\n          box-shadow: 0 4px 12px rgba(3, 105, 161, 0.25);\\n        }\\n\\n        .btn-primary:hover {\\n          background: linear-gradient(135deg, #0c4a6e, #0369a1);\\n          transform: translateY(-2px);\\n          box-shadow: 0 8px 20px rgba(3, 105, 161, 0.35);\\n        }\\n\\n        .btn-secondary {\\n          background: rgba(255, 255, 255, 0.8);\\n          color: #0369a1;\\n          border: 2px solid #e2e8f0;\\n          backdrop-filter: blur(10px);\\n        }\\n\\n        .btn-secondary:hover {\\n          border-color: #0369a1;\\n          background: white;\\n        }\\n\\n        /* Hero Card */\\n        .hero-card {\\n          background: linear-gradient(135deg, #0f172a 0%, #1e3a5f 50%, #0c4a6e 100%);\\n          border-radius: 24px;\\n          padding: 48px;\\n          color: white;\\n          position: relative;\\n          overflow: hidden;\\n          box-shadow: 0 20px 60px rgba(15, 23, 42, 0.3);\\n        }\\n\\n        .hero-card::before {\\n          content: '';\\n          position: absolute;\\n          top: -50%;\\n          right: -20%;\\n          width: 500px;\\n          height: 500px;\\n          background: radial-gradient(circle, rgba(56, 189, 248, 0.2) 0%, transparent 60%);\\n          border-radius: 50%;\\n          animation: float 8s ease-in-out infinite;\\n        }\\n\\n        .hero-card::after {\\n          content: '';\\n          position: absolute;\\n          bottom: -30%;\\n          left: -10%;\\n          width: 400px;\\n          height: 400px;\\n          background: radial-gradient(circle, rgba(34, 211, 238, 0.15) 0%, transparent 60%);\\n          border-radius: 50%;\\n          animation: float 10s ease-in-out infinite reverse;\\n        }\\n\\n        @keyframes float {\\n          0%, 100% { transform: translate(0, 0) scale(1); }\\n          50% { transform: translate(20px, -20px) scale(1.05); }\\n        }\\n\\n        .hero-content {\\n          position: relative;\\n          z-index: 1;\\n        }\\n\\n        .hero-label {\\n          font-size: 13px;\\n          font-weight: 600;\\n          opacity: 0.8;\\n          margin-bottom: 12px;\\n          text-transform: uppercase;\\n          letter-spacing: 0.5px;\\n        }\\n\\n        .hero-value {\\n          font-size: 56px;\\n          font-weight: 700;\\n          margin-bottom: 8px;\\n          letter-spacing: -1.5px;\\n        }\\n\\n        .hero-unit {\\n          font-size: 24px;\\n          opacity: 0.9;\\n          margin-left: 8px;\\n        }\\n\\n        .hero-subtitle {\\n          font-size: 14px;\\n          opacity: 0.8;\\n          margin-bottom: 16px;\\n        }\\n\\n        .hero-stats {\\n          display: flex;\\n          gap: 24px;\\n          margin-top: 20px;\\n        }\\n\\n        .hero-stat {\\n          display: flex;\\n          align-items: center;\\n          gap: 12px;\\n          padding: 16px 20px;\\n          background: rgba(255,255,255,0.1);\\n          border-radius: 16px;\\n          backdrop-filter: blur(10px);\\n          border: 1px solid rgba(255,255,255,0.15);\\n          transition: all 0.3s ease;\\n        }\\n\\n        .hero-stat:hover {\\n          background: rgba(255,255,255,0.15);\\n          transform: translateY(-2px);\\n        }\\n\\n        .hero-stat-label {\\n          font-size: 12px;\\n          opacity: 0.8;\\n        }\\n\\n        .hero-stat-value {\\n          font-size: 18px;\\n          font-weight: 700;\\n        }\\n\\n        /* Stats Grid */\\n        .stats-grid {\\n          display: grid;\\n          grid-template-columns: repeat(4, 1fr);\\n          gap: 16px;\\n          margin-bottom: 24px;\\n        }\\n\\n        .stat-card {\\n          background: rgba(255, 255, 255, 0.95);\\n          backdrop-filter: blur(10px);\\n          border-radius: 20px;\\n          padding: 28px;\\n          border: 1px solid rgba(255, 255, 255, 0.9);\\n          box-shadow: 0 4px 24px rgba(0, 0, 0, 0.04);\\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\\n          position: relative;\\n          overflow: hidden;\\n        }\\n\\n        .stat-card::before {\\n          content: '';\\n          position: absolute;\\n          top: 0;\\n          left: 0;\\n          right: 0;\\n          height: 4px;\\n          background: linear-gradient(90deg, #0ea5e9, #22d3ee, #06b6d4);\\n          opacity: 0;\\n          transition: opacity 0.3s ease;\\n        }\\n\\n        .stat-card:hover {\\n          transform: translateY(-4px);\\n          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);\\n        }\\n\\n        .stat-card:hover::before {\\n          opacity: 1;\\n        }\\n\\n        .stat-header {\\n          display: flex;\\n          align-items: center;\\n          justify-content: space-between;\\n          margin-bottom: 16px;\\n        }\\n\\n        .stat-icon {\\n          width: 48px;\\n          height: 48px;\\n          background: linear-gradient(135deg, #f0f9ff, #e0f2fe);\\n          border-radius: 14px;\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          box-shadow: 0 4px 12px rgba(14, 165, 233, 0.1);\\n        }\\n\\n        .stat-label {\\n          font-size: 12px;\\n          color: #999;\\n          font-weight: 700;\\n          text-transform: uppercase;\\n          letter-spacing: 0.5px;\\n          margin-bottom: 8px;\\n        }\\n\\n        .stat-value {\\n          font-size: 32px;\\n          font-weight: 700;\\n          color: #000;\\n          letter-spacing: -0.5px;\\n        }\\n\\n        .stat-subtitle {\\n          font-size: 12px;\\n          color: #666;\\n          margin-top: 4px;\\n          font-weight: 500;\\n        }\\n\\n        /* Section Header */\\n        .section-header {\\n          display: flex;\\n          align-items: center;\\n          justify-content: space-between;\\n          margin-bottom: 16px;\\n        }\\n\\n        .section-title {\\n          display: flex;\\n          align-items: center;\\n          gap: 12px;\\n        }\\n\\n        .section-title h2 {\\n          font-size: 20px;\\n          font-weight: 700;\\n          color: #000;\\n          letter-spacing: -0.3px;\\n        }\\n\\n        .section-badge {\\n          padding: 8px 16px;\\n          background: linear-gradient(135deg, #0369a1, #0284c7);\\n          color: white;\\n          border-radius: 12px;\\n          font-size: 12px;\\n          font-weight: 600;\\n          box-shadow: 0 4px 12px rgba(3, 105, 161, 0.2);\\n        }\\n\\n        /* Nodes Grid */\\n        .nodes-grid {\\n          display: grid;\\n          grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));\\n          gap: 20px;\\n          margin-bottom: 24px;\\n        }\\n\\n        .node-card {\\n          background: rgba(255, 255, 255, 0.95);\\n          backdrop-filter: blur(10px);\\n          border-radius: 24px;\\n          padding: 28px;\\n          border: 1px solid rgba(255, 255, 255, 0.8);\\n          box-shadow: 0 4px 24px rgba(0, 0, 0, 0.04);\\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\\n        }\\n\\n        .node-card:hover {\\n          transform: translateY(-6px);\\n          box-shadow: 0 24px 48px rgba(0, 0, 0, 0.1);\\n          border-color: #0ea5e9;\\n        }\\n\\n        .node-header {\\n          display: flex;\\n          align-items: flex-start;\\n          justify-content: space-between;\\n          margin-bottom: 20px;\\n        }\\n\\n        .node-info h3 {\\n          font-size: 18px;\\n          font-weight: 700;\\n          color: #000;\\n          margin-bottom: 4px;\\n          letter-spacing: -0.2px;\\n        }\\n\\n        .node-location {\\n          display: flex;\\n          align-items: center;\\n          gap: 4px;\\n          font-size: 12px;\\n          color: #999;\\n          font-weight: 500;\\n        }\\n\\n        .status-badge {\\n          padding: 6px 12px;\\n          border-radius: 8px;\\n          font-size: 11px;\\n          font-weight: 700;\\n          text-transform: uppercase;\\n          letter-spacing: 0.5px;\\n          display: inline-flex;\\n          align-items: center;\\n          gap: 6px;\\n        }\\n\\n        /* Water Display */\\n        .water-display {\\n          background: linear-gradient(135deg, #0c4a6e 0%, #0369a1 50%, #0284c7 100%);\\n          border-radius: 20px;\\n          padding: 32px;\\n          margin-bottom: 20px;\\n          text-align: center;\\n          position: relative;\\n          overflow: hidden;\\n          box-shadow: 0 8px 32px rgba(3, 105, 161, 0.25);\\n        }\\n\\n        .water-display::before {\\n          content: '';\\n          position: absolute;\\n          bottom: 0;\\n          left: 0;\\n          right: 0;\\n          height: 40%;\\n          background: linear-gradient(0deg, rgba(255,255,255,0.1) 0%, transparent 100%);\\n          animation: wave 3s ease-in-out infinite;\\n        }\\n\\n        @keyframes wave {\\n          0%, 100% { transform: translateY(0); }\\n          50% { transform: translateY(-5px); }\\n        }\\n\\n        .water-label {\\n          font-size: 12px;\\n          color: rgba(255,255,255,0.8);\\n          font-weight: 700;\\n          text-transform: uppercase;\\n          letter-spacing: 1px;\\n          margin-bottom: 12px;\\n          position: relative;\\n          z-index: 1;\\n        }\\n\\n        .water-value {\\n          font-size: 56px;\\n          font-weight: 800;\\n          color: white;\\n          margin-bottom: 12px;\\n          letter-spacing: -2px;\\n          text-shadow: 0 4px 12px rgba(0,0,0,0.2);\\n          position: relative;\\n          z-index: 1;\\n        }\\n\\n        .water-formula {\\n          font-size: 13px;\\n          color: white;\\n          font-weight: 600;\\n          padding: 10px 20px;\\n          background: rgba(255,255,255,0.2);\\n          border-radius: 12px;\\n          display: inline-block;\\n          backdrop-filter: blur(5px);\\n          position: relative;\\n          z-index: 1;\\n        }\\n\\n        /* Metrics Grid */\\n        .metrics-grid {\\n          display: grid;\\n          grid-template-columns: repeat(2, 1fr);\\n          gap: 12px;\\n          margin-bottom: 20px;\\n        }\\n\\n        .metric-item {\\n          background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\\n          border-radius: 14px;\\n          padding: 18px;\\n          text-align: center;\\n          border: 1px solid #e2e8f0;\\n          transition: all 0.2s ease;\\n        }\\n\\n        .metric-item:hover {\\n          border-color: #0ea5e9;\\n          transform: translateY(-2px);\\n        }\\n\\n        .metric-label {\\n          font-size: 10px;\\n          color: #999;\\n          font-weight: 700;\\n          text-transform: uppercase;\\n          letter-spacing: 0.3px;\\n          margin-bottom: 8px;\\n        }\\n\\n        .metric-value {\\n          font-size: 20px;\\n          font-weight: 700;\\n          color: #000;\\n          letter-spacing: -0.3px;\\n        }\\n\\n        /* Action Buttons */\\n        .action-buttons {\\n          display: grid;\\n          grid-template-columns: repeat(2, 1fr);\\n          gap: 12px;\\n          margin-bottom: 16px;\\n        }\\n\\n        .btn {\\n          padding: 12px;\\n          border-radius: 10px;\\n          font-weight: 600;\\n          font-size: 13px;\\n          cursor: pointer;\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          gap: 6px;\\n          transition: all 0.2s ease;\\n          border: none;\\n        }\\n\\n        .btn-dark {\\n          background: linear-gradient(135deg, #0369a1, #0284c7);\\n          color: white;\\n          box-shadow: 0 4px 12px rgba(3, 105, 161, 0.2);\\n        }\\n\\n        .btn-dark:hover {\\n          background: linear-gradient(135deg, #0c4a6e, #0369a1);\\n          transform: translateY(-2px);\\n          box-shadow: 0 8px 16px rgba(3, 105, 161, 0.3);\\n        }\\n\\n        .btn-outline {\\n          background: rgba(255, 255, 255, 0.8);\\n          color: #0369a1;\\n          border: 2px solid #e2e8f0;\\n        }\\n\\n        .btn-outline:hover {\\n          border-color: #0ea5e9;\\n          background: white;\\n        }\\n\\n        .last-update {\\n          font-size: 11px;\\n          color: #999;\\n          text-align: center;\\n          font-weight: 500;\\n        }\\n\\n        /* Not Activated State */\\n        .not-activated {\\n          padding: 40px 24px;\\n          text-align: center;\\n          background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\\n          border-radius: 16px;\\n          margin-bottom: 16px;\\n          border: 2px dashed #cbd5e1;\\n        }\\n\\n        .not-activated-icon {\\n          color: #CCC;\\n          margin: 0 auto 16px;\\n        }\\n\\n        .not-activated-text {\\n          font-size: 14px;\\n          color: #666;\\n          margin-bottom: 4px;\\n          font-weight: 600;\\n        }\\n\\n        .not-activated-count {\\n          font-size: 12px;\\n          color: #999;\\n          margin-bottom: 20px;\\n        }\\n\\n        /* Modal */\\n        .modal-overlay {\\n          position: fixed;\\n          top: 0;\\n          left: 0;\\n          right: 0;\\n          bottom: 0;\\n          background: rgba(0, 0, 0, 0.6);\\n          display: flex;\\n          justify-content: center;\\n          align-items: center;\\n          z-index: 1000;\\n          padding: 24px;\\n        }\\n\\n        .modal-content {\\n          background: white;\\n          padding: 32px;\\n          border-radius: 20px;\\n          max-width: 500px;\\n          width: 100%;\\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\\n        }\\n\\n        .modal-header {\\n          margin-bottom: 24px;\\n        }\\n\\n        .modal-title {\\n          font-size: 24px;\\n          font-weight: 700;\\n          color: #000;\\n          margin-bottom: 8px;\\n          letter-spacing: -0.5px;\\n        }\\n\\n        .modal-subtitle {\\n          font-size: 14px;\\n          color: #666;\\n        }\\n\\n        .modal-info {\\n          padding: 20px;\\n          background: #FAFAFA;\\n          border-radius: 12px;\\n          margin-bottom: 24px;\\n          border: 1px solid #E8E8E8;\\n        }\\n\\n        .modal-info p {\\n          color: #666;\\n          font-size: 13px;\\n          line-height: 1.8;\\n          margin: 0;\\n        }\\n\\n        .form-group {\\n          margin-bottom: 24px;\\n        }\\n\\n        .form-label {\\n          display: block;\\n          margin-bottom: 8px;\\n          font-weight: 700;\\n          color: #000;\\n          font-size: 13px;\\n          text-transform: uppercase;\\n          letter-spacing: 0.3px;\\n        }\\n\\n        .form-input {\\n          width: 100%;\\n          padding: 14px;\\n          border: 2px solid #E8E8E8;\\n          border-radius: 10px;\\n          font-size: 16px;\\n          font-weight: 600;\\n          outline: none;\\n          transition: all 0.2s ease;\\n        }\\n\\n        .form-input:focus {\\n          border-color: #000;\\n        }\\n\\n        .modal-actions {\\n          display: flex;\\n          gap: 12px;\\n        }\\n\\n        .btn-modal {\\n          flex: 1;\\n          padding: 14px;\\n          border-radius: 10px;\\n          font-weight: 600;\\n          font-size: 14px;\\n          cursor: pointer;\\n          border: none;\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          gap: 8px;\\n          transition: all 0.2s ease;\\n        }\\n\\n        .btn-modal-dark {\\n          background: linear-gradient(135deg, #0369a1, #0284c7);\\n          color: white;\\n          box-shadow: 0 4px 12px rgba(3, 105, 161, 0.25);\\n        }\\n\\n        .btn-modal-dark:hover {\\n          background: linear-gradient(135deg, #0c4a6e, #0369a1);\\n        }\\n\\n        .btn-modal-cancel {\\n          background: #F5F5F5;\\n          color: #666;\\n        }\\n\\n        .btn-modal-cancel:hover {\\n          background: #E8E8E8;\\n        }\\n\\n        /* Quick Actions Card */\\n        .quick-actions-card {\\n          background: rgba(255, 255, 255, 0.95);\\n          backdrop-filter: blur(10px);\\n          border-radius: 24px;\\n          padding: 28px;\\n          border: 1px solid rgba(255, 255, 255, 0.8);\\n          box-shadow: 0 4px 24px rgba(0, 0, 0, 0.04);\\n        }\\n\\n        /* Simplified Dashboard Overview Styles */\\n        .simple-overview {\\n          display: flex;\\n          flex-direction: column;\\n          gap: 20px;\\n        }\\n\\n        .water-level-display {\\n          display: flex;\\n          align-items: center;\\n          gap: 20px;\\n          padding: 24px;\\n          background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%);\\n          border-radius: 16px;\\n          border: 2px solid #0ea5e9;\\n        }\\n\\n        .water-icon {\\n          font-size: 48px;\\n          line-height: 1;\\n        }\\n\\n        .water-info {\\n          flex: 1;\\n        }\\n\\n        .water-value-large {\\n          font-size: 42px;\\n          font-weight: 800;\\n          color: #0369a1;\\n          letter-spacing: -1px;\\n          line-height: 1;\\n          margin-bottom: 4px;\\n        }\\n\\n        .water-value-large .unit {\\n          font-size: 24px;\\n          margin-left: 8px;\\n          color: #0284c7;\\n          font-weight: 600;\\n        }\\n\\n        .water-label-small {\\n          font-size: 13px;\\n          color: #0369a1;\\n          font-weight: 600;\\n          text-transform: uppercase;\\n          letter-spacing: 0.5px;\\n        }\\n\\n        .quick-info {\\n          display: grid;\\n          grid-template-columns: 1fr 1fr;\\n          gap: 12px;\\n        }\\n\\n        .info-item {\\n          background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\\n          padding: 14px;\\n          border-radius: 12px;\\n          display: flex;\\n          flex-direction: column;\\n          gap: 6px;\\n          border: 1px solid #e2e8f0;\\n        }\\n\\n        .info-label {\\n          font-size: 11px;\\n          color: #64748b;\\n          font-weight: 600;\\n          text-transform: uppercase;\\n          letter-spacing: 0.3px;\\n        }\\n\\n        .info-value {\\n          font-size: 16px;\\n          color: #0f172a;\\n          font-weight: 700;\\n        }\\n\\n        .btn-view-details {\\n          width: 100%;\\n          padding: 16px 24px;\\n          background: linear-gradient(135deg, #0369a1, #0284c7);\\n          color: white;\\n          border: none;\\n          border-radius: 12px;\\n          font-size: 15px;\\n          font-weight: 600;\\n          cursor: pointer;\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          gap: 10px;\\n          transition: all 0.3s ease;\\n          box-shadow: 0 4px 12px rgba(3, 105, 161, 0.25);\\n        }\\n\\n        .btn-view-details:hover {\\n          background: linear-gradient(135deg, #0c4a6e, #0369a1);\\n          transform: translateY(-2px);\\n          box-shadow: 0 8px 20px rgba(3, 105, 161, 0.35);\\n        }\\n\\n        .quick-actions-grid {\\n          display: grid;\\n          grid-template-columns: repeat(2, 1fr);\\n          gap: 12px;\\n        }\\n\\n        .quick-action-btn {\\n          padding: 24px;\\n          background: linear-gradient(135deg, #f8fafc, #f1f5f9);\\n          border: 2px solid #e2e8f0;\\n          border-radius: 16px;\\n          cursor: pointer;\\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\\n          display: flex;\\n          align-items: center;\\n          gap: 18px;\\n        }\\n\\n        .quick-action-btn:hover {\\n          border-color: #0ea5e9;\\n          background: white;\\n          transform: translateY(-4px);\\n          box-shadow: 0 12px 24px rgba(14, 165, 233, 0.15);\\n        }\\n\\n        .quick-action-icon {\\n          width: 52px;\\n          height: 52px;\\n          background: linear-gradient(135deg, #0c4a6e, #0369a1);\\n          border-radius: 14px;\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          flex-shrink: 0;\\n          box-shadow: 0 8px 16px rgba(3, 105, 161, 0.2);\\n        }\\n\\n        .quick-action-text h4 {\\n          font-size: 14px;\\n          font-weight: 700;\\n          color: #000;\\n          margin-bottom: 2px;\\n        }\\n\\n        .quick-action-text p {\\n          font-size: 12px;\\n          color: #666;\\n        }\\n\\n        /* Responsive */\\n        @media (max-width: 1024px) {\\n          .stats-grid {\\n            grid-template-columns: repeat(2, 1fr);\\n          }\\n          .hero-stats {\\n            flex-wrap: wrap;\\n          }\\n        }\\n\\n        @media (max-width: 768px) {\\n          .dashboard-page {\\n            padding: 16px;\\n          }\\n          .dashboard-header {\\n            padding: 24px;\\n          }\\n          .hero-card {\\n            padding: 28px;\\n          }\\n          .hero-value {\\n            font-size: 42px;\\n          }\\n          .header-top {\\n            flex-direction: column;\\n            align-items: flex-start;\\n            gap: 16px;\\n          }\\n          .stats-grid {\\n            grid-template-columns: 1fr;\\n          }\\n          .nodes-grid {\\n            grid-template-columns: 1fr;\\n          }\\n          .quick-actions-grid {\\n            grid-template-columns: 1fr;\\n          }\\n        }\\n      \"}),toast&&/*#__PURE__*/_jsx(Toast,{message:toast.message,type:toast.type,onClose:()=>setToast(null)}),activationModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"modal-title\",children:[\"Activate \",activationModal.name]}),/*#__PURE__*/_jsx(\"p\",{className:\"modal-subtitle\",children:\"Configure cable length to start monitoring\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-info\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Water Height Formula: H = h\\u2081 - h\\u2082\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"h\\u2081\"}),\" = Cable length (depth from surface to cable end)\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"h\\u2082\"}),\" = Sensor reading (depth to water surface)\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"H\"}),\" = Water height above cable end\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"\\u26A0\\uFE0F If h\\u2082 \\u2265 h\\u2081, it means no water or sensor error\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uD83D\\uDCCF Sensor must read LESS than cable length for water to be present\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"Cable Length (h\\u2081) in meters \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#DC2626'},children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.1\",min:\"0\",value:cableLength,onChange:e=>setCableLength(e.target.value),placeholder:\"Enter cable length, e.g., 50.5\",className:\"form-input\",autoFocus:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleActivateNode,className:\"btn-modal btn-modal-dark\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:16}),\"Activate Node\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setActivationModal(null);setCableLength(\"\");},className:\"btn-modal btn-modal-cancel\",children:\"Cancel\"})]})]})}),editModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"modal-title\",children:[\"Edit Cable Length - \",editModal.name]}),/*#__PURE__*/_jsx(\"p\",{className:\"modal-subtitle\",children:\"Update h\\u2081 (cable length) for this node\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-info\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Current Values:\"}),/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 h\\u2081 (Cable): \",editModal.h1_m,\"m\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 h\\u2082 (Sensor): \",editModal.h2_m.toFixed(2),\"m\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 Water Height: \",editModal.waterHeight,\"m\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"Updating cable length will recalculate water height automatically.\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"New Cable Length (h\\u2081) in meters \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#DC2626'},children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.1\",min:\"0\",value:cableLength,onChange:e=>setCableLength(e.target.value),placeholder:\"Enter new cable length\",className:\"form-input\",autoFocus:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleUpdateCableLength,className:\"btn-modal btn-modal-dark\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:16}),\"Update Cable Length\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditModal(null);setCableLength(\"\");},className:\"btn-modal btn-modal-cancel\",children:\"Cancel\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-icon\",children:/*#__PURE__*/_jsx(Droplets,{size:24,style:{color:'white'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-text\",children:[/*#__PURE__*/_jsx(\"h1\",{children:greeting.text}),/*#__PURE__*/_jsxs(\"p\",{children:[greeting.subtext,\" \\u2022 \",stats.totalNodes,\" nodes monitoring \\u2022 Last update: \",lastUpdate.toLocaleTimeString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-header btn-secondary\",onClick:()=>navigate(\"/analytics\"),children:[/*#__PURE__*/_jsx(BarChart3,{size:16}),\"Analytics\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-header btn-primary\",onClick:()=>window.location.reload(),children:[/*#__PURE__*/_jsx(RefreshCw,{size:16}),\"Refresh\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hero-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hero-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hero-label\",children:\"Total Water Height\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"hero-value\",children:/*#__PURE__*/_jsx(AnimatedNumber,{value:stats.totalWaterHeight,decimals:1,suffix:\"\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"hero-unit\",children:\"meters\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hero-subtitle\",children:[\"Average: \",stats.avgWaterHeight,\"m across \",stats.activeNodes,\" active nodes\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hero-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hero-stat\",children:[/*#__PURE__*/_jsx(Droplets,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"hero-stat-label\",children:\"Active Wells\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hero-stat-value\",children:stats.activeNodes})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hero-stat\",children:[/*#__PURE__*/_jsx(AlertTriangle,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"hero-stat-label\",children:\"Alerts\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hero-stat-value\",children:stats.alerts})]})]})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(Droplets,{size:20})})}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-label\",children:\"Total Nodes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-value\",children:stats.totalNodes}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-subtitle\",children:\"LoRa Sensors\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",style:{background:'#DCFCE7'},children:/*#__PURE__*/_jsx(CheckCircle,{size:20,style:{color:'#16A34A'}})})}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-label\",children:\"Active Nodes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-value\",children:stats.activeNodes}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-subtitle\",children:\"Operational\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",style:{background:'#FEF3C7'},children:/*#__PURE__*/_jsx(AlertTriangle,{size:20,style:{color:'#D97706'}})})}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-label\",children:\"Alerts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-value\",children:stats.alerts}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-subtitle\",children:\"Requires attention\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(XCircle,{size:20})})}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-label\",children:\"Not Activated\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-value\",children:stats.notActivated}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-subtitle\",children:\"Pending setup\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(MapPin,{size:20}),/*#__PURE__*/_jsx(\"h2\",{children:\"Sensor Nodes\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section-badge\",children:[nodes.length,\" total\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"nodes-grid\",children:nodes.map(node=>/*#__PURE__*/_jsxs(\"div\",{className:\"node-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"node-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"node-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:node.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"node-location\",children:[/*#__PURE__*/_jsx(MapPin,{size:12}),\" \",node.location,\", \",node.region]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"status-badge\",style:{background:\"\".concat(getStatusColor(node.status),\"20\"),color:getStatusColor(node.status)},children:[getStatusIcon(node.status),node.status]})]}),!node.activated?/*#__PURE__*/_jsxs(\"div\",{className:\"not-activated\",children:[/*#__PURE__*/_jsx(XCircle,{size:40,className:\"not-activated-icon\"}),/*#__PURE__*/_jsx(\"p\",{className:\"not-activated-text\",children:\"Node not yet activated\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"not-activated-count\",children:[node.readingsCount,\" sensor readings available\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActivationModal(node),className:\"btn btn-dark\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(CheckCircle,{size:16}),\"Activate Node\"]})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"simple-overview\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"water-level-display\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"water-icon\",children:\"\\uD83D\\uDCA7\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"water-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"water-value-large\",children:[node.waterHeight,/*#__PURE__*/_jsx(\"span\",{className:\"unit\",children:\"m\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"water-label-small\",children:\"Current Water Level\"})]})]}),node.waterHeight<=0&&/*#__PURE__*/_jsx(ValidationAlert,{type:\"warning\",message:\"Invalid reading detected\",action:\"View details in Monitor for troubleshooting\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"quick-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Last Updated\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:new Date(node.lastUpdate).toLocaleTimeString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Readings Today\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:node.readingsCount})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/monitor'),className:\"btn-view-details\",children:[/*#__PURE__*/_jsx(Eye,{size:16}),\"View Detailed Monitoring\",/*#__PURE__*/_jsx(ChevronRight,{size:16})]})]})})]},node.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"section-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(Sparkles,{size:20}),/*#__PURE__*/_jsx(\"h2\",{children:\"Quick Actions\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"quick-actions-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"quick-actions-grid\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn\",onClick:()=>navigate(\"/monitor\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"quick-action-icon\",children:/*#__PURE__*/_jsx(Activity,{size:24,style:{color:'white'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"quick-action-text\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Real-Time Monitor\"}),/*#__PURE__*/_jsx(\"p\",{children:\"View live sensor data\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn\",onClick:()=>navigate(\"/analytics\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"quick-action-icon\",children:/*#__PURE__*/_jsx(BarChart3,{size:24,style:{color:'white'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"quick-action-text\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Analytics\"}),/*#__PURE__*/_jsx(\"p\",{children:\"View trends & reports\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn\",onClick:()=>navigate(\"/health\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"quick-action-icon\",children:/*#__PURE__*/_jsx(Gauge,{size:24,style:{color:'white'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"quick-action-text\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"System Health\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Backend diagnostics\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn\",onClick:()=>navigate(\"/settings\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"quick-action-icon\",children:/*#__PURE__*/_jsx(Settings,{size:24,style:{color:'white'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"quick-action-text\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Settings\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Configure system\"})]})]})]})})]});};export default DashboardPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Droplets","Activity","AlertTriangle","MapPin","ChevronRight","Eye","Edit","CheckCircle","XCircle","TrendingUp","RefreshCw","BarChart3","Gauge","Settings","Waves","Sparkles","Zap","Target","ref","onValue","set","database","notificationService","Tooltip","ValidationAlert","KPICard","InsightCard","AnimatedNumber","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Toast","_ref","message","type","onClose","timer","setTimeout","clearTimeout","bgColor","style","position","top","right","background","color","padding","borderRadius","boxShadow","zIndex","display","alignItems","gap","animation","minWidth","children","size","fontSize","fontWeight","DashboardPage","nodes","setNodes","selectedNode","setSelectedNode","stats","setStats","totalNodes","activeNodes","alerts","notActivated","totalWaterHeight","avgWaterHeight","loading","setLoading","activationModal","setActivationModal","editModal","setEditModal","cableLength","setCableLength","lastUpdate","setLastUpdate","Date","toast","setToast","isConnected","setIsConnected","setAlerts","title","timestamp","toISOString","read","now","navigate","showToast","arguments","length","undefined","getGreeting","hour","getHours","name","text","concat","subtext","greeting","console","log","init","rootRef","unsubscribe","snapshot","exists","data","val","Object","keys","config","LoRaSensor","nodeKeys","nodesArray","forEach","nodeKey","nodeData","nodeConfig","timestamps","sort","reverse","latestTimestamp","latestReading","updateNodeTimestamp","depth_m","RawData","depthMatch","match","parseFloat","isActivated","activated","h1_m","h2_m","waterHeight","status","push","id","toFixed","location","region","readingsCount","calculateStats","error","total","active","filter","n","activatedNodes","reduce","sum","handleActivateNode","nodeConfigRef","handleEditCableLength","node","toString","handleUpdateCableLength","getStatusColor","getStatusIcon","flexDirection","justifyContent","height","width","border","borderTopColor","className","step","min","value","onChange","e","target","placeholder","autoFocus","onClick","toLocaleTimeString","window","reload","decimals","suffix","map","action"],"sources":["/run/media/thobbs/EastManPhoenyXP/WALEKI_FRONTEND/WALEKI-FRONT/src/pages/dashboard/DashboardPage.jsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  Droplets, Activity, AlertTriangle, MapPin,\n  ChevronRight, Eye, Edit, CheckCircle,\n  XCircle, TrendingUp, RefreshCw,\n  BarChart3, Gauge, Settings, Waves, Sparkles,\n  Zap, Target\n} from \"lucide-react\";\nimport { ref, onValue, set } from \"firebase/database\";\nimport { database } from \"../../config/firebase\";\nimport notificationService from \"../../services/NotificationService\";\nimport Tooltip from \"../../components/Tooltip\";\nimport ValidationAlert from \"../../components/ValidationAlert\";\nimport KPICard from \"../../components/KPICard\";\nimport InsightCard from \"../../components/InsightCard\";\nimport AnimatedNumber from \"../../components/AnimatedNumber\";\n// import SkeletonLoader from \"../../components/SkeletonLoader\"; // Future: Add to loading states\n\n// Toast notification component (inline since react-hot-toast not installed)\nconst Toast = ({ message, type, onClose }) => {\n  useEffect(() => {\n    const timer = setTimeout(onClose, 3000);\n    return () => clearTimeout(timer);\n  }, [onClose]);\n\n  const bgColor = type === 'success' ? '#16A34A' : type === 'error' ? '#DC2626' : '#000';\n\n  return (\n    <div style={{\n      position: 'fixed',\n      top: '24px',\n      right: '24px',\n      background: bgColor,\n      color: 'white',\n      padding: '16px 24px',\n      borderRadius: '12px',\n      boxShadow: '0 8px 24px rgba(0,0,0,0.2)',\n      zIndex: 10000,\n      display: 'flex',\n      alignItems: 'center',\n      gap: '12px',\n      animation: 'slideIn 0.3s ease',\n      minWidth: '300px'\n    }}>\n      {type === 'success' && <CheckCircle size={20} />}\n      {type === 'error' && <XCircle size={20} />}\n      <span style={{ fontSize: '14px', fontWeight: 600 }}>{message}</span>\n    </div>\n  );\n};\n\nconst DashboardPage = () => {\n  const [nodes, setNodes] = useState([]);\n  const [selectedNode, setSelectedNode] = useState(null);\n  const [stats, setStats] = useState({\n    totalNodes: 0,\n    activeNodes: 0,\n    alerts: 0,\n    notActivated: 0,\n    totalWaterHeight: 0,\n    avgWaterHeight: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [activationModal, setActivationModal] = useState(null);\n  const [editModal, setEditModal] = useState(null);\n  const [cableLength, setCableLength] = useState(\"\");\n  const [lastUpdate, setLastUpdate] = useState(new Date());\n  const [toast, setToast] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [alerts, setAlerts] = useState([\n    {\n      type: 'warning',\n      title: 'Low Water Level',\n      message: 'Node2 water level below 5m threshold',\n      timestamp: new Date().toISOString(),\n      read: false\n    },\n    {\n      type: 'info',\n      title: 'Node Activated',\n      message: 'Node4 has been successfully activated',\n      timestamp: new Date(Date.now() - 3600000).toISOString(),\n      read: true\n    }\n  ]);\n  const navigate = useNavigate();\n\n  const showToast = (message, type = 'success') => {\n    setToast({ message, type });\n  };\n\n  // Dynamic greeting based on time of day\n  const getGreeting = () => {\n    const hour = new Date().getHours();\n    const name = \"WISE Future\"; // You can get this from currentUser if available\n\n    if (hour >= 0 && hour < 6) {\n      return {\n        text: `Still awake, ${name}? ðŸŒ™`,\n        subtext: \"Late night monitoring session\"\n      };\n    } else if (hour >= 6 && hour < 12) {\n      return {\n        text: `Good morning, ${name}! â˜€ï¸`,\n        subtext: \"Ready to start the day\"\n      };\n    } else if (hour >= 12 && hour < 17) {\n      return {\n        text: `Good afternoon, ${name}! ðŸ‘‹`,\n        subtext: \"Hope you're having a productive day\"\n      };\n    } else if (hour >= 17 && hour < 21) {\n      return {\n        text: `Good evening, ${name}! ðŸŒ†`,\n        subtext: \"Winding down for the day\"\n      };\n    } else {\n      return {\n        text: `Good night, ${name}! ðŸŒƒ`,\n        subtext: \"Late evening check-in\"\n      };\n    }\n  };\n\n  const greeting = getGreeting();\n\n  // Fetch all data from Firebase\n  useEffect(() => {\n    console.log(\"ðŸš€ Starting Firebase connection...\");\n\n    // Initialize notification service\n    notificationService.init();\n\n    const rootRef = ref(database);\n\n    const unsubscribe = onValue(rootRef, (snapshot) => {\n      console.log(\"ðŸ“¡ Firebase snapshot received\");\n      setIsConnected(true);\n      setLastUpdate(new Date());\n\n      if (snapshot.exists()) {\n        const data = snapshot.val();\n        console.log(\"ðŸ“Š Database structure:\", Object.keys(data));\n\n        // Get selected node from config\n        if (data.config && data.config.selectedNode) {\n          setSelectedNode(data.config.selectedNode);\n        }\n\n        // Process LoRaSensor data to extract nodes\n        if (data.LoRaSensor && data.config && data.config.nodes) {\n          const nodeKeys = Object.keys(data.LoRaSensor);\n          const nodesArray = [];\n\n          nodeKeys.forEach(nodeKey => {\n            const nodeData = data.LoRaSensor[nodeKey];\n            const nodeConfig = data.config.nodes[nodeKey];\n\n            // Get the latest reading\n            const timestamps = Object.keys(nodeData).sort().reverse();\n            const latestTimestamp = timestamps[0];\n            const latestReading = nodeData[latestTimestamp];\n\n            // Update notification service with latest timestamp\n            notificationService.updateNodeTimestamp(nodeKey, latestTimestamp);\n\n            // Parse RawData string\n            let depth_m = 0;\n\n            if (latestReading.RawData && typeof latestReading.RawData === 'string') {\n              const depthMatch = latestReading.RawData.match(/Depth=([\\d.]+)m/);\n              if (depthMatch) depth_m = parseFloat(depthMatch[1]);\n            }\n\n            // Check if node is activated from config.nodes\n            const isActivated = nodeConfig ? nodeConfig.activated : false;\n            const h1_m = nodeConfig ? nodeConfig.h1_m : 0;\n\n            // Calculate water height: Correct Formula\n            // h1_m = Cable length (from surface to cable end)\n            // h2_m = Sensor depth reading (from surface to sensor)\n            // Water Height = h2_m - h1_m (water above cable end)\n            // If h2 > h1, sensor is deeper than cable = ERROR/NO WATER\n\n            const h2_m = depth_m; // Sensor reading (depth from surface)\n            let waterHeight = 0;\n            let status = \"Not Activated\";\n\n            if (isActivated && h1_m > 0) {\n              // Correct calculation: Water Height = Sensor Depth - Cable Length\n              // If sensor reads less depth than cable length = water present\n              if (h2_m < h1_m) {\n                waterHeight = h1_m - h2_m; // Water height above cable end\n\n                // Determine status based on water height\n                if (waterHeight > 10) {\n                  status = \"Active\";\n                } else if (waterHeight >= 5) {\n                  status = \"Warning\";\n                } else if (waterHeight > 0) {\n                  status = \"Low\";\n                } else {\n                  status = \"Critical\";\n                }\n              } else {\n                // Sensor reads deeper than cable = No water or sensor error\n                waterHeight = 0;\n                status = \"Critical\";\n              }\n            }\n\n            console.log(`${nodeKey}: h1=${h1_m}m, h2=${h2_m}m, waterHeight=${waterHeight}m, status=${status}`);\n\n            nodesArray.push({\n              id: nodeKey,\n              name: nodeKey,\n              activated: isActivated,\n              h1_m: h1_m,\n              h2_m: h2_m,\n              waterHeight: parseFloat(waterHeight.toFixed(2)),\n              status: status,\n              location: \"Tanzania\",\n              region: \"Arusha\",\n              depth_m: depth_m,\n              lastUpdate: latestTimestamp,\n              readingsCount: timestamps.length\n            });\n          });\n\n          setNodes(nodesArray);\n          calculateStats(nodesArray);\n          setLastUpdate(new Date());\n        }\n      }\n\n      setLoading(false);\n    }, (error) => {\n      console.error(\"âŒ Firebase error:\", error);\n      setLoading(false);\n    });\n\n    return () => {\n      unsubscribe();\n      // Don't destroy notification service - let it continue monitoring\n      // notificationService.destroy();\n    };\n  }, []);\n\n  // Calculate statistics\n  const calculateStats = (nodesArray) => {\n    const total = nodesArray.length;\n    const active = nodesArray.filter(n => n.status === \"Active\").length;\n    const notActivated = nodesArray.filter(n => !n.activated).length;\n    const alerts = nodesArray.filter(n =>\n      n.status === \"Warning\" || n.status === \"Critical\" || n.status === \"Low\"\n    ).length;\n\n    const activatedNodes = nodesArray.filter(n => n.activated);\n    const totalWaterHeight = activatedNodes.reduce((sum, n) => sum + n.waterHeight, 0);\n    const avgWaterHeight = activatedNodes.length > 0 ? totalWaterHeight / activatedNodes.length : 0;\n\n    setStats({\n      totalNodes: total,\n      activeNodes: active,\n      alerts: alerts,\n      notActivated: notActivated,\n      totalWaterHeight: parseFloat(totalWaterHeight.toFixed(2)),\n      avgWaterHeight: parseFloat(avgWaterHeight.toFixed(2))\n    });\n  };\n\n  // Activate node\n  const handleActivateNode = async () => {\n    if (!cableLength || parseFloat(cableLength) <= 0) {\n      showToast(\"Please enter a valid cable length (hâ‚)\", 'error');\n      return;\n    }\n\n    try {\n      const nodeConfigRef = ref(database, `config/nodes/${activationModal.id}`);\n      await set(nodeConfigRef, {\n        activated: true,\n        h1_m: parseFloat(cableLength)\n      });\n\n      setActivationModal(null);\n      setCableLength(\"\");\n      showToast(`${activationModal.name} activated successfully!`, 'success');\n    } catch (error) {\n      console.error(\"âŒ Error activating node:\", error);\n      showToast(\"Failed to activate node. Please try again.\", 'error');\n    }\n  };\n\n  // Edit cable length with modal instead of prompt\n  const handleEditCableLength = (node) => {\n    setEditModal(node);\n    setCableLength(node.h1_m.toString());\n  };\n\n  const handleUpdateCableLength = async () => {\n    if (!cableLength || parseFloat(cableLength) <= 0) {\n      showToast(\"Please enter a valid cable length\", 'error');\n      return;\n    }\n\n    try {\n      const nodeConfigRef = ref(database, `config/nodes/${editModal.id}/h1_m`);\n      await set(nodeConfigRef, parseFloat(cableLength));\n\n      setEditModal(null);\n      setCableLength(\"\");\n      showToast(`Cable length updated for ${editModal.name}`, 'success');\n    } catch (error) {\n      console.error(\"âŒ Error updating cable length:\", error);\n      showToast(\"Failed to update cable length\", 'error');\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case \"Active\": return \"#16A34A\";\n      case \"Low\":\n      case \"Warning\": return \"#D97706\";\n      case \"Critical\": return \"#DC2626\";\n      case \"Not Activated\": return \"#999\";\n      default: return \"#999\";\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case \"Active\": return <CheckCircle size={14} />;\n      case \"Low\":\n      case \"Warning\": return <AlertTriangle size={14} />;\n      case \"Critical\": return <XCircle size={14} />;\n      default: return <Activity size={14} />;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100vh',\n        gap: '16px'\n      }}>\n        <div style={{\n          width: '40px',\n          height: '40px',\n          border: '3px solid #F0F0F0',\n          borderTopColor: '#000',\n          borderRadius: '50%',\n          animation: 'spin 0.8s linear infinite'\n        }}></div>\n        <p style={{ fontSize: '14px', color: '#666', fontWeight: 500 }}>Loading Dashboard...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"dashboard-page\">\n      <style jsx>{`\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n\n        @keyframes slideIn {\n          from {\n            transform: translateX(400px);\n            opacity: 0;\n          }\n          to {\n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n\n        .dashboard-page {\n          min-height: 100vh;\n          background: var(--color-bg);\n          padding: var(--spacing-2xl);\n          font-family: var(--font-primary);\n          color: var(--color-text);\n          transition: background-color var(--transition-normal);\n        }\n\n        /* Header */\n        .dashboard-header {\n          background: var(--color-bg-secondary);\n          backdrop-filter: blur(20px);\n          -webkit-backdrop-filter: blur(20px);\n          border-radius: var(--radius-xl);\n          padding: var(--spacing-2xl);\n          margin-bottom: var(--spacing-xl);\n          border: 1px solid var(--color-border);\n          box-shadow: var(--shadow-lg);\n        }\n\n        .header-top {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 24px;\n        }\n\n        .header-left {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n\n        .header-icon {\n          width: 52px;\n          height: 52px;\n          background: linear-gradient(135deg, #0369a1, #0284c7);\n          border-radius: 14px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          box-shadow: 0 8px 20px rgba(3, 105, 161, 0.25);\n        }\n\n        .header-text h1 {\n          font-size: 24px;\n          font-weight: 700;\n          color: #000;\n          margin-bottom: 4px;\n          letter-spacing: -0.5px;\n        }\n\n        .header-text p {\n          font-size: 13px;\n          color: #666;\n          font-weight: 500;\n        }\n\n        .header-actions {\n          display: flex;\n          gap: 12px;\n        }\n\n        .btn-header {\n          padding: 10px 20px;\n          border-radius: 10px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          border: none;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          transition: all 0.2s ease;\n        }\n\n        .btn-primary {\n          background: linear-gradient(135deg, #0369a1, #0284c7);\n          color: white;\n          box-shadow: 0 4px 12px rgba(3, 105, 161, 0.25);\n        }\n\n        .btn-primary:hover {\n          background: linear-gradient(135deg, #0c4a6e, #0369a1);\n          transform: translateY(-2px);\n          box-shadow: 0 8px 20px rgba(3, 105, 161, 0.35);\n        }\n\n        .btn-secondary {\n          background: rgba(255, 255, 255, 0.8);\n          color: #0369a1;\n          border: 2px solid #e2e8f0;\n          backdrop-filter: blur(10px);\n        }\n\n        .btn-secondary:hover {\n          border-color: #0369a1;\n          background: white;\n        }\n\n        /* Hero Card */\n        .hero-card {\n          background: linear-gradient(135deg, #0f172a 0%, #1e3a5f 50%, #0c4a6e 100%);\n          border-radius: 24px;\n          padding: 48px;\n          color: white;\n          position: relative;\n          overflow: hidden;\n          box-shadow: 0 20px 60px rgba(15, 23, 42, 0.3);\n        }\n\n        .hero-card::before {\n          content: '';\n          position: absolute;\n          top: -50%;\n          right: -20%;\n          width: 500px;\n          height: 500px;\n          background: radial-gradient(circle, rgba(56, 189, 248, 0.2) 0%, transparent 60%);\n          border-radius: 50%;\n          animation: float 8s ease-in-out infinite;\n        }\n\n        .hero-card::after {\n          content: '';\n          position: absolute;\n          bottom: -30%;\n          left: -10%;\n          width: 400px;\n          height: 400px;\n          background: radial-gradient(circle, rgba(34, 211, 238, 0.15) 0%, transparent 60%);\n          border-radius: 50%;\n          animation: float 10s ease-in-out infinite reverse;\n        }\n\n        @keyframes float {\n          0%, 100% { transform: translate(0, 0) scale(1); }\n          50% { transform: translate(20px, -20px) scale(1.05); }\n        }\n\n        .hero-content {\n          position: relative;\n          z-index: 1;\n        }\n\n        .hero-label {\n          font-size: 13px;\n          font-weight: 600;\n          opacity: 0.8;\n          margin-bottom: 12px;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n\n        .hero-value {\n          font-size: 56px;\n          font-weight: 700;\n          margin-bottom: 8px;\n          letter-spacing: -1.5px;\n        }\n\n        .hero-unit {\n          font-size: 24px;\n          opacity: 0.9;\n          margin-left: 8px;\n        }\n\n        .hero-subtitle {\n          font-size: 14px;\n          opacity: 0.8;\n          margin-bottom: 16px;\n        }\n\n        .hero-stats {\n          display: flex;\n          gap: 24px;\n          margin-top: 20px;\n        }\n\n        .hero-stat {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 20px;\n          background: rgba(255,255,255,0.1);\n          border-radius: 16px;\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(255,255,255,0.15);\n          transition: all 0.3s ease;\n        }\n\n        .hero-stat:hover {\n          background: rgba(255,255,255,0.15);\n          transform: translateY(-2px);\n        }\n\n        .hero-stat-label {\n          font-size: 12px;\n          opacity: 0.8;\n        }\n\n        .hero-stat-value {\n          font-size: 18px;\n          font-weight: 700;\n        }\n\n        /* Stats Grid */\n        .stats-grid {\n          display: grid;\n          grid-template-columns: repeat(4, 1fr);\n          gap: 16px;\n          margin-bottom: 24px;\n        }\n\n        .stat-card {\n          background: rgba(255, 255, 255, 0.95);\n          backdrop-filter: blur(10px);\n          border-radius: 20px;\n          padding: 28px;\n          border: 1px solid rgba(255, 255, 255, 0.9);\n          box-shadow: 0 4px 24px rgba(0, 0, 0, 0.04);\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          position: relative;\n          overflow: hidden;\n        }\n\n        .stat-card::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          height: 4px;\n          background: linear-gradient(90deg, #0ea5e9, #22d3ee, #06b6d4);\n          opacity: 0;\n          transition: opacity 0.3s ease;\n        }\n\n        .stat-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);\n        }\n\n        .stat-card:hover::before {\n          opacity: 1;\n        }\n\n        .stat-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 16px;\n        }\n\n        .stat-icon {\n          width: 48px;\n          height: 48px;\n          background: linear-gradient(135deg, #f0f9ff, #e0f2fe);\n          border-radius: 14px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          box-shadow: 0 4px 12px rgba(14, 165, 233, 0.1);\n        }\n\n        .stat-label {\n          font-size: 12px;\n          color: #999;\n          font-weight: 700;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          margin-bottom: 8px;\n        }\n\n        .stat-value {\n          font-size: 32px;\n          font-weight: 700;\n          color: #000;\n          letter-spacing: -0.5px;\n        }\n\n        .stat-subtitle {\n          font-size: 12px;\n          color: #666;\n          margin-top: 4px;\n          font-weight: 500;\n        }\n\n        /* Section Header */\n        .section-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 16px;\n        }\n\n        .section-title {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n        }\n\n        .section-title h2 {\n          font-size: 20px;\n          font-weight: 700;\n          color: #000;\n          letter-spacing: -0.3px;\n        }\n\n        .section-badge {\n          padding: 8px 16px;\n          background: linear-gradient(135deg, #0369a1, #0284c7);\n          color: white;\n          border-radius: 12px;\n          font-size: 12px;\n          font-weight: 600;\n          box-shadow: 0 4px 12px rgba(3, 105, 161, 0.2);\n        }\n\n        /* Nodes Grid */\n        .nodes-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));\n          gap: 20px;\n          margin-bottom: 24px;\n        }\n\n        .node-card {\n          background: rgba(255, 255, 255, 0.95);\n          backdrop-filter: blur(10px);\n          border-radius: 24px;\n          padding: 28px;\n          border: 1px solid rgba(255, 255, 255, 0.8);\n          box-shadow: 0 4px 24px rgba(0, 0, 0, 0.04);\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n\n        .node-card:hover {\n          transform: translateY(-6px);\n          box-shadow: 0 24px 48px rgba(0, 0, 0, 0.1);\n          border-color: #0ea5e9;\n        }\n\n        .node-header {\n          display: flex;\n          align-items: flex-start;\n          justify-content: space-between;\n          margin-bottom: 20px;\n        }\n\n        .node-info h3 {\n          font-size: 18px;\n          font-weight: 700;\n          color: #000;\n          margin-bottom: 4px;\n          letter-spacing: -0.2px;\n        }\n\n        .node-location {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          font-size: 12px;\n          color: #999;\n          font-weight: 500;\n        }\n\n        .status-badge {\n          padding: 6px 12px;\n          border-radius: 8px;\n          font-size: 11px;\n          font-weight: 700;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n        }\n\n        /* Water Display */\n        .water-display {\n          background: linear-gradient(135deg, #0c4a6e 0%, #0369a1 50%, #0284c7 100%);\n          border-radius: 20px;\n          padding: 32px;\n          margin-bottom: 20px;\n          text-align: center;\n          position: relative;\n          overflow: hidden;\n          box-shadow: 0 8px 32px rgba(3, 105, 161, 0.25);\n        }\n\n        .water-display::before {\n          content: '';\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          height: 40%;\n          background: linear-gradient(0deg, rgba(255,255,255,0.1) 0%, transparent 100%);\n          animation: wave 3s ease-in-out infinite;\n        }\n\n        @keyframes wave {\n          0%, 100% { transform: translateY(0); }\n          50% { transform: translateY(-5px); }\n        }\n\n        .water-label {\n          font-size: 12px;\n          color: rgba(255,255,255,0.8);\n          font-weight: 700;\n          text-transform: uppercase;\n          letter-spacing: 1px;\n          margin-bottom: 12px;\n          position: relative;\n          z-index: 1;\n        }\n\n        .water-value {\n          font-size: 56px;\n          font-weight: 800;\n          color: white;\n          margin-bottom: 12px;\n          letter-spacing: -2px;\n          text-shadow: 0 4px 12px rgba(0,0,0,0.2);\n          position: relative;\n          z-index: 1;\n        }\n\n        .water-formula {\n          font-size: 13px;\n          color: white;\n          font-weight: 600;\n          padding: 10px 20px;\n          background: rgba(255,255,255,0.2);\n          border-radius: 12px;\n          display: inline-block;\n          backdrop-filter: blur(5px);\n          position: relative;\n          z-index: 1;\n        }\n\n        /* Metrics Grid */\n        .metrics-grid {\n          display: grid;\n          grid-template-columns: repeat(2, 1fr);\n          gap: 12px;\n          margin-bottom: 20px;\n        }\n\n        .metric-item {\n          background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n          border-radius: 14px;\n          padding: 18px;\n          text-align: center;\n          border: 1px solid #e2e8f0;\n          transition: all 0.2s ease;\n        }\n\n        .metric-item:hover {\n          border-color: #0ea5e9;\n          transform: translateY(-2px);\n        }\n\n        .metric-label {\n          font-size: 10px;\n          color: #999;\n          font-weight: 700;\n          text-transform: uppercase;\n          letter-spacing: 0.3px;\n          margin-bottom: 8px;\n        }\n\n        .metric-value {\n          font-size: 20px;\n          font-weight: 700;\n          color: #000;\n          letter-spacing: -0.3px;\n        }\n\n        /* Action Buttons */\n        .action-buttons {\n          display: grid;\n          grid-template-columns: repeat(2, 1fr);\n          gap: 12px;\n          margin-bottom: 16px;\n        }\n\n        .btn {\n          padding: 12px;\n          border-radius: 10px;\n          font-weight: 600;\n          font-size: 13px;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 6px;\n          transition: all 0.2s ease;\n          border: none;\n        }\n\n        .btn-dark {\n          background: linear-gradient(135deg, #0369a1, #0284c7);\n          color: white;\n          box-shadow: 0 4px 12px rgba(3, 105, 161, 0.2);\n        }\n\n        .btn-dark:hover {\n          background: linear-gradient(135deg, #0c4a6e, #0369a1);\n          transform: translateY(-2px);\n          box-shadow: 0 8px 16px rgba(3, 105, 161, 0.3);\n        }\n\n        .btn-outline {\n          background: rgba(255, 255, 255, 0.8);\n          color: #0369a1;\n          border: 2px solid #e2e8f0;\n        }\n\n        .btn-outline:hover {\n          border-color: #0ea5e9;\n          background: white;\n        }\n\n        .last-update {\n          font-size: 11px;\n          color: #999;\n          text-align: center;\n          font-weight: 500;\n        }\n\n        /* Not Activated State */\n        .not-activated {\n          padding: 40px 24px;\n          text-align: center;\n          background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n          border-radius: 16px;\n          margin-bottom: 16px;\n          border: 2px dashed #cbd5e1;\n        }\n\n        .not-activated-icon {\n          color: #CCC;\n          margin: 0 auto 16px;\n        }\n\n        .not-activated-text {\n          font-size: 14px;\n          color: #666;\n          margin-bottom: 4px;\n          font-weight: 600;\n        }\n\n        .not-activated-count {\n          font-size: 12px;\n          color: #999;\n          margin-bottom: 20px;\n        }\n\n        /* Modal */\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0, 0, 0, 0.6);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 1000;\n          padding: 24px;\n        }\n\n        .modal-content {\n          background: white;\n          padding: 32px;\n          border-radius: 20px;\n          max-width: 500px;\n          width: 100%;\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n        }\n\n        .modal-header {\n          margin-bottom: 24px;\n        }\n\n        .modal-title {\n          font-size: 24px;\n          font-weight: 700;\n          color: #000;\n          margin-bottom: 8px;\n          letter-spacing: -0.5px;\n        }\n\n        .modal-subtitle {\n          font-size: 14px;\n          color: #666;\n        }\n\n        .modal-info {\n          padding: 20px;\n          background: #FAFAFA;\n          border-radius: 12px;\n          margin-bottom: 24px;\n          border: 1px solid #E8E8E8;\n        }\n\n        .modal-info p {\n          color: #666;\n          font-size: 13px;\n          line-height: 1.8;\n          margin: 0;\n        }\n\n        .form-group {\n          margin-bottom: 24px;\n        }\n\n        .form-label {\n          display: block;\n          margin-bottom: 8px;\n          font-weight: 700;\n          color: #000;\n          font-size: 13px;\n          text-transform: uppercase;\n          letter-spacing: 0.3px;\n        }\n\n        .form-input {\n          width: 100%;\n          padding: 14px;\n          border: 2px solid #E8E8E8;\n          border-radius: 10px;\n          font-size: 16px;\n          font-weight: 600;\n          outline: none;\n          transition: all 0.2s ease;\n        }\n\n        .form-input:focus {\n          border-color: #000;\n        }\n\n        .modal-actions {\n          display: flex;\n          gap: 12px;\n        }\n\n        .btn-modal {\n          flex: 1;\n          padding: 14px;\n          border-radius: 10px;\n          font-weight: 600;\n          font-size: 14px;\n          cursor: pointer;\n          border: none;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n          transition: all 0.2s ease;\n        }\n\n        .btn-modal-dark {\n          background: linear-gradient(135deg, #0369a1, #0284c7);\n          color: white;\n          box-shadow: 0 4px 12px rgba(3, 105, 161, 0.25);\n        }\n\n        .btn-modal-dark:hover {\n          background: linear-gradient(135deg, #0c4a6e, #0369a1);\n        }\n\n        .btn-modal-cancel {\n          background: #F5F5F5;\n          color: #666;\n        }\n\n        .btn-modal-cancel:hover {\n          background: #E8E8E8;\n        }\n\n        /* Quick Actions Card */\n        .quick-actions-card {\n          background: rgba(255, 255, 255, 0.95);\n          backdrop-filter: blur(10px);\n          border-radius: 24px;\n          padding: 28px;\n          border: 1px solid rgba(255, 255, 255, 0.8);\n          box-shadow: 0 4px 24px rgba(0, 0, 0, 0.04);\n        }\n\n        /* Simplified Dashboard Overview Styles */\n        .simple-overview {\n          display: flex;\n          flex-direction: column;\n          gap: 20px;\n        }\n\n        .water-level-display {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n          padding: 24px;\n          background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%);\n          border-radius: 16px;\n          border: 2px solid #0ea5e9;\n        }\n\n        .water-icon {\n          font-size: 48px;\n          line-height: 1;\n        }\n\n        .water-info {\n          flex: 1;\n        }\n\n        .water-value-large {\n          font-size: 42px;\n          font-weight: 800;\n          color: #0369a1;\n          letter-spacing: -1px;\n          line-height: 1;\n          margin-bottom: 4px;\n        }\n\n        .water-value-large .unit {\n          font-size: 24px;\n          margin-left: 8px;\n          color: #0284c7;\n          font-weight: 600;\n        }\n\n        .water-label-small {\n          font-size: 13px;\n          color: #0369a1;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n\n        .quick-info {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 12px;\n        }\n\n        .info-item {\n          background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n          padding: 14px;\n          border-radius: 12px;\n          display: flex;\n          flex-direction: column;\n          gap: 6px;\n          border: 1px solid #e2e8f0;\n        }\n\n        .info-label {\n          font-size: 11px;\n          color: #64748b;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.3px;\n        }\n\n        .info-value {\n          font-size: 16px;\n          color: #0f172a;\n          font-weight: 700;\n        }\n\n        .btn-view-details {\n          width: 100%;\n          padding: 16px 24px;\n          background: linear-gradient(135deg, #0369a1, #0284c7);\n          color: white;\n          border: none;\n          border-radius: 12px;\n          font-size: 15px;\n          font-weight: 600;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 10px;\n          transition: all 0.3s ease;\n          box-shadow: 0 4px 12px rgba(3, 105, 161, 0.25);\n        }\n\n        .btn-view-details:hover {\n          background: linear-gradient(135deg, #0c4a6e, #0369a1);\n          transform: translateY(-2px);\n          box-shadow: 0 8px 20px rgba(3, 105, 161, 0.35);\n        }\n\n        .quick-actions-grid {\n          display: grid;\n          grid-template-columns: repeat(2, 1fr);\n          gap: 12px;\n        }\n\n        .quick-action-btn {\n          padding: 24px;\n          background: linear-gradient(135deg, #f8fafc, #f1f5f9);\n          border: 2px solid #e2e8f0;\n          border-radius: 16px;\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          display: flex;\n          align-items: center;\n          gap: 18px;\n        }\n\n        .quick-action-btn:hover {\n          border-color: #0ea5e9;\n          background: white;\n          transform: translateY(-4px);\n          box-shadow: 0 12px 24px rgba(14, 165, 233, 0.15);\n        }\n\n        .quick-action-icon {\n          width: 52px;\n          height: 52px;\n          background: linear-gradient(135deg, #0c4a6e, #0369a1);\n          border-radius: 14px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-shrink: 0;\n          box-shadow: 0 8px 16px rgba(3, 105, 161, 0.2);\n        }\n\n        .quick-action-text h4 {\n          font-size: 14px;\n          font-weight: 700;\n          color: #000;\n          margin-bottom: 2px;\n        }\n\n        .quick-action-text p {\n          font-size: 12px;\n          color: #666;\n        }\n\n        /* Responsive */\n        @media (max-width: 1024px) {\n          .stats-grid {\n            grid-template-columns: repeat(2, 1fr);\n          }\n          .hero-stats {\n            flex-wrap: wrap;\n          }\n        }\n\n        @media (max-width: 768px) {\n          .dashboard-page {\n            padding: 16px;\n          }\n          .dashboard-header {\n            padding: 24px;\n          }\n          .hero-card {\n            padding: 28px;\n          }\n          .hero-value {\n            font-size: 42px;\n          }\n          .header-top {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 16px;\n          }\n          .stats-grid {\n            grid-template-columns: 1fr;\n          }\n          .nodes-grid {\n            grid-template-columns: 1fr;\n          }\n          .quick-actions-grid {\n            grid-template-columns: 1fr;\n          }\n        }\n      `}</style>\n\n      {/* Toast Notification */}\n      {toast && (\n        <Toast\n          message={toast.message}\n          type={toast.type}\n          onClose={() => setToast(null)}\n        />\n      )}\n\n      {/* Activation Modal */}\n      {activationModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">Activate {activationModal.name}</h2>\n              <p className=\"modal-subtitle\">Configure cable length to start monitoring</p>\n            </div>\n\n            <div className=\"modal-info\">\n              <p>\n                <strong>Water Height Formula: H = hâ‚ - hâ‚‚</strong><br /><br />\n                â€¢ <strong>hâ‚</strong> = Cable length (depth from surface to cable end)<br />\n                â€¢ <strong>hâ‚‚</strong> = Sensor reading (depth to water surface)<br />\n                â€¢ <strong>H</strong> = Water height above cable end<br /><br />\n                âš ï¸ If hâ‚‚ â‰¥ hâ‚, it means no water or sensor error<br />\n                ðŸ“ Sensor must read LESS than cable length for water to be present\n              </p>\n            </div>\n\n            <div className=\"form-group\">\n              <label className=\"form-label\">\n                Cable Length (hâ‚) in meters <span style={{ color: '#DC2626' }}>*</span>\n              </label>\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                min=\"0\"\n                value={cableLength}\n                onChange={(e) => setCableLength(e.target.value)}\n                placeholder=\"Enter cable length, e.g., 50.5\"\n                className=\"form-input\"\n                autoFocus\n              />\n            </div>\n\n            <div className=\"modal-actions\">\n              <button onClick={handleActivateNode} className=\"btn-modal btn-modal-dark\">\n                <CheckCircle size={16} />\n                Activate Node\n              </button>\n              <button\n                onClick={() => {\n                  setActivationModal(null);\n                  setCableLength(\"\");\n                }}\n                className=\"btn-modal btn-modal-cancel\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Edit Cable Length Modal */}\n      {editModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">Edit Cable Length - {editModal.name}</h2>\n              <p className=\"modal-subtitle\">Update hâ‚ (cable length) for this node</p>\n            </div>\n\n            <div className=\"modal-info\">\n              <p>\n                <strong>Current Values:</strong><br />\n                â€¢ hâ‚ (Cable): {editModal.h1_m}m<br />\n                â€¢ hâ‚‚ (Sensor): {editModal.h2_m.toFixed(2)}m<br />\n                â€¢ Water Height: {editModal.waterHeight}m<br /><br />\n                Updating cable length will recalculate water height automatically.\n              </p>\n            </div>\n\n            <div className=\"form-group\">\n              <label className=\"form-label\">\n                New Cable Length (hâ‚) in meters <span style={{ color: '#DC2626' }}>*</span>\n              </label>\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                min=\"0\"\n                value={cableLength}\n                onChange={(e) => setCableLength(e.target.value)}\n                placeholder=\"Enter new cable length\"\n                className=\"form-input\"\n                autoFocus\n              />\n            </div>\n\n            <div className=\"modal-actions\">\n              <button onClick={handleUpdateCableLength} className=\"btn-modal btn-modal-dark\">\n                <CheckCircle size={16} />\n                Update Cable Length\n              </button>\n              <button\n                onClick={() => {\n                  setEditModal(null);\n                  setCableLength(\"\");\n                }}\n                className=\"btn-modal btn-modal-cancel\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Header */}\n      <div className=\"dashboard-header\">\n        <div className=\"header-top\">\n          <div className=\"header-left\">\n            <div className=\"header-icon\">\n              <Droplets size={24} style={{ color: 'white' }} />\n            </div>\n            <div className=\"header-text\">\n              <h1>{greeting.text}</h1>\n              <p>{greeting.subtext} â€¢ {stats.totalNodes} nodes monitoring â€¢ Last update: {lastUpdate.toLocaleTimeString()}</p>\n            </div>\n          </div>\n          <div className=\"header-actions\">\n            <button className=\"btn-header btn-secondary\" onClick={() => navigate(\"/analytics\")}>\n              <BarChart3 size={16} />\n              Analytics\n            </button>\n            <button className=\"btn-header btn-primary\" onClick={() => window.location.reload()}>\n              <RefreshCw size={16} />\n              Refresh\n            </button>\n          </div>\n        </div>\n\n        {/* Hero Card */}\n        <div className=\"hero-card\">\n          <div className=\"hero-content\">\n            <div className=\"hero-label\">Total Water Height</div>\n            <div>\n              <span className=\"hero-value\"><AnimatedNumber value={stats.totalWaterHeight} decimals={1} suffix=\"\" /></span>\n              <span className=\"hero-unit\">meters</span>\n            </div>\n            <div className=\"hero-subtitle\">\n              Average: {stats.avgWaterHeight}m across {stats.activeNodes} active nodes\n            </div>\n            <div className=\"hero-stats\">\n              <div className=\"hero-stat\">\n                <Droplets size={20} />\n                <div>\n                  <div className=\"hero-stat-label\">Active Wells</div>\n                  <div className=\"hero-stat-value\">{stats.activeNodes}</div>\n                </div>\n              </div>\n              <div className=\"hero-stat\">\n                <AlertTriangle size={20} />\n                <div>\n                  <div className=\"hero-stat-label\">Alerts</div>\n                  <div className=\"hero-stat-value\">{stats.alerts}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"stats-grid\">\n        <div className=\"stat-card\">\n          <div className=\"stat-header\">\n            <div className=\"stat-icon\">\n              <Droplets size={20} />\n            </div>\n          </div>\n          <p className=\"stat-label\">Total Nodes</p>\n          <p className=\"stat-value\">{stats.totalNodes}</p>\n          <p className=\"stat-subtitle\">LoRa Sensors</p>\n        </div>\n\n        <div className=\"stat-card\">\n          <div className=\"stat-header\">\n            <div className=\"stat-icon\" style={{ background: '#DCFCE7' }}>\n              <CheckCircle size={20} style={{ color: '#16A34A' }} />\n            </div>\n          </div>\n          <p className=\"stat-label\">Active Nodes</p>\n          <p className=\"stat-value\">{stats.activeNodes}</p>\n          <p className=\"stat-subtitle\">Operational</p>\n        </div>\n\n        <div className=\"stat-card\">\n          <div className=\"stat-header\">\n            <div className=\"stat-icon\" style={{ background: '#FEF3C7' }}>\n              <AlertTriangle size={20} style={{ color: '#D97706' }} />\n            </div>\n          </div>\n          <p className=\"stat-label\">Alerts</p>\n          <p className=\"stat-value\">{stats.alerts}</p>\n          <p className=\"stat-subtitle\">Requires attention</p>\n        </div>\n\n        <div className=\"stat-card\">\n          <div className=\"stat-header\">\n            <div className=\"stat-icon\">\n              <XCircle size={20} />\n            </div>\n          </div>\n          <p className=\"stat-label\">Not Activated</p>\n          <p className=\"stat-value\">{stats.notActivated}</p>\n          <p className=\"stat-subtitle\">Pending setup</p>\n        </div>\n      </div>\n\n      {/* Nodes Section */}\n      <div className=\"section-header\">\n        <div className=\"section-title\">\n          <MapPin size={20} />\n          <h2>Sensor Nodes</h2>\n        </div>\n        <div className=\"section-badge\">\n          {nodes.length} total\n        </div>\n      </div>\n\n      <div className=\"nodes-grid\">\n        {nodes.map((node) => (\n          <div key={node.id} className=\"node-card\">\n            <div className=\"node-header\">\n              <div className=\"node-info\">\n                <h3>{node.name}</h3>\n                <div className=\"node-location\">\n                  <MapPin size={12} /> {node.location}, {node.region}\n                </div>\n              </div>\n              <span\n                className=\"status-badge\"\n                style={{\n                  background: `${getStatusColor(node.status)}20`,\n                  color: getStatusColor(node.status)\n                }}\n              >\n                {getStatusIcon(node.status)}\n                {node.status}\n              </span>\n            </div>\n\n            {!node.activated ? (\n              <div className=\"not-activated\">\n                <XCircle size={40} className=\"not-activated-icon\" />\n                <p className=\"not-activated-text\">Node not yet activated</p>\n                <p className=\"not-activated-count\">{node.readingsCount} sensor readings available</p>\n                <button\n                  onClick={() => setActivationModal(node)}\n                  className=\"btn btn-dark\"\n                  style={{ width: '100%' }}\n                >\n                  <CheckCircle size={16} />\n                  Activate Node\n                </button>\n              </div>\n            ) : (\n              <>\n                {/* Simplified Dashboard View - Quick Overview */}\n                <div className=\"simple-overview\">\n                  {/* Water Level - Large and Prominent */}\n                  <div className=\"water-level-display\">\n                    <div className=\"water-icon\">ðŸ’§</div>\n                    <div className=\"water-info\">\n                      <div className=\"water-value-large\">{node.waterHeight}<span className=\"unit\">m</span></div>\n                      <div className=\"water-label-small\">Current Water Level</div>\n                    </div>\n                  </div>\n\n                  {/* Validation Warning if needed */}\n                  {node.waterHeight <= 0 && (\n                    <ValidationAlert\n                      type=\"warning\"\n                      message=\"Invalid reading detected\"\n                      action=\"View details in Monitor for troubleshooting\"\n                    />\n                  )}\n\n                  {/* Quick Info */}\n                  <div className=\"quick-info\">\n                    <div className=\"info-item\">\n                      <span className=\"info-label\">Last Updated</span>\n                      <span className=\"info-value\">{new Date(node.lastUpdate).toLocaleTimeString()}</span>\n                    </div>\n                    <div className=\"info-item\">\n                      <span className=\"info-label\">Readings Today</span>\n                      <span className=\"info-value\">{node.readingsCount}</span>\n                    </div>\n                  </div>\n\n                  {/* Single CTA Button */}\n                  <button onClick={() => navigate('/monitor')} className=\"btn-view-details\">\n                    <Eye size={16} />\n                    View Detailed Monitoring\n                    <ChevronRight size={16} />\n                  </button>\n                </div>\n              </>\n            )}\n          </div>\n        ))}\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"section-header\">\n        <div className=\"section-title\">\n          <Sparkles size={20} />\n          <h2>Quick Actions</h2>\n        </div>\n      </div>\n\n      <div className=\"quick-actions-card\">\n        <div className=\"quick-actions-grid\">\n          <button className=\"quick-action-btn\" onClick={() => navigate(\"/monitor\")}>\n            <div className=\"quick-action-icon\">\n              <Activity size={24} style={{ color: 'white' }} />\n            </div>\n            <div className=\"quick-action-text\">\n              <h4>Real-Time Monitor</h4>\n              <p>View live sensor data</p>\n            </div>\n          </button>\n\n          <button className=\"quick-action-btn\" onClick={() => navigate(\"/analytics\")}>\n            <div className=\"quick-action-icon\">\n              <BarChart3 size={24} style={{ color: 'white' }} />\n            </div>\n            <div className=\"quick-action-text\">\n              <h4>Analytics</h4>\n              <p>View trends & reports</p>\n            </div>\n          </button>\n\n          <button className=\"quick-action-btn\" onClick={() => navigate(\"/health\")}>\n            <div className=\"quick-action-icon\">\n              <Gauge size={24} style={{ color: 'white' }} />\n            </div>\n            <div className=\"quick-action-text\">\n              <h4>System Health</h4>\n              <p>Backend diagnostics</p>\n            </div>\n          </button>\n\n          <button className=\"quick-action-btn\" onClick={() => navigate(\"/settings\")}>\n            <div className=\"quick-action-icon\">\n              <Settings size={24} style={{ color: 'white' }} />\n            </div>\n            <div className=\"quick-action-text\">\n              <h4>Settings</h4>\n              <p>Configure system</p>\n            </div>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DashboardPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}