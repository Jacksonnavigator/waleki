{"ast":null,"code":"'use client';import React,{useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{useAuth}from\"../contexts/AuthContext\";import Sidebar from\"./Sidebar\";import DashboardNavbar from\"./DashboardNavbar\";import Chatbot from\"./Chatbot\";import\"../styles/DashboardLayout.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DashboardLayout=_ref=>{let{children}=_ref;const{currentUser,loading}=useAuth();const navigate=useNavigate();// Protect dashboard routes - redirect if not authenticated\nuseEffect(()=>{if(!loading&&!currentUser){console.log(\"⚠️ No authenticated user, redirecting to login\");navigate(\"/login\");}},[currentUser,loading,navigate]);// Show loading state while checking authentication\nif(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-layout\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading dashboard...\"})]})});}// Don't render dashboard if user is not authenticated\nif(!currentUser){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-layout\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"main\",{className:\"dashboard-main\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-navbar-container\",children:/*#__PURE__*/_jsx(DashboardNavbar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-content\",children:children})]}),/*#__PURE__*/_jsx(Chatbot,{})]});};export default DashboardLayout;","map":{"version":3,"names":["React","useEffect","useNavigate","useAuth","Sidebar","DashboardNavbar","Chatbot","jsx","_jsx","jsxs","_jsxs","DashboardLayout","_ref","children","currentUser","loading","navigate","console","log","className"],"sources":["/run/media/thobbs/EastManPhoenyXP/WALEKI_FRONTEND/WALEKI-FRONT/src/components/DashboardLayout.jsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport Sidebar from \"./Sidebar\";\nimport DashboardNavbar from \"./DashboardNavbar\";\nimport Chatbot from \"./Chatbot\";\nimport \"../styles/DashboardLayout.css\";\n\nconst DashboardLayout = ({ children }) => {\n  const { currentUser, loading } = useAuth();\n  const navigate = useNavigate();\n\n  // Protect dashboard routes - redirect if not authenticated\n  useEffect(() => {\n    if (!loading && !currentUser) {\n      console.log(\"⚠️ No authenticated user, redirecting to login\");\n      navigate(\"/login\");\n    }\n  }, [currentUser, loading, navigate]);\n\n  // Show loading state while checking authentication\n  if (loading) {\n    return (\n      <div className=\"dashboard-layout\">\n        <div className=\"dashboard-loading\">\n          <div className=\"loading-spinner\"></div>\n          <p>Loading dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Don't render dashboard if user is not authenticated\n  if (!currentUser) {\n    return null;\n  }\n\n  return (\n    <div className=\"dashboard-layout\">\n      {/* Modern Sidebar Navigation */}\n      <Sidebar />\n\n      {/* Main Content Area */}\n      <main className=\"dashboard-main\">\n        {/* Top Navbar */}\n        <div className=\"dashboard-navbar-container\">\n          <DashboardNavbar />\n        </div>\n\n        {/* Page Content */}\n        <div className=\"dashboard-content\">\n          {children}\n        </div>\n      </main>\n\n      {/* Floating Chatbot - Always visible on dashboard */}\n      <Chatbot />\n    </div>\n  );\n};\n\nexport default DashboardLayout;\n"],"mappings":"AAAA,YAAY,CAEZ,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,OAAO,KAAQ,yBAAyB,CACjD,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,+BAA+B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,KAAM,CAAAC,eAAe,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACnC,KAAM,CAAEE,WAAW,CAAEC,OAAQ,CAAC,CAAGZ,OAAO,CAAC,CAAC,CAC1C,KAAM,CAAAa,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9B;AACAD,SAAS,CAAC,IAAM,CACd,GAAI,CAACc,OAAO,EAAI,CAACD,WAAW,CAAE,CAC5BG,OAAO,CAACC,GAAG,CAAC,gDAAgD,CAAC,CAC7DF,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACF,CAAC,CAAE,CAACF,WAAW,CAAEC,OAAO,CAAEC,QAAQ,CAAC,CAAC,CAEpC;AACA,GAAID,OAAO,CAAE,CACX,mBACEP,IAAA,QAAKW,SAAS,CAAC,kBAAkB,CAAAN,QAAA,cAC/BH,KAAA,QAAKS,SAAS,CAAC,mBAAmB,CAAAN,QAAA,eAChCL,IAAA,QAAKW,SAAS,CAAC,iBAAiB,CAAM,CAAC,cACvCX,IAAA,MAAAK,QAAA,CAAG,sBAAoB,CAAG,CAAC,EACxB,CAAC,CACH,CAAC,CAEV,CAEA;AACA,GAAI,CAACC,WAAW,CAAE,CAChB,MAAO,KAAI,CACb,CAEA,mBACEJ,KAAA,QAAKS,SAAS,CAAC,kBAAkB,CAAAN,QAAA,eAE/BL,IAAA,CAACJ,OAAO,GAAE,CAAC,cAGXM,KAAA,SAAMS,SAAS,CAAC,gBAAgB,CAAAN,QAAA,eAE9BL,IAAA,QAAKW,SAAS,CAAC,4BAA4B,CAAAN,QAAA,cACzCL,IAAA,CAACH,eAAe,GAAE,CAAC,CAChB,CAAC,cAGNG,IAAA,QAAKW,SAAS,CAAC,mBAAmB,CAAAN,QAAA,CAC/BA,QAAQ,CACN,CAAC,EACF,CAAC,cAGPL,IAAA,CAACF,OAAO,GAAE,CAAC,EACR,CAAC,CAEV,CAAC,CAED,cAAe,CAAAK,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}