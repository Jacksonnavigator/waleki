{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Bell,BellOff,CheckCircle,AlertTriangle,XCircle,Settings}from'lucide-react';import notificationService from'../services/NotificationService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const NotificationManager=()=>{const[permission,setPermission]=useState('default');const[isMonitoring,setIsMonitoring]=useState(false);const[monitoringStatus,setMonitoringStatus]=useState({});const[showPanel,setShowPanel]=useState(false);useEffect(()=>{// Initialize on mount\nconst init=async()=>{await notificationService.init();setPermission(notificationService.permission);updateStatus();};init();// Update status every 30 seconds\nconst interval=setInterval(updateStatus,30000);return()=>clearInterval(interval);},[]);const updateStatus=()=>{setPermission(notificationService.permission);setIsMonitoring(notificationService.checkInterval!==null);setMonitoringStatus(notificationService.getMonitoringStatus());};const handleEnableNotifications=async()=>{const granted=await notificationService.requestPermission();setPermission(granted?'granted':'denied');if(granted){setIsMonitoring(true);}};const handleDisableNotifications=()=>{notificationService.stopMonitoring();setIsMonitoring(false);};const getStatusColor=isOnline=>{return isOnline?'#16A34A':'#DC2626';};const getStatusIcon=isOnline=>{return isOnline?/*#__PURE__*/_jsx(CheckCircle,{size:16}):/*#__PURE__*/_jsx(AlertTriangle,{size:16});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"style\",{jsx:true,children:\"\\n        .notification-manager {\\n          position: relative;\\n        }\\n\\n        .notification-button {\\n          position: relative;\\n          width: 44px;\\n          height: 44px;\\n          border-radius: 12px;\\n          background: #FAFAFA;\\n          border: 1px solid #F0F0F0;\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          cursor: pointer;\\n          transition: all 0.2s ease;\\n          color: #666;\\n        }\\n\\n        .notification-button:hover {\\n          background: #F0F0F0;\\n          color: #000;\\n          transform: translateY(-1px);\\n        }\\n\\n        .notification-button.active {\\n          background: #000;\\n          color: white;\\n          border-color: #000;\\n        }\\n\\n        .notification-badge {\\n          position: absolute;\\n          top: -6px;\\n          right: -6px;\\n          background: #DC2626;\\n          color: white;\\n          font-size: 10px;\\n          font-weight: 700;\\n          padding: 3px 7px;\\n          border-radius: 12px;\\n          min-width: 20px;\\n          text-align: center;\\n          border: 2px solid white;\\n          box-shadow: 0 2px 8px rgba(220, 38, 38, 0.3);\\n        }\\n\\n        .status-dot {\\n          position: absolute;\\n          bottom: -2px;\\n          right: -2px;\\n          width: 12px;\\n          height: 12px;\\n          border-radius: 50%;\\n          background: #16A34A;\\n          border: 2px solid white;\\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\\n        }\\n\\n        .status-dot.inactive {\\n          background: #999;\\n        }\\n\\n        /* Panel */\\n        .notification-panel {\\n          position: absolute;\\n          top: calc(100% + 12px);\\n          right: 0;\\n          width: 380px;\\n          background: white;\\n          border-radius: 16px;\\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);\\n          border: 1px solid #E8E8E8;\\n          padding: 20px;\\n          animation: slideDown 0.2s ease;\\n          z-index: 1000;\\n        }\\n\\n        @keyframes slideDown {\\n          from {\\n            opacity: 0;\\n            transform: translateY(-10px);\\n          }\\n          to {\\n            opacity: 1;\\n            transform: translateY(0);\\n          }\\n        }\\n\\n        .panel-header {\\n          display: flex;\\n          align-items: center;\\n          justify-content: space-between;\\n          margin-bottom: 20px;\\n          padding-bottom: 16px;\\n          border-bottom: 1px solid #F0F0F0;\\n        }\\n\\n        .panel-title {\\n          font-size: 18px;\\n          font-weight: 700;\\n          color: #000;\\n          display: flex;\\n          align-items: center;\\n          gap: 10px;\\n        }\\n\\n        .close-btn {\\n          width: 32px;\\n          height: 32px;\\n          border-radius: 8px;\\n          background: #FAFAFA;\\n          border: none;\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          cursor: pointer;\\n          transition: all 0.2s ease;\\n          color: #666;\\n        }\\n\\n        .close-btn:hover {\\n          background: #F0F0F0;\\n          color: #000;\\n        }\\n\\n        /* Permission Section */\\n        .permission-section {\\n          padding: 16px;\\n          background: #FAFAFA;\\n          border-radius: 12px;\\n          margin-bottom: 20px;\\n        }\\n\\n        .permission-status {\\n          display: flex;\\n          align-items: center;\\n          gap: 12px;\\n          margin-bottom: 12px;\\n        }\\n\\n        .status-icon {\\n          width: 40px;\\n          height: 40px;\\n          border-radius: 10px;\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          flex-shrink: 0;\\n        }\\n\\n        .status-icon.granted {\\n          background: #DCFCE7;\\n          color: #16A34A;\\n        }\\n\\n        .status-icon.denied {\\n          background: #FEE2E2;\\n          color: #DC2626;\\n        }\\n\\n        .status-icon.default {\\n          background: #F0F0F0;\\n          color: #666;\\n        }\\n\\n        .status-text h4 {\\n          font-size: 14px;\\n          font-weight: 700;\\n          color: #000;\\n          margin-bottom: 2px;\\n        }\\n\\n        .status-text p {\\n          font-size: 12px;\\n          color: #666;\\n        }\\n\\n        .enable-btn {\\n          width: 100%;\\n          padding: 12px;\\n          background: #000;\\n          color: white;\\n          border: none;\\n          border-radius: 10px;\\n          font-size: 14px;\\n          font-weight: 600;\\n          cursor: pointer;\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          gap: 8px;\\n          transition: all 0.2s ease;\\n        }\\n\\n        .enable-btn:hover {\\n          background: #333;\\n          transform: translateY(-1px);\\n        }\\n\\n        .enable-btn.danger {\\n          background: #DC2626;\\n        }\\n\\n        .enable-btn.danger:hover {\\n          background: #B91C1C;\\n        }\\n\\n        /* Monitoring Status */\\n        .monitoring-section {\\n          margin-bottom: 16px;\\n        }\\n\\n        .section-title {\\n          font-size: 13px;\\n          font-weight: 700;\\n          color: #000;\\n          margin-bottom: 12px;\\n          text-transform: uppercase;\\n          letter-spacing: 0.3px;\\n        }\\n\\n        .node-list {\\n          display: flex;\\n          flex-direction: column;\\n          gap: 8px;\\n          max-height: 200px;\\n          overflow-y: auto;\\n        }\\n\\n        .node-item {\\n          display: flex;\\n          align-items: center;\\n          justify-content: space-between;\\n          padding: 10px 12px;\\n          background: #FAFAFA;\\n          border-radius: 10px;\\n          border: 1px solid #F0F0F0;\\n        }\\n\\n        .node-info {\\n          display: flex;\\n          align-items: center;\\n          gap: 10px;\\n        }\\n\\n        .node-name {\\n          font-size: 13px;\\n          font-weight: 600;\\n          color: #000;\\n        }\\n\\n        .node-time {\\n          font-size: 11px;\\n          color: #999;\\n        }\\n\\n        .node-status {\\n          display: flex;\\n          align-items: center;\\n          gap: 6px;\\n          padding: 4px 10px;\\n          border-radius: 8px;\\n          font-size: 11px;\\n          font-weight: 700;\\n          text-transform: uppercase;\\n          letter-spacing: 0.3px;\\n        }\\n\\n        .node-status.online {\\n          background: #DCFCE7;\\n          color: #16A34A;\\n        }\\n\\n        .node-status.offline {\\n          background: #FEE2E2;\\n          color: #DC2626;\\n        }\\n\\n        .empty-state {\\n          text-align: center;\\n          padding: 32px 16px;\\n          color: #999;\\n        }\\n\\n        .empty-state svg {\\n          margin: 0 auto 12px;\\n          opacity: 0.5;\\n        }\\n\\n        .empty-state p {\\n          font-size: 13px;\\n        }\\n\\n        /* Info Box */\\n        .info-box {\\n          padding: 12px;\\n          background: #F0F9FF;\\n          border: 1px solid #BAE6FD;\\n          border-radius: 10px;\\n          font-size: 12px;\\n          color: #0369A1;\\n          line-height: 1.6;\\n        }\\n\\n        @media (max-width: 480px) {\\n          .notification-panel {\\n            width: calc(100vw - 32px);\\n            right: -100px;\\n          }\\n        }\\n      \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"notification-manager\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"notification-button \".concat(permission==='granted'&&isMonitoring?'active':''),onClick:()=>setShowPanel(!showPanel),title:\"Notifications\",children:[permission==='granted'&&isMonitoring?/*#__PURE__*/_jsx(Bell,{size:19}):/*#__PURE__*/_jsx(BellOff,{size:19}),Object.keys(monitoringStatus).length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"notification-badge\",children:Object.values(monitoringStatus).filter(s=>!s.isOnline).length}),isMonitoring&&/*#__PURE__*/_jsx(\"span\",{className:\"status-dot \".concat(isMonitoring?'':'inactive')})]}),showPanel&&/*#__PURE__*/_jsxs(\"div\",{className:\"notification-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-title\",children:[/*#__PURE__*/_jsx(Bell,{size:20}),\"Notifications\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>setShowPanel(false),children:/*#__PURE__*/_jsx(XCircle,{size:18})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"permission-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"permission-status\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-icon \".concat(permission),children:permission==='granted'?/*#__PURE__*/_jsx(CheckCircle,{size:20}):permission==='denied'?/*#__PURE__*/_jsx(XCircle,{size:20}):/*#__PURE__*/_jsx(Bell,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-text\",children:[/*#__PURE__*/_jsx(\"h4\",{children:permission==='granted'?'Notifications Enabled':permission==='denied'?'Notifications Blocked':'Notifications Disabled'}),/*#__PURE__*/_jsx(\"p\",{children:permission==='granted'?'Monitoring sensor data flow':permission==='denied'?'Enable in browser settings':'Click below to enable alerts'})]})]}),permission==='default'&&/*#__PURE__*/_jsxs(\"button\",{className:\"enable-btn\",onClick:handleEnableNotifications,children:[/*#__PURE__*/_jsx(Bell,{size:16}),\"Enable Notifications\"]}),permission==='granted'&&isMonitoring&&/*#__PURE__*/_jsxs(\"button\",{className:\"enable-btn danger\",onClick:handleDisableNotifications,children:[/*#__PURE__*/_jsx(BellOff,{size:16}),\"Disable Monitoring\"]})]}),permission==='granted'&&Object.keys(monitoringStatus).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"monitoring-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-title\",children:\"Sensor Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"node-list\",children:Object.entries(monitoringStatus).map(_ref=>{let[nodeId,status]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"node-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"node-info\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"node-name\",children:nodeId}),/*#__PURE__*/_jsxs(\"div\",{className:\"node-time\",children:[status.minutesSinceUpdate,\"m ago\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"node-status \".concat(status.isOnline?'online':'offline'),children:[getStatusIcon(status.isOnline),status.isOnline?'Online':'Offline']})]},nodeId);})})]}),permission==='granted'&&Object.keys(monitoringStatus).length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Settings,{size:32}),/*#__PURE__*/_jsxs(\"p\",{children:[\"No sensors being monitored yet.\",/*#__PURE__*/_jsx(\"br\",{}),\"They will appear once data starts flowing.\"]})]}),permission==='granted'&&/*#__PURE__*/_jsx(\"div\",{className:\"info-box\",children:\"\\uD83D\\uDCA1 You'll receive alerts when sensors stop sending data for 5+ minutes, and when they resume.\"})]})]})]});};export default NotificationManager;","map":{"version":3,"names":["React","useState","useEffect","Bell","BellOff","CheckCircle","AlertTriangle","XCircle","Settings","notificationService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NotificationManager","permission","setPermission","isMonitoring","setIsMonitoring","monitoringStatus","setMonitoringStatus","showPanel","setShowPanel","init","updateStatus","interval","setInterval","clearInterval","checkInterval","getMonitoringStatus","handleEnableNotifications","granted","requestPermission","handleDisableNotifications","stopMonitoring","getStatusColor","isOnline","getStatusIcon","size","children","className","concat","onClick","title","Object","keys","length","values","filter","s","entries","map","_ref","nodeId","status","minutesSinceUpdate"],"sources":["/run/media/thobbs/EastManPhoenyXP/WALEKI_FRONTEND/WALEKI-FRONT/src/components/NotificationManager.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Bell, BellOff, CheckCircle, AlertTriangle, XCircle, Settings } from 'lucide-react';\nimport notificationService from '../services/NotificationService';\n\nconst NotificationManager = () => {\n  const [permission, setPermission] = useState('default');\n  const [isMonitoring, setIsMonitoring] = useState(false);\n  const [monitoringStatus, setMonitoringStatus] = useState({});\n  const [showPanel, setShowPanel] = useState(false);\n\n  useEffect(() => {\n    // Initialize on mount\n    const init = async () => {\n      await notificationService.init();\n      setPermission(notificationService.permission);\n      updateStatus();\n    };\n    init();\n\n    // Update status every 30 seconds\n    const interval = setInterval(updateStatus, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const updateStatus = () => {\n    setPermission(notificationService.permission);\n    setIsMonitoring(notificationService.checkInterval !== null);\n    setMonitoringStatus(notificationService.getMonitoringStatus());\n  };\n\n  const handleEnableNotifications = async () => {\n    const granted = await notificationService.requestPermission();\n    setPermission(granted ? 'granted' : 'denied');\n    if (granted) {\n      setIsMonitoring(true);\n    }\n  };\n\n  const handleDisableNotifications = () => {\n    notificationService.stopMonitoring();\n    setIsMonitoring(false);\n  };\n\n  const getStatusColor = (isOnline) => {\n    return isOnline ? '#16A34A' : '#DC2626';\n  };\n\n  const getStatusIcon = (isOnline) => {\n    return isOnline ? <CheckCircle size={16} /> : <AlertTriangle size={16} />;\n  };\n\n  return (\n    <>\n      <style jsx>{`\n        .notification-manager {\n          position: relative;\n        }\n\n        .notification-button {\n          position: relative;\n          width: 44px;\n          height: 44px;\n          border-radius: 12px;\n          background: #FAFAFA;\n          border: 1px solid #F0F0F0;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          color: #666;\n        }\n\n        .notification-button:hover {\n          background: #F0F0F0;\n          color: #000;\n          transform: translateY(-1px);\n        }\n\n        .notification-button.active {\n          background: #000;\n          color: white;\n          border-color: #000;\n        }\n\n        .notification-badge {\n          position: absolute;\n          top: -6px;\n          right: -6px;\n          background: #DC2626;\n          color: white;\n          font-size: 10px;\n          font-weight: 700;\n          padding: 3px 7px;\n          border-radius: 12px;\n          min-width: 20px;\n          text-align: center;\n          border: 2px solid white;\n          box-shadow: 0 2px 8px rgba(220, 38, 38, 0.3);\n        }\n\n        .status-dot {\n          position: absolute;\n          bottom: -2px;\n          right: -2px;\n          width: 12px;\n          height: 12px;\n          border-radius: 50%;\n          background: #16A34A;\n          border: 2px solid white;\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n        }\n\n        .status-dot.inactive {\n          background: #999;\n        }\n\n        /* Panel */\n        .notification-panel {\n          position: absolute;\n          top: calc(100% + 12px);\n          right: 0;\n          width: 380px;\n          background: white;\n          border-radius: 16px;\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);\n          border: 1px solid #E8E8E8;\n          padding: 20px;\n          animation: slideDown 0.2s ease;\n          z-index: 1000;\n        }\n\n        @keyframes slideDown {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        .panel-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 20px;\n          padding-bottom: 16px;\n          border-bottom: 1px solid #F0F0F0;\n        }\n\n        .panel-title {\n          font-size: 18px;\n          font-weight: 700;\n          color: #000;\n          display: flex;\n          align-items: center;\n          gap: 10px;\n        }\n\n        .close-btn {\n          width: 32px;\n          height: 32px;\n          border-radius: 8px;\n          background: #FAFAFA;\n          border: none;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          color: #666;\n        }\n\n        .close-btn:hover {\n          background: #F0F0F0;\n          color: #000;\n        }\n\n        /* Permission Section */\n        .permission-section {\n          padding: 16px;\n          background: #FAFAFA;\n          border-radius: 12px;\n          margin-bottom: 20px;\n        }\n\n        .permission-status {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          margin-bottom: 12px;\n        }\n\n        .status-icon {\n          width: 40px;\n          height: 40px;\n          border-radius: 10px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-shrink: 0;\n        }\n\n        .status-icon.granted {\n          background: #DCFCE7;\n          color: #16A34A;\n        }\n\n        .status-icon.denied {\n          background: #FEE2E2;\n          color: #DC2626;\n        }\n\n        .status-icon.default {\n          background: #F0F0F0;\n          color: #666;\n        }\n\n        .status-text h4 {\n          font-size: 14px;\n          font-weight: 700;\n          color: #000;\n          margin-bottom: 2px;\n        }\n\n        .status-text p {\n          font-size: 12px;\n          color: #666;\n        }\n\n        .enable-btn {\n          width: 100%;\n          padding: 12px;\n          background: #000;\n          color: white;\n          border: none;\n          border-radius: 10px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n          transition: all 0.2s ease;\n        }\n\n        .enable-btn:hover {\n          background: #333;\n          transform: translateY(-1px);\n        }\n\n        .enable-btn.danger {\n          background: #DC2626;\n        }\n\n        .enable-btn.danger:hover {\n          background: #B91C1C;\n        }\n\n        /* Monitoring Status */\n        .monitoring-section {\n          margin-bottom: 16px;\n        }\n\n        .section-title {\n          font-size: 13px;\n          font-weight: 700;\n          color: #000;\n          margin-bottom: 12px;\n          text-transform: uppercase;\n          letter-spacing: 0.3px;\n        }\n\n        .node-list {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n          max-height: 200px;\n          overflow-y: auto;\n        }\n\n        .node-item {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 10px 12px;\n          background: #FAFAFA;\n          border-radius: 10px;\n          border: 1px solid #F0F0F0;\n        }\n\n        .node-info {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n        }\n\n        .node-name {\n          font-size: 13px;\n          font-weight: 600;\n          color: #000;\n        }\n\n        .node-time {\n          font-size: 11px;\n          color: #999;\n        }\n\n        .node-status {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          padding: 4px 10px;\n          border-radius: 8px;\n          font-size: 11px;\n          font-weight: 700;\n          text-transform: uppercase;\n          letter-spacing: 0.3px;\n        }\n\n        .node-status.online {\n          background: #DCFCE7;\n          color: #16A34A;\n        }\n\n        .node-status.offline {\n          background: #FEE2E2;\n          color: #DC2626;\n        }\n\n        .empty-state {\n          text-align: center;\n          padding: 32px 16px;\n          color: #999;\n        }\n\n        .empty-state svg {\n          margin: 0 auto 12px;\n          opacity: 0.5;\n        }\n\n        .empty-state p {\n          font-size: 13px;\n        }\n\n        /* Info Box */\n        .info-box {\n          padding: 12px;\n          background: #F0F9FF;\n          border: 1px solid #BAE6FD;\n          border-radius: 10px;\n          font-size: 12px;\n          color: #0369A1;\n          line-height: 1.6;\n        }\n\n        @media (max-width: 480px) {\n          .notification-panel {\n            width: calc(100vw - 32px);\n            right: -100px;\n          }\n        }\n      `}</style>\n\n      <div className=\"notification-manager\">\n        {/* Notification Button */}\n        <button\n          className={`notification-button ${permission === 'granted' && isMonitoring ? 'active' : ''}`}\n          onClick={() => setShowPanel(!showPanel)}\n          title=\"Notifications\"\n        >\n          {permission === 'granted' && isMonitoring ? (\n            <Bell size={19} />\n          ) : (\n            <BellOff size={19} />\n          )}\n          \n          {Object.keys(monitoringStatus).length > 0 && (\n            <span className=\"notification-badge\">\n              {Object.values(monitoringStatus).filter(s => !s.isOnline).length}\n            </span>\n          )}\n\n          {isMonitoring && (\n            <span className={`status-dot ${isMonitoring ? '' : 'inactive'}`}></span>\n          )}\n        </button>\n\n        {/* Notification Panel */}\n        {showPanel && (\n          <div className=\"notification-panel\">\n            <div className=\"panel-header\">\n              <div className=\"panel-title\">\n                <Bell size={20} />\n                Notifications\n              </div>\n              <button className=\"close-btn\" onClick={() => setShowPanel(false)}>\n                <XCircle size={18} />\n              </button>\n            </div>\n\n            {/* Permission Section */}\n            <div className=\"permission-section\">\n              <div className=\"permission-status\">\n                <div className={`status-icon ${permission}`}>\n                  {permission === 'granted' ? (\n                    <CheckCircle size={20} />\n                  ) : permission === 'denied' ? (\n                    <XCircle size={20} />\n                  ) : (\n                    <Bell size={20} />\n                  )}\n                </div>\n                <div className=\"status-text\">\n                  <h4>\n                    {permission === 'granted'\n                      ? 'Notifications Enabled'\n                      : permission === 'denied'\n                      ? 'Notifications Blocked'\n                      : 'Notifications Disabled'}\n                  </h4>\n                  <p>\n                    {permission === 'granted'\n                      ? 'Monitoring sensor data flow'\n                      : permission === 'denied'\n                      ? 'Enable in browser settings'\n                      : 'Click below to enable alerts'}\n                  </p>\n                </div>\n              </div>\n\n              {permission === 'default' && (\n                <button className=\"enable-btn\" onClick={handleEnableNotifications}>\n                  <Bell size={16} />\n                  Enable Notifications\n                </button>\n              )}\n\n              {permission === 'granted' && isMonitoring && (\n                <button className=\"enable-btn danger\" onClick={handleDisableNotifications}>\n                  <BellOff size={16} />\n                  Disable Monitoring\n                </button>\n              )}\n            </div>\n\n            {/* Monitoring Status */}\n            {permission === 'granted' && Object.keys(monitoringStatus).length > 0 && (\n              <div className=\"monitoring-section\">\n                <div className=\"section-title\">Sensor Status</div>\n                <div className=\"node-list\">\n                  {Object.entries(monitoringStatus).map(([nodeId, status]) => (\n                    <div key={nodeId} className=\"node-item\">\n                      <div className=\"node-info\">\n                        <div>\n                          <div className=\"node-name\">{nodeId}</div>\n                          <div className=\"node-time\">\n                            {status.minutesSinceUpdate}m ago\n                          </div>\n                        </div>\n                      </div>\n                      <div className={`node-status ${status.isOnline ? 'online' : 'offline'}`}>\n                        {getStatusIcon(status.isOnline)}\n                        {status.isOnline ? 'Online' : 'Offline'}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Empty State */}\n            {permission === 'granted' && Object.keys(monitoringStatus).length === 0 && (\n              <div className=\"empty-state\">\n                <Settings size={32} />\n                <p>No sensors being monitored yet.<br/>They will appear once data starts flowing.</p>\n              </div>\n            )}\n\n            {/* Info Box */}\n            {permission === 'granted' && (\n              <div className=\"info-box\">\n                ðŸ’¡ You'll receive alerts when sensors stop sending data for 5+ minutes, and when they resume.\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default NotificationManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}